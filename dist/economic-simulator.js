/*! For license information please see economic-simulator.js.LICENSE.txt */
var economicSimulator;(()=>{var e={44:(e,t,n)=>{const i=n(46),o="#4d8b31";var r=i.Engine,s=i.Render,a=i.Runner,l=i.Body,c=i.Events,u=i.Composite,d=i.Composites,p=i.Common,f=(i.World,i.Bodies);function m(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}class y{constructor(e){this.owner=e,this.cash=0}getCashAmount(){return this.cash}canAffordIt(e){return this.cash>=e}getSizingRatio(e){return(1.2*this.cash+6)/(1.2*(this.cash-e)+6)}updateSize(e){let t=this.getSizingRatio(e);this.owner.updateSize(t)}income(e){this.cash+=e,this.updateSize(e)}}class v extends y{destroyMoney(e){this.canAffordIt(e)&&(this.cash-=e)}pay(e,t){return this.canAffordIt(t)?(this.cash-=t,e.income(t),this.updateSize(-t),t):0}}class g{constructor(e){this.availablePeople=e.slice(),this.busyPeople=[]}getRecruit(){if(0===this.availablePeople.length)return null;const e=this.availablePeople.pop();return this.busyPeople.push(e),e}freeRecruit(e){const t=this.busyPeople.indexOf(e);t>-1&&(this.busyPeople.splice(t,1),this.availablePeople.unshift(e))}}class h{constructor(e,t,n=7){this.company=e,this.humanResourcesHandler=t,this.employees=[],this.maxEmployees=n}payEmployees(e){for(var t=0,n=0;n<this.employees.length;n++)0===this.company.pay(this.employees[n],e)&&(t+=1);for(n=0;n<t;n++)this.fireAnEmployee();this.company.wallet.canAffordIt(e+2*this.employees.length)&&this.employees.length<this.maxEmployees&&this.recruitAnEmployee()}recruitAnEmployee(){const e=this.humanResourcesHandler.getRecruit();return e&&this.employees.push(e),e}fireAnEmployee(){this.humanResourcesHandler.freeRecruit(this.employees.pop())}}class x{constructor(e){this.shape=e,this.wallet=new v(this),this.shape.owner=this,this.speed=0}updateSize(e){i.Body.scale(this.shape,e,e)}income(e){this.wallet.income(e)}pay(e,t){this.wallet.pay(e,t)}setColor(e){this.shape.render.fillStyle=e}setSpeed(e){this.speed=e}updateSpeed(){l.setSpeed(this.shape,this.speed)}}class b extends x{}class S extends x{constructor(e,t){super(e),this.humanResourcesHandler=t}}class w extends x{}e.exports={Person:b,Company:S,Bank:w,AbstractWallet:y,Wallet:v,OrganicWallet:class extends y{constructor(e){super(e),this.total=0}pay(e,t){return this.canAffordIt(t)?(this.cash-=t,e.income(t),this.updateSize(-t),t):0}income(e){this.total+=e}createDailyMoney(){let e=Math.floor(Math.cbrt(this.total))+1;this.cash+=e,this.updateSize(e)}},HumanResourcesHandler:g,AdminService:h,Simulation:class{constructor(e){this.lastTime=p.now(),this.elementId=e,this.started=!1,this.paused=!0,this.speeds=[],this.CtoCTransactionAmount=1,this.humanResourcesHandler=null,this.counter=0,this.engine=r.create(),this.engine.gravity.scale=0,this.world=this.engine.world;var t=document.getElementById(this.elementId);this.renderer=s.create({element:t,engine:this.engine,options:{wireframes:!1,background:"transaparent"}});let n=this.renderer;this.engine;var i=function(){var e=t.clientWidth,i=t.clientHeight;console.log(t,e,i),n.canvas.style.width=`${e}px`,n.canvas.style.height=2*e/3+"px"};i(),window.addEventListener("resize",i)}render(){return s.run(this.renderer),this}run(){this.runner=this.runner||a.create(),a.run(this.runner,this.engine)}init(){return this.render(),this.run(),s.stop(this.renderer),a.stop(this.runner),this}start(){this.started||(this.shakeScene(),this.started=!0),this.paused&&(this.paused=!1,this.logTotalCashInSimulation(),this.render(),this.run())}stop(){this.started&&(s.stop(this.renderer),a.stop(this.runner),this.paused=!0)}logTotalCashInSimulation(){console.group("counting cash"),console.log(this.people.length,"people");for(var e=0,t=0;t<this.people.length;t++)e+=this.people[t].wallet.getCashAmount();if(this.companies)for(console.log(this.companies.length,"companies"),t=0;t<this.companies.length;t++)e+=this.companies[t].wallet.getCashAmount();return console.log(e,"â‚¬ total"),console.groupEnd(),e}addBorders(){var e={fillStyle:o};return u.add(this.world,[f.rectangle(400,0,800,10,{isStatic:!0,render:e}),f.rectangle(400,600,800,10,{isStatic:!0,render:e}),f.rectangle(800,300,10,600,{isStatic:!0,render:e}),f.rectangle(0,300,10,600,{isStatic:!0,render:e})]),this}addSplit(){var e={fillStyle:o};return u.add(this.world,[f.rectangle(400,300,20,600,{isStatic:!0,render:e})]),this}addPeople(){const e=d.stack(70,100,8,5,50,50,(function(e,t){return f.circle(e,t,3,{restitution:1,render:{fillStyle:"#4d8b31"}})}));u.add(this.world,e),this.people=[];for(var t=0;t<e.bodies.length;t++)this.people.push(new b(e.bodies[t]));return this.humanResourcesHandler=new g(this.people),this}setPeopleCapital(e,t=!1){var n=function(){return e};t&&(n=function(){return Math.round(p.random()*e)});for(var i=0;i<this.people.length;i++)e=n(),this.people[i].income(e);return this}setPeopleColor(e=null){var t=function(){return e};e||(t=m);for(var n=0;n<this.people.length;n++)this.people[n].setColor(t());return this}setPeopleSpeed(e,t=!1){for(var n=0;n<this.people.length;n++){let i=t?p.random():1;this.people[n].setSpeed(i*e)}this.engine;var i=this.people;return c.on(this.engine,"beforeUpdate",(function(e){for(var t=0;t<i.length;t++)i[t].updateSpeed()})),this}shakeScene(){for(var e=u.allBodies(this.engine.world),t=0;t<e.length;t++){var n=e[t],i=.03*n.mass;l.applyForce(n,n.position,{x:(i+p.random()*i)*p.choose([1,-1]),y:-i+p.random()*-i})}}setPeopleTransactionsOn(e){return c.on(this.engine,"collisionStart",(function(t){for(var n=t.pairs,i=0;i<n.length;i++){var o=n[i];if("Circle Body"===o.bodyA.label&&"Circle Body"===o.bodyB.label){var r=p.choose([o.bodyA,o.bodyB]),s=r===o.bodyA?o.bodyB:o.bodyA;r.owner.pay(s.owner,e)}}})),this}addCompanies(e){const t=d.stack(500,100,2,Math.round(e/2),50,50,(function(e,t){return f.rectangle(e,t,15,15,{restitution:1,render:{fillStyle:m()}})}));u.add(this.world,t),this.companies=[];for(var n=0;n<t.bodies.length;n++)this.companies.push(new S(t.bodies[n],this.humanResourcesHandler));return this}setCompaniesCapital(e,t=!1){var n=function(){return e};t&&(n=function(){return Math.round(p.random()*e)});for(var i=0;i<this.companies.length;i++)this.companies[i].income(n());return this}setCompaniesTransactionOn(e,t){return c.on(this.engine,"collisionStart",(function(n){for(var i=n.pairs,o=0;o<i.length;o++){var r=i[o],s=r.bodyA,a=r.bodyB;if(!s.isStatic&&!a.isStatic)if("Rectangle Body"===s.label&&"Circle Body"===a.label)a.owner.pay(s.owner,t);else if("Circle Body"===s.label&&"Rectangle Body"===a.label)s.owner.pay(a.owner,t);else if("Rectangle Body"===s.label&&"Rectangle Body"===a.label){var l=p.choose([s,a]),c=l===s?a:s;l.owner.pay(c.owner,e)}}})),this}setCompaniesSalariesOn(e){var t=this.companies,n=this,i=this.lastTime;return c.on(this.engine,"beforeUpdate",(function(o){if(p.now()-i>=5e3){n.logTotalCashInSimulation();for(var r=0;r<t.length;r++)t[r].adminService.payEmployees(e);i=p.now()}})),this}setCompaniesSpeed(e,t=!1){for(var n=0;n<this.companies.length;n++)this.companies[n].customSpeed=e,t&&(this.companies[n].customSpeed=p.random()*e);this.engine;var i=this.companies;return c.on(this.engine,"beforeUpdate",(function(e){for(var t=0;t<i.length;t++)l.setSpeed(i[t],i[t].customSpeed)})),this}addBanks(e){const t=d.stack(500,200,2,Math.round(e/2),50,50,(function(e,t){return f.polygon(e,t,3,15,{restitution:1,render:{fillStyle:"#666666"}})}));u.add(this.world,t),this.banks=[];for(var n=0;n<t.bodies.length;n++)this.banks.push(new w(t.bodies[n]));return this}setBanksLoanOn(e){let t=this.counter;const n=this.engine;return c.on(n,"collisionStart",(function(i){var o=i.pairs;let r=p.now();for(var s=0;s<o.length;s++){var a=o[s],l=a.bodyA,u=a.bodyB;if("Polygon Body"!==l.label&&"Polygon Body"!==u.label||(t+=1),!l.isStatic&&!u.isStatic&&("Polygon Body"===l.label||"Polygon Body"===u.label)&&t>=e){const e="Polygon Body"===l.label?l:u,i="Polygon Body"===l.label?u:l;if(i.loan&&i.loan>0)return;t=0,i.wallet.income(10),i.loan=11,console.log(e.label,"making loan to",i.label),c.on(n,"beforeUpdate",(function(t){p.now()-r>=2e3&&(i.loan>0&&(11===i.loan&&i.wallet.pay(e,1),i.loan-=1,i.wallet.destroyMoney(1)),r=p.now())}))}}})),this}setBanksColor(e=null){var t=function(){return e};e||(t=m);for(var n=0;n<this.banks.length;n++)this.banks[n].setColor(t());return this}setBanksSpeed(e,t=!1){for(var n=0;n<this.banks.length;n++)this.banks[n].customSpeed=e,t&&(this.banks[n].customSpeed=p.random()*e);this.engine;var i=this.banks;return c.on(this.engine,"beforeUpdate",(function(e){for(var t=0;t<i.length;t++)l.setSpeed(i[t],i[t].customSpeed)})),this}setBanksCapital(e,t=!1){var n=function(){return e};t&&(n=function(){return Math.round(p.random()*e)});for(var i=0;i<this.banks.length;i++)this.banks[i].adminService=new h(this.banks[i],this.humanResourcesHandler),this.banks[i].wallet.income(n());return this}setBanksSalariesOn(e){var t=this.banks;return c.on(this.engine,"beforeUpdate",(function(n){if(p.now()-lastTime>=5e3){for(var i=0;i<t.length;i++)t[i].adminService.payEmployees(e);lastTime=p.now()}})),this}},SimulationHandler:class{constructor(){this.simulations=[]}add(e,t){this.bindSimulationToButtons(t,e),this.simulations.push(t)}bindSimulationToButtons(e,t){var n=this.simulations;document.getElementById(`${t}Start`).addEventListener("click",(function(t){for(var i=0;i<n.length;i++)n[i]!==e&&n[i].stop();e.start()})),document.getElementById(`${t}Pause`).addEventListener("click",(function(t){t.preventDefault(),e.stop()}))}}}},46:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){var i={};e.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(e,t){var n,o;"boolean"==typeof t?(n=2,o=t):(n=1,o=!0);for(var r=n;r<arguments.length;r++){var s=arguments[r];if(s)for(var a in s)o&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},i.extend(e[a],o,s[a])):e[a]=s[a]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},i.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var o in e)t.push(e[o]);return t},i.get=function(e,t,n,i){t=t.split(".").slice(n,i);for(var o=0;o<t.length;o+=1)e=e[t[o]];return e},i.set=function(e,t,n,o,r){var s=t.split(".").slice(o,r);return i.get(e,t,0,-1)[s[s.length-1]]=n,n},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(i.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},i.isString=function(e){return"[object String]"===toString.call(e)},i.clamp=function(e,t,n){return e<t?t:e>n?n:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(t,n){return n=void 0!==n?n:1,(t=void 0!==t?t:0)+e()*(n-t)};var e=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[e]||(i.warn(e),i._warnedOnce[e]=!0)},i.deprecated=function(e,t,n){e[t]=i.chain((function(){i.warnOnce("ðŸ”… deprecated ðŸ”…",n)}),e[t])},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},i.map=function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n},i.topologicalSort=function(e){var t=[],n=[],o=[];for(var r in e)n[r]||o[r]||i._topologicalSort(r,n,o,e,t);return t},i._topologicalSort=function(e,t,n,o,r){var s=o[e]||[];n[e]=!0;for(var a=0;a<s.length;a+=1){var l=s[a];n[l]||t[l]||i._topologicalSort(l,t,n,o,r)}n[e]=!1,t[e]=!0,r.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var i=function(){for(var t,n=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)n[i]=arguments[i];for(i=0;i<e.length;i+=1){var r=e[i].apply(t,n);void 0!==r&&(t=r)}return t};return i._chained=e,i},i.chainPathBefore=function(e,t,n){return i.set(e,t,i.chain(n,i.get(e,t)))},i.chainPathAfter=function(e,t,n){return i.set(e,t,i.chain(i.get(e,t),n))},i.setDecomp=function(e){i._decomp=e},i.getDecomp=function(){var e=i._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===n.g||(e=n.g.decomp)}catch(t){e=null}return e}}()},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<t.length;i++){var o=t[i];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+i}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var i=Math.cos(t),o=Math.sin(t);n||(n={});var r=e.x*i-e.y*o;return n.y=e.x*o+e.y*i,n.x=r,n},n.rotateAbout=function(e,t,n,i){var o=Math.cos(t),r=Math.sin(t);i||(i={});var s=n.x+((e.x-n.x)*o-(e.y-n.y)*r);return i.y=n.y+((e.x-n.x)*r+(e.y-n.y)*o),i.x=s,i},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(0);i.create=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i],r={x:o.x,y:o.y,index:i,body:t,isInternal:!1};n.push(r)}return n},i.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,i){n.push({x:parseFloat(t),y:parseFloat(i)})})),i.create(n,t)},i.centre=function(e){for(var t,n,r,s=i.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)r=(l+1)%e.length,t=o.cross(e[l],e[r]),n=o.mult(o.add(e[l],e[r]),t),a=o.add(a,n);return o.div(a,6*s)},i.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return o.div(t,e.length)},i.area=function(e,t){for(var n=0,i=e.length-1,o=0;o<e.length;o++)n+=(e[i].x-e[o].x)*(e[i].y+e[o].y),i=o;return t?n/2:Math.abs(n)/2},i.inertia=function(e,t){for(var n,i,r=0,s=0,a=e,l=0;l<a.length;l++)i=(l+1)%a.length,r+=(n=Math.abs(o.cross(a[i],a[l])))*(o.dot(a[i],a[i])+o.dot(a[i],a[l])+o.dot(a[l],a[l])),s+=n;return t/6*(r/s)},i.translate=function(e,t,n){n=void 0!==n?n:1;var i,o=e.length,r=t.x*n,s=t.y*n;for(i=0;i<o;i++)e[i].x+=r,e[i].y+=s;return e},i.rotate=function(e,t,n){if(0!==t){var i,o,r,s,a=Math.cos(t),l=Math.sin(t),c=n.x,u=n.y,d=e.length;for(s=0;s<d;s++)o=(i=e[s]).x-c,r=i.y-u,i.x=c+(o*a-r*l),i.y=u+(o*l+r*a);return e}},i.contains=function(e,t){for(var n,i=t.x,o=t.y,r=e.length,s=e[r-1],a=0;a<r;a++){if(n=e[a],(i-s.x)*(n.y-s.y)+(o-s.y)*(s.x-n.x)>0)return!1;s=n}return!0},i.scale=function(e,t,n,r){if(1===t&&1===n)return e;var s,a;r=r||i.centre(e);for(var l=0;l<e.length;l++)s=e[l],a=o.sub(s,r),e[l].x=r.x+a.x*t,e[l].y=r.y+a.y*n;return e},i.chamfer=function(e,t,n,i,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,i=i||2,s=s||14;for(var a=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],d=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0!==p){var f=o.normalise({x:u.y-c.y,y:c.x-u.x}),m=o.normalise({x:d.y-u.y,y:u.x-d.x}),y=Math.sqrt(2*Math.pow(p,2)),v=o.mult(r.clone(f),p),g=o.normalise(o.mult(o.add(f,m),.5)),h=o.sub(u,o.mult(g,y)),x=n;-1===n&&(x=1.75*Math.pow(p,.32)),(x=r.clamp(x,i,s))%2==1&&(x+=1);for(var b=Math.acos(o.dot(f,m))/x,S=0;S<x;S++)a.push(o.add(o.rotate(v,b*S),h))}else a.push(u)}return a},i.clockwiseSort=function(e){var t=i.mean(e);return e.sort((function(e,n){return o.angle(t,e)-o.angle(t,n)})),e},i.isConvex=function(e){var t,n,i,o,r=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(i=(t+2)%s,o=(e[n=(t+1)%s].x-e[t].x)*(e[i].y-e[n].y),(o-=(e[n].y-e[t].y)*(e[i].x-e[n].x))<0?r|=1:o>0&&(r|=2),3===r)return!1;return 0!==r||null},i.hull=function(e){var t,n,i=[],r=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];i.length>=2&&o.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}return i.pop(),r.pop(),i.concat(r)}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(2),s=n(7),a=n(0),l=n(1),c=n(11);!function(){i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=a.extend(n,t);return e(i,t),i},i.nextGroup=function(e){return e?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var e=function(e,t){t=t||{},i.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),o.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),i.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),s=e.isStatic?"#555":"#ccc",u=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||s,e.render.lineWidth=e.render.lineWidth||u,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};i.set=function(e,t,n){var o;for(o in"string"==typeof t&&(o=t,(t={})[o]=n),t)if(Object.prototype.hasOwnProperty.call(t,o))switch(n=t[o],o){case"isStatic":i.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":i.setMass(e,n);break;case"density":i.setDensity(e,n);break;case"inertia":i.setInertia(e,n);break;case"vertices":i.setVertices(e,n);break;case"position":i.setPosition(e,n);break;case"angle":i.setAngle(e,n);break;case"velocity":i.setVelocity(e,n);break;case"angularVelocity":i.setAngularVelocity(e,n);break;case"speed":i.setSpeed(e,n);break;case"angularSpeed":i.setAngularSpeed(e,n);break;case"parts":i.setParts(e,n);break;case"centre":i.setCentre(e,n);break;default:e[o]=n}},i.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var i=e.parts[n];t?(i.isStatic||(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia}),i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,i._original=null),i.isStatic=t}},i.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},i.setDensity=function(e,t){i.setMass(e,t*e.area),e.density=t},i.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},i.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=o.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=o.area(e.vertices),i.setMass(e,e.density*e.area);var n=o.centre(e.vertices);o.translate(e.vertices,n,-1),i.setInertia(e,i._inertiaScale*o.inertia(e.vertices,e.mass)),o.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},i.setParts=function(e,t,n){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var s=t[r];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(r=0;r<t.length;r++)a=a.concat(t[r].vertices);o.clockwiseSort(a);var l=o.hull(a),c=o.centre(l);i.setVertices(e,l),o.translate(e.vertices,c)}var u=i._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,i.setMass(e,u.mass),i.setInertia(e,u.inertia),i.setPosition(e,u.centre)}},i.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},i.setPosition=function(e,t,n){var i=r.sub(t,e.position);n?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=i.x,e.velocity.y=i.y,e.speed=r.magnitude(i)):(e.positionPrev.x+=i.x,e.positionPrev.y+=i.y);for(var s=0;s<e.parts.length;s++){var a=e.parts[s];a.position.x+=i.x,a.position.y+=i.y,o.translate(a.vertices,i),l.update(a.bounds,a.vertices,e.velocity)}},i.setAngle=function(e,t,n){var i=t-e.angle;n?(e.anglePrev=e.angle,e.angularVelocity=i,e.angularSpeed=Math.abs(i)):e.anglePrev+=i;for(var s=0;s<e.parts.length;s++){var a=e.parts[s];a.angle+=i,o.rotate(a.vertices,i,e.position),c.rotate(a.axes,i),l.update(a.bounds,a.vertices,e.velocity),s>0&&r.rotateAbout(a.position,i,e.position,a.position)}},i.setVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.positionPrev.x=e.position.x-t.x*n,e.positionPrev.y=e.position.y-t.y*n,e.velocity.x=(e.position.x-e.positionPrev.x)/n,e.velocity.y=(e.position.y-e.positionPrev.y)/n,e.speed=r.magnitude(e.velocity)},i.getVelocity=function(e){var t=i._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},i.getSpeed=function(e){return r.magnitude(i.getVelocity(e))},i.setSpeed=function(e,t){i.setVelocity(e,r.mult(r.normalise(i.getVelocity(e)),t))},i.setAngularVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.anglePrev=e.angle-t*n,e.angularVelocity=(e.angle-e.anglePrev)/n,e.angularSpeed=Math.abs(e.angularVelocity)},i.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*i._baseDelta/e.deltaTime},i.getAngularSpeed=function(e){return Math.abs(i.getAngularVelocity(e))},i.setAngularSpeed=function(e,t){i.setAngularVelocity(e,a.sign(i.getAngularVelocity(e))*t)},i.translate=function(e,t,n){i.setPosition(e,r.add(e.position,t),n)},i.rotate=function(e,t,n,o){if(n){var r=Math.cos(t),s=Math.sin(t),a=e.position.x-n.x,l=e.position.y-n.y;i.setPosition(e,{x:n.x+(a*r-l*s),y:n.y+(a*s+l*r)},o),i.setAngle(e,e.angle+t,o)}else i.setAngle(e,e.angle+t,o)},i.scale=function(e,t,n,r){var s=0,a=0;r=r||e.position;for(var u=0;u<e.parts.length;u++){var d=e.parts[u];o.scale(d.vertices,t,n,r),d.axes=c.fromVertices(d.vertices),d.area=o.area(d.vertices),i.setMass(d,e.density*d.area),o.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),i.setInertia(d,i._inertiaScale*o.inertia(d.vertices,d.mass)),o.translate(d.vertices,{x:d.position.x,y:d.position.y}),u>0&&(s+=d.area,a+=d.inertia),d.position.x=r.x+(d.position.x-r.x)*t,d.position.y=r.y+(d.position.y-r.y)*n,l.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(i.setMass(e,e.density*s),i.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},i.update=function(e,t){var n=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,s=i._timeCorrection?t/(e.deltaTime||t):1,u=1-e.frictionAir*(t/a._baseDelta),d=(e.position.x-e.positionPrev.x)*s,p=(e.position.y-e.positionPrev.y)*s;e.velocity.x=d*u+e.force.x/e.mass*n,e.velocity.y=p*u+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*u*s+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var f=0;f<e.parts.length;f++){var m=e.parts[f];o.translate(m.vertices,e.velocity),f>0&&(m.position.x+=e.velocity.x,m.position.y+=e.velocity.y),0!==e.angularVelocity&&(o.rotate(m.vertices,e.angularVelocity,e.position),c.rotate(m.axes,e.angularVelocity),f>0&&r.rotateAbout(m.position,e.angularVelocity,e.position,m.position)),l.update(m.bounds,m.vertices,e.velocity)}},i.updateVelocities=function(e){var t=i._baseDelta/e.deltaTime,n=e.velocity;n.x=(e.position.x-e.positionPrev.x)*t,n.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(n.x*n.x+n.y*n.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},i.applyForce=function(e,t,n){var i=t.x-e.position.x,o=t.y-e.position.y;e.force.x+=n.x,e.force.y+=n.y,e.torque+=i*n.y-o*n.x},i._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var i=e.parts[n],o=i.mass!==1/0?i.mass:1;t.mass+=o,t.area+=i.area,t.inertia+=i.inertia,t.centre=r.add(t.centre,r.mult(i.position,o))}return t.centre=r.div(t.centre,t.mass),t}}()},function(e,t,n){var i={};e.exports=i;var o=n(0);i.on=function(e,t,n){for(var i,o=t.split(" "),r=0;r<o.length;r++)i=o[r],e.events=e.events||{},e.events[i]=e.events[i]||[],e.events[i].push(n);return n},i.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=o.keys(e.events).join(" "));for(var i=t.split(" "),r=0;r<i.length;r++){var s=e.events[i[r]],a=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&a.push(s[l]);e.events[i[r]]=a}}else e.events={}},i.trigger=function(e,t,n){var i,r,s,a,l=e.events;if(l&&o.keys(l).length>0){n||(n={}),i=t.split(" ");for(var c=0;c<i.length;c++)if(s=l[r=i[c]]){(a=o.clone(n,!1)).name=r,a.source=e;for(var u=0;u<s.length;u++)s[u].apply(e,[a])}}}},function(e,t,n){var i={};e.exports=i;var o=n(5),r=n(0),s=n(1),a=n(4);i.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},i.setModified=function(e,t,n,o){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),n&&e.parent&&i.setModified(e.parent,t,n,o),o)for(var r=0;r<e.composites.length;r++){var s=e.composites[r];i.setModified(s,t,n,o)}},i.add=function(e,t){var n=[].concat(t);o.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(e,a);break;case"constraint":i.addConstraint(e,a);break;case"composite":i.addComposite(e,a);break;case"mouseConstraint":i.addConstraint(e,a.constraint)}}return o.trigger(e,"afterAdd",{object:t}),e},i.remove=function(e,t,n){var r=[].concat(t);o.trigger(e,"beforeRemove",{object:t});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":i.removeBody(e,a,n);break;case"constraint":i.removeConstraint(e,a,n);break;case"composite":i.removeComposite(e,a,n);break;case"mouseConstraint":i.removeConstraint(e,a.constraint)}}return o.trigger(e,"afterRemove",{object:t}),e},i.addComposite=function(e,t){return e.composites.push(t),t.parent=e,i.setModified(e,!0,!0,!1),e},i.removeComposite=function(e,t,n){var o=r.indexOf(e.composites,t);if(-1!==o){var s=i.allBodies(t);i.removeCompositeAt(e,o);for(var a=0;a<s.length;a++)s[a].sleepCounter=0}if(n)for(a=0;a<e.composites.length;a++)i.removeComposite(e.composites[a],t,!0);return e},i.removeCompositeAt=function(e,t){return e.composites.splice(t,1),i.setModified(e,!0,!0,!1),e},i.addBody=function(e,t){return e.bodies.push(t),i.setModified(e,!0,!0,!1),e},i.removeBody=function(e,t,n){var o=r.indexOf(e.bodies,t);if(-1!==o&&(i.removeBodyAt(e,o),t.sleepCounter=0),n)for(var s=0;s<e.composites.length;s++)i.removeBody(e.composites[s],t,!0);return e},i.removeBodyAt=function(e,t){return e.bodies.splice(t,1),i.setModified(e,!0,!0,!1),e},i.addConstraint=function(e,t){return e.constraints.push(t),i.setModified(e,!0,!0,!1),e},i.removeConstraint=function(e,t,n){var o=r.indexOf(e.constraints,t);if(-1!==o&&i.removeConstraintAt(e,o),n)for(var s=0;s<e.composites.length;s++)i.removeConstraint(e.composites[s],t,!0);return e},i.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),i.setModified(e,!0,!0,!1),e},i.clear=function(e,t,n){if(n)for(var o=0;o<e.composites.length;o++)i.clear(e.composites[o],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,i.setModified(e,!0,!0,!1),e},i.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(i.allBodies(e.composites[n]));return e.cache&&(e.cache.allBodies=t),t},i.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(i.allConstraints(e.composites[n]));return e.cache&&(e.cache.allConstraints=t),t},i.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(i.allComposites(e.composites[n]));return e.cache&&(e.cache.allComposites=t),t},i.get=function(e,t,n){var o,r;switch(n){case"body":o=i.allBodies(e);break;case"constraint":o=i.allConstraints(e);break;case"composite":o=i.allComposites(e).concat(e)}return o?0===(r=o.filter((function(e){return e.id.toString()===t.toString()}))).length?null:r[0]:null},i.move=function(e,t,n){return i.remove(e,t),i.add(n,t),e},i.rebase=function(e){for(var t=i.allBodies(e).concat(i.allConstraints(e)).concat(i.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return e},i.translate=function(e,t,n){for(var o=n?i.allBodies(e):e.bodies,r=0;r<o.length;r++)a.translate(o[r],t);return e},i.rotate=function(e,t,n,o){for(var r=Math.cos(t),s=Math.sin(t),l=o?i.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],d=u.position.x-n.x,p=u.position.y-n.y;a.setPosition(u,{x:n.x+(d*r-p*s),y:n.y+(d*s+p*r)}),a.rotate(u,t)}return e},i.scale=function(e,t,n,o,r){for(var s=r?i.allBodies(e):e.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-o.x,d=c.position.y-o.y;a.setPosition(c,{x:o.x+u*t,y:o.y+d*n}),a.scale(c,t,n)}return e},i.bounds=function(e){for(var t=i.allBodies(e),n=[],o=0;o<t.length;o+=1){var r=t[o];n.push(r.bounds.min,r.bounds.max)}return s.create(n)}},function(e,t,n){var i={};e.exports=i;var o=n(4),r=n(5),s=n(0);i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(e,t){for(var n=t/s._baseDelta,r=i._motionSleepThreshold,a=0;a<e.length;a++){var l=e[a],c=o.getSpeed(l),u=o.getAngularSpeed(l),d=c*c+u*u;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,d),f=Math.max(l.motion,d);l.motion=i._minBias*p+(1-i._minBias)*f,l.sleepThreshold>0&&l.motion<r?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&i.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else i.set(l,!1)}},i.afterCollisions=function(e){for(var t=i._motionSleepThreshold,n=0;n<e.length;n++){var o=e[n];if(o.isActive){var r=o.collision,s=r.bodyA.parent,a=r.bodyB.parent;if(!(s.isSleeping&&a.isSleeping||s.isStatic||a.isStatic)&&(s.isSleeping||a.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:a,c=l===s?a:s;!l.isStatic&&c.motion>t&&i.set(l,!1)}}}},i.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||r.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&r.trigger(e,"sleepEnd"))}},function(e,t,n){var i={};e.exports=i;var o,r,s,a=n(3),l=n(9);o=[],r={overlap:0,axis:null},s={overlap:0,axis:null},i.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},i.collides=function(e,t,n){if(i._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0)return null;if(i._overlapAxes(s,t.vertices,e.vertices,t.axes),s.overlap<=0)return null;var o,c,u=n&&n.table[l.id(e,t)];u?o=u.collision:((o=i.create(e,t)).collided=!0,o.bodyA=e.id<t.id?e:t,o.bodyB=e.id<t.id?t:e,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),e=o.bodyA,t=o.bodyB,c=r.overlap<s.overlap?r:s;var d=o.normal,p=o.tangent,f=o.penetration,m=o.supports,y=c.overlap,v=c.axis,g=v.x,h=v.y;g*(t.position.x-e.position.x)+h*(t.position.y-e.position.y)>=0&&(g=-g,h=-h),d.x=g,d.y=h,p.x=-h,p.y=g,f.x=g*y,f.y=h*y,o.depth=y;var x=i._findSupports(e,t,d,1),b=0;if(a.contains(e.vertices,x[0])&&(m[b++]=x[0]),a.contains(e.vertices,x[1])&&(m[b++]=x[1]),b<2){var S=i._findSupports(t,e,d,-1);a.contains(t.vertices,S[0])&&(m[b++]=S[0]),b<2&&a.contains(t.vertices,S[1])&&(m[b++]=S[1])}return 0===b&&(m[b++]=x[0]),o.supportCount=b,o},i._overlapAxes=function(e,t,n,i){var o,r,s,a,l,c,u=t.length,d=n.length,p=t[0].x,f=t[0].y,m=n[0].x,y=n[0].y,v=i.length,g=Number.MAX_VALUE,h=0;for(l=0;l<v;l++){var x=i[l],b=x.x,S=x.y,w=p*b+f*S,A=m*b+y*S,P=w,B=A;for(c=1;c<u;c+=1)(a=t[c].x*b+t[c].y*S)>P?P=a:a<w&&(w=a);for(c=1;c<d;c+=1)(a=n[c].x*b+n[c].y*S)>B?B=a:a<A&&(A=a);if((o=(r=P-A)<(s=B-w)?r:s)<g&&(g=o,h=l,o<=0))break}e.axis=i[h],e.overlap=g},i._findSupports=function(e,t,n,i){var r,s,a,l=t.vertices,c=l.length,u=e.position.x,d=e.position.y,p=n.x*i,f=n.y*i,m=l[0],y=m,v=p*(u-y.x)+f*(d-y.y);for(a=1;a<c;a+=1)(s=p*(u-(y=l[a]).x)+f*(d-y.y))<v&&(v=s,m=y);return v=p*(u-(r=l[(c+m.index-1)%c]).x)+f*(d-r.y),p*(u-(y=l[(m.index+1)%c]).x)+f*(d-y.y)<v?(o[0]=m,o[1]=y,o):(o[0]=m,o[1]=r,o)}},function(e,t,n){var i={};e.exports=i;var o=n(16);i.create=function(e,t){var n=e.bodyA,r=e.bodyB,s={id:i.id(n,r),bodyA:n,bodyB:r,collision:e,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(s,e,t),s},i.update=function(e,t,n){var i=t.supports,o=t.supportCount,r=e.contacts,s=t.parentA,a=t.parentB;e.isActive=!0,e.timeUpdated=n,e.collision=t,e.separation=t.depth,e.inverseMass=s.inverseMass+a.inverseMass,e.friction=s.friction<a.friction?s.friction:a.friction,e.frictionStatic=s.frictionStatic>a.frictionStatic?s.frictionStatic:a.frictionStatic,e.restitution=s.restitution>a.restitution?s.restitution:a.restitution,e.slop=s.slop>a.slop?s.slop:a.slop,e.contactCount=o,t.pair=e;var l=i[0],c=r[0],u=i[1],d=r[1];d.vertex!==l&&c.vertex!==u||(r[1]=c,r[0]=c=d,d=r[1]),c.vertex=l,d.vertex=u},i.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.contactCount=0)},i.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(2),s=n(7),a=n(1),l=n(11),c=n(0);i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,i=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,o=r.magnitude(r.sub(n,i));t.length=void 0!==t.length?t.length:o,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=c.extend(s,t.render),t},i.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},i.solveAll=function(e,t){for(var n=c.clamp(t/c._baseDelta,0,1),o=0;o<e.length;o+=1){var r=e[o],s=!r.bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(s||a)&&i.solve(e[o],n)}for(o=0;o<e.length;o+=1)s=!(r=e[o]).bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic,s||a||i.solve(e[o],n)},i.solve=function(e,t){var n=e.bodyA,o=e.bodyB,s=e.pointA,a=e.pointB;if(n||o){n&&!n.isStatic&&(r.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),o&&!o.isStatic&&(r.rotate(a,o.angle-e.angleB,a),e.angleB=o.angle);var l=s,c=a;if(n&&(l=r.add(n.position,s)),o&&(c=r.add(o.position,a)),l&&c){var u=r.sub(l,c),d=r.magnitude(u);d<i._minLength&&(d=i._minLength);var p,f,m,y,v,g=(d-e.length)/d,h=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,x=e.damping*t,b=r.mult(u,g*h),S=(n?n.inverseMass:0)+(o?o.inverseMass:0),w=S+((n?n.inverseInertia:0)+(o?o.inverseInertia:0));if(x>0){var A=r.create();m=r.div(u,d),v=r.sub(o&&r.sub(o.position,o.positionPrev)||A,n&&r.sub(n.position,n.positionPrev)||A),y=r.dot(m,v)}n&&!n.isStatic&&(f=n.inverseMass/S,n.constraintImpulse.x-=b.x*f,n.constraintImpulse.y-=b.y*f,n.position.x-=b.x*f,n.position.y-=b.y*f,x>0&&(n.positionPrev.x-=x*m.x*y*f,n.positionPrev.y-=x*m.y*y*f),p=r.cross(s,b)/w*i._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),o&&!o.isStatic&&(f=o.inverseMass/S,o.constraintImpulse.x+=b.x*f,o.constraintImpulse.y+=b.y*f,o.position.x+=b.x*f,o.position.y+=b.y*f,x>0&&(o.positionPrev.x+=x*m.x*y*f,o.positionPrev.y+=x*m.y*y*f),p=r.cross(a,b)/w*i._torqueDampen*o.inverseInertia*(1-e.angularStiffness),o.constraintImpulse.angle+=p,o.angle+=p)}}},i.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){s.set(n,!1);for(var u=0;u<n.parts.length;u++){var d=n.parts[u];o.translate(d.vertices,c),u>0&&(d.position.x+=c.x,d.position.y+=c.y),0!==c.angle&&(o.rotate(d.vertices,c.angle,n.position),l.rotate(d.axes,c.angle),u>0&&r.rotateAbout(d.position,c.angle,n.position,d.position)),a.update(d.bounds,d.vertices,n.velocity)}c.angle*=i._warming,c.x*=i._warming,c.y*=i._warming}}},i.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},i.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},i.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),n=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),i=t-((e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0)),o=n-((e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0));return Math.sqrt(i*i+o*o)}},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(0);i.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var i=(n+1)%e.length,s=o.normalise({x:e[i].y-e[n].y,y:e[n].x-e[i].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return r.values(t)},i.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),i=Math.sin(t),o=0;o<e.length;o++){var r,s=e[o];r=s.x*n-s.y*i,s.y=s.x*i+s.y*n,s.x=r}}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(0),s=n(4),a=n(1),l=n(2);i.rectangle=function(e,t,n,i,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:o.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(a.chamfer){var c=a.chamfer;l.vertices=o.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return s.create(r.extend({},l,a))},i.trapezoid=function(e,t,n,i,a,l){l=l||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,u=n*(a*=.5),d=u+(1-2*a)*n,p=d+u;c=a<.5?"L 0 0 L "+u+" "+-i+" L "+d+" "+-i+" L "+p+" 0":"L 0 0 L "+d+" "+-i+" L "+p+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:o.fromPath(c)};if(l.chamfer){var m=l.chamfer;f.vertices=o.chamfer(f.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return s.create(r.extend({},f,l))},i.circle=function(e,t,n,o,s){o=o||{};var a={label:"Circle Body",circleRadius:n};s=s||25;var l=Math.ceil(Math.max(10,Math.min(s,n)));return l%2==1&&(l+=1),i.polygon(e,t,l,n,r.extend({},a,o))},i.polygon=function(e,t,n,a,l){if(l=l||{},n<3)return i.circle(e,t,a,l);for(var c=2*Math.PI/n,u="",d=.5*c,p=0;p<n;p+=1){var f=d+p*c,m=Math.cos(f)*a,y=Math.sin(f)*a;u+="L "+m.toFixed(3)+" "+y.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:e,y:t},vertices:o.fromPath(u)};if(l.chamfer){var g=l.chamfer;v.vertices=o.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return s.create(r.extend({},v,l))},i.fromVertices=function(e,t,n,i,c,u,d,p){var f,m,y,v,g,h,x,b,S,w,A=r.getDecomp();for(f=Boolean(A&&A.quickDecomp),i=i||{},y=[],c=void 0!==c&&c,u=void 0!==u?u:.01,d=void 0!==d?d:10,p=void 0!==p?p:.01,r.isArray(n[0])||(n=[n]),S=0;S<n.length;S+=1)if(g=n[S],!(v=o.isConvex(g))&&!f&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),v||!f)g=v?o.clockwiseSort(g):o.hull(g),y.push({position:{x:e,y:t},vertices:g});else{var P=g.map((function(e){return[e.x,e.y]}));A.makeCCW(P),!1!==u&&A.removeCollinearPoints(P,u),!1!==p&&A.removeDuplicatePoints&&A.removeDuplicatePoints(P,p);var B=A.quickDecomp(P);for(h=0;h<B.length;h++){var C=B[h].map((function(e){return{x:e[0],y:e[1]}}));d>0&&o.area(C)<d||y.push({position:o.centre(C),vertices:C})}}for(h=0;h<y.length;h++)y[h]=s.create(r.extend(y[h],i));if(c)for(h=0;h<y.length;h++){var M=y[h];for(x=h+1;x<y.length;x++){var k=y[x];if(a.overlaps(M.bounds,k.bounds)){var _=M.vertices,I=k.vertices;for(b=0;b<M.vertices.length;b++)for(w=0;w<k.vertices.length;w++){var T=l.magnitudeSquared(l.sub(_[(b+1)%_.length],I[w])),R=l.magnitudeSquared(l.sub(_[b],I[(w+1)%I.length]));T<5&&R<5&&(_[b].isInternal=!0,I[w].isInternal=!0)}}}}return y.length>1?(m=s.create(r.extend({parts:y.slice(0)},i)),s.setPosition(m,{x:e,y:t}),m):y[0]}},function(e,t,n){var i={};e.exports=i;var o=n(0),r=n(8);i.create=function(e){return o.extend({bodies:[],collisions:[],pairs:null},e)},i.setBodies=function(e,t){e.bodies=t.slice(0)},i.clear=function(e){e.bodies=[],e.collisions=[]},i.collisions=function(e){var t,n,o=e.pairs,s=e.bodies,a=s.length,l=i.canCollide,c=r.collides,u=e.collisions,d=0;for(s.sort(i._compareBoundsX),t=0;t<a;t++){var p=s[t],f=p.bounds,m=p.bounds.max.x,y=p.bounds.max.y,v=p.bounds.min.y,g=p.isStatic||p.isSleeping,h=p.parts.length,x=1===h;for(n=t+1;n<a;n++){var b=s[n];if((k=b.bounds).min.x>m)break;if(!(y<k.min.y||v>k.max.y)&&(!g||!b.isStatic&&!b.isSleeping)&&l(p.collisionFilter,b.collisionFilter)){var S=b.parts.length;if(x&&1===S)(C=c(p,b,o))&&(u[d++]=C);else for(var w=S>1?1:0,A=h>1?1:0;A<h;A++)for(var P=p.parts[A],B=(f=P.bounds,w);B<S;B++){var C,M=b.parts[B],k=M.bounds;f.min.x>k.max.x||f.max.x<k.min.x||f.max.y<k.min.y||f.min.y>k.max.y||(C=c(P,M,o))&&(u[d++]=C)}}}}return u.length!==d&&(u.length=d),u},i.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:!!(e.mask&t.category)&&!!(t.mask&e.category)},i._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,n){var i={};e.exports=i;var o=n(0);i.create=function(e){var t={};return e||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),t.sourceEvents.mousewheel=e},i.setElement(t,t.element),t},i.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove,{passive:!0}),t.addEventListener("mousedown",e.mousedown,{passive:!0}),t.addEventListener("mouseup",e.mouseup,{passive:!0}),t.addEventListener("wheel",e.mousewheel,{passive:!1}),t.addEventListener("touchmove",e.mousemove,{passive:!1}),t.addEventListener("touchstart",e.mousedown,{passive:!1}),t.addEventListener("touchend",e.mouseup,{passive:!1})},i.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},i.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i._getRelativeMousePosition=function(e,t,n){var i,o,r=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return c?(i=c[0].pageX-r.left-a,o=c[0].pageY-r.top-l):(i=e.pageX-r.left-a,o=e.pageY-r.top-l),{x:i/(t.clientWidth/(t.width||t.clientWidth)*n),y:o/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var i={};e.exports=i;var o=n(0);i._registry={},i.register=function(e){if(i.isPlugin(e)||o.warn("Plugin.register:",i.toString(e),"does not implement all required fields."),e.name in i._registry){var t=i._registry[e.name],n=i.versionParse(e.version).number,r=i.versionParse(t.version).number;n>r?(o.warn("Plugin.register:",i.toString(t),"was upgraded to",i.toString(e)),i._registry[e.name]=e):n<r?o.warn("Plugin.register:",i.toString(t),"can not be downgraded to",i.toString(e)):e!==t&&o.warn("Plugin.register:",i.toString(e),"is already registered to different plugin object")}else i._registry[e.name]=e;return e},i.resolve=function(e){return i._registry[i.dependencyParse(e).name]},i.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},i.isPlugin=function(e){return e&&e.name&&e.version&&e.install},i.isUsed=function(e,t){return e.used.indexOf(t)>-1},i.isFor=function(e,t){var n=e.for&&i.dependencyParse(e.for);return!e.for||t.name===n.name&&i.versionSatisfies(t.version,n.range)},i.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=i.dependencies(e),r=o.topologicalSort(n),s=[],a=0;a<r.length;a+=1)if(r[a]!==e.name){var l=i.resolve(r[a]);l?i.isUsed(e,l.name)||(i.isFor(l,e)||(o.warn("Plugin.use:",i.toString(l),"is for",l.for,"but installed on",i.toString(e)+"."),l._warned=!0),l.install?l.install(e):(o.warn("Plugin.use:",i.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push("ðŸ”¶ "+i.toString(l)),delete l._warned):s.push("âœ… "+i.toString(l)),e.used.push(l.name)):s.push("âŒ "+r[a])}s.length>0&&o.info(s.join("  "))}else o.warn("Plugin.use:",i.toString(e),"does not specify any dependencies to install.")},i.dependencies=function(e,t){var n=i.dependencyParse(e),r=n.name;if(!(r in(t=t||{}))){e=i.resolve(e)||e,t[r]=o.map(e.uses||[],(function(t){i.isPlugin(t)&&i.register(t);var r=i.dependencyParse(t),s=i.resolve(t);return s&&!i.versionSatisfies(s.version,r.range)?(o.warn("Plugin.dependencies:",i.toString(s),"does not satisfy",i.toString(r),"used by",i.toString(n)+"."),s._warned=!0,e._warned=!0):s||(o.warn("Plugin.dependencies:",i.toString(t),"used by",i.toString(n),"could not be resolved."),e._warned=!0),r.name}));for(var s=0;s<t[r].length;s+=1)i.dependencies(t[r][s],t);return t}},i.dependencyParse=function(e){return o.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||o.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},i.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||o.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),i=Number(n[4]),r=Number(n[5]),s=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:i,minor:r,patch:s,parts:[i,r,s],prerelease:n[7],number:1e8*i+1e4*r+s}},i.versionSatisfies=function(e,t){t=t||"*";var n=i.versionParse(t),o=i.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return o.number>n.number;if(">="===n.operator)return o.number>=n.number;if("~"===n.operator)return o.major===n.major&&o.minor===n.minor&&o.patch>=n.patch;if("^"===n.operator)return n.major>0?o.major===n.major&&o.number>=n.number:n.minor>0?o.minor===n.minor&&o.patch>=n.patch:o.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,n){var i={};e.exports=i;var o=n(7),r=n(18),s=n(13),a=n(19),l=n(5),c=n(6),u=n(10),d=n(0),p=n(4);i._deltaMax=1e3/60,i.create=function(e){e=e||{};var t=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||c.create({label:"World"}),t.pairs=e.pairs||a.create(),t.detector=e.detector||s.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},i.update=function(e,t){var n,p=d.now(),f=e.world,m=e.detector,y=e.pairs,v=e.timing,g=v.timestamp;t>i._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",i._deltaMax.toFixed(3),"ms."),t=void 0!==t?t:d._baseDelta,t*=v.timeScale,v.timestamp+=t,v.lastDelta=t;var h={timestamp:v.timestamp,delta:t};l.trigger(e,"beforeUpdate",h);var x=c.allBodies(f),b=c.allConstraints(f);for(f.isModified&&(s.setBodies(m,x),c.setModified(f,!1,!1,!0)),e.enableSleeping&&o.update(x,t),i._bodiesApplyGravity(x,e.gravity),t>0&&i._bodiesUpdate(x,t),l.trigger(e,"beforeSolve",h),u.preSolveAll(x),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);u.postSolveAll(x);var S=s.collisions(m);a.update(y,S,g),e.enableSleeping&&o.afterCollisions(y.list),y.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:y.collisionStart,timestamp:v.timestamp,delta:t});var w=d.clamp(20/e.positionIterations,0,1);for(r.preSolvePosition(y.list),n=0;n<e.positionIterations;n++)r.solvePosition(y.list,t,w);for(r.postSolvePosition(x),u.preSolveAll(x),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);for(u.postSolveAll(x),r.preSolveVelocity(y.list),n=0;n<e.velocityIterations;n++)r.solveVelocity(y.list,t);return i._bodiesUpdateVelocities(x),y.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:y.collisionActive,timestamp:v.timestamp,delta:t}),y.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:y.collisionEnd,timestamp:v.timestamp,delta:t}),i._bodiesClearForces(x),l.trigger(e,"afterUpdate",h),e.timing.lastElapsed=d.now()-p,e},i.merge=function(e,t){if(d.extend(e,t),t.world){e.world=t.world,i.clear(e);for(var n=c.allBodies(e.world),r=0;r<n.length;r++){var s=n[r];o.set(s,!1),s.id=d.nextId()}}},i.clear=function(e){a.clear(e.pairs),s.clear(e.detector)},i._bodiesClearForces=function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];i.force.x=0,i.force.y=0,i.torque=0}},i._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001,i=e.length;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<i;o++){var r=e[o];r.isStatic||r.isSleeping||(r.force.y+=r.mass*t.y*n,r.force.x+=r.mass*t.x*n)}},i._bodiesUpdate=function(e,t){for(var n=e.length,i=0;i<n;i++){var o=e[i];o.isStatic||o.isSleeping||p.update(o,t)}},i._bodiesUpdateVelocities=function(e){for(var t=e.length,n=0;n<t;n++)p.updateVelocities(e[n])}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(0),s=n(1);i._restingThresh=2,i._restingThreshTangent=Math.sqrt(6),i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i._frictionMaxStatic=Number.MAX_VALUE,i.preSolvePosition=function(e){var t,n,i,o=e.length;for(t=0;t<o;t++)(n=e[t]).isActive&&(i=n.contactCount,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},i.solvePosition=function(e,t,n){var o,s,a,l,c,u,d,p,f=i._positionDampen*(n||1),m=r.clamp(t/r._baseDelta,0,1),y=e.length;for(o=0;o<y;o++)(s=e[o]).isActive&&!s.isSensor&&(l=(a=s.collision).parentA,c=a.parentB,u=a.normal,s.separation=a.depth+u.x*(c.positionImpulse.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y-l.positionImpulse.y));for(o=0;o<y;o++)(s=e[o]).isActive&&!s.isSensor&&(l=(a=s.collision).parentA,c=a.parentB,u=a.normal,p=s.separation-s.slop*m,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(d=f/l.totalContacts,l.positionImpulse.x+=u.x*p*d,l.positionImpulse.y+=u.y*p*d),c.isStatic||c.isSleeping||(d=f/c.totalContacts,c.positionImpulse.x-=u.x*p*d,c.positionImpulse.y-=u.y*p*d))},i.postSolvePosition=function(e){for(var t=i._positionWarming,n=e.length,r=o.translate,a=s.update,l=0;l<n;l++){var c=e[l],u=c.positionImpulse,d=u.x,p=u.y,f=c.velocity;if(c.totalContacts=0,0!==d||0!==p){for(var m=0;m<c.parts.length;m++){var y=c.parts[m];r(y.vertices,u),a(y.bounds,y.vertices,f),y.position.x+=d,y.position.y+=p}c.positionPrev.x+=d,c.positionPrev.y+=p,d*f.x+p*f.y<0?(u.x=0,u.y=0):(u.x*=t,u.y*=t)}}},i.preSolveVelocity=function(e){var t,n,i=e.length;for(t=0;t<i;t++){var o=e[t];if(o.isActive&&!o.isSensor){var r=o.contacts,s=o.contactCount,a=o.collision,l=a.parentA,c=a.parentB,u=a.normal,d=a.tangent;for(n=0;n<s;n++){var p=r[n],f=p.vertex,m=p.normalImpulse,y=p.tangentImpulse;if(0!==m||0!==y){var v=u.x*m+d.x*y,g=u.y*m+d.y*y;l.isStatic||l.isSleeping||(l.positionPrev.x+=v*l.inverseMass,l.positionPrev.y+=g*l.inverseMass,l.anglePrev+=l.inverseInertia*((f.x-l.position.x)*g-(f.y-l.position.y)*v)),c.isStatic||c.isSleeping||(c.positionPrev.x-=v*c.inverseMass,c.positionPrev.y-=g*c.inverseMass,c.anglePrev-=c.inverseInertia*((f.x-c.position.x)*g-(f.y-c.position.y)*v))}}}}},i.solveVelocity=function(e,t){var n,o,s,a,l=t/r._baseDelta,c=l*l*l,u=-i._restingThresh*l,d=i._restingThreshTangent,p=i._frictionNormalMultiplier*l,f=i._frictionMaxStatic,m=e.length;for(s=0;s<m;s++){var y=e[s];if(y.isActive&&!y.isSensor){var v=y.collision,g=v.parentA,h=v.parentB,x=v.normal.x,b=v.normal.y,S=v.tangent.x,w=v.tangent.y,A=y.inverseMass,P=y.friction*y.frictionStatic*p,B=y.contacts,C=y.contactCount,M=1/C,k=g.position.x-g.positionPrev.x,_=g.position.y-g.positionPrev.y,I=g.angle-g.anglePrev,T=h.position.x-h.positionPrev.x,R=h.position.y-h.positionPrev.y,D=h.angle-h.anglePrev;for(a=0;a<C;a++){var E=B[a],V=E.vertex,L=V.x-g.position.x,F=V.y-g.position.y,H=V.x-h.position.x,O=V.y-h.position.y,q=k-F*I-(T-O*D),U=_+L*I-(R+H*D),W=x*q+b*U,j=S*q+w*U,z=y.separation+W,N=Math.min(z,1),G=(N=z<0?0:N)*P;j<-G||j>G?(o=j>0?j:-j,(n=y.friction*(j>0?1:-1)*c)<-o?n=-o:n>o&&(n=o)):(n=j,o=f);var X=L*b-F*x,Q=H*b-O*x,$=M/(A+g.inverseInertia*X*X+h.inverseInertia*Q*Q),Y=(1+y.restitution)*W*$;if(n*=$,W<u)E.normalImpulse=0;else{var Z=E.normalImpulse;E.normalImpulse+=Y,E.normalImpulse>0&&(E.normalImpulse=0),Y=E.normalImpulse-Z}if(j<-d||j>d)E.tangentImpulse=0;else{var J=E.tangentImpulse;E.tangentImpulse+=n,E.tangentImpulse<-o&&(E.tangentImpulse=-o),E.tangentImpulse>o&&(E.tangentImpulse=o),n=E.tangentImpulse-J}var K=x*Y+S*n,ee=b*Y+w*n;g.isStatic||g.isSleeping||(g.positionPrev.x+=K*g.inverseMass,g.positionPrev.y+=ee*g.inverseMass,g.anglePrev+=(L*ee-F*K)*g.inverseInertia),h.isStatic||h.isSleeping||(h.positionPrev.x-=K*h.inverseMass,h.positionPrev.y-=ee*h.inverseMass,h.anglePrev-=(H*ee-O*K)*h.inverseInertia)}}}}},function(e,t,n){var i={};e.exports=i;var o=n(9),r=n(0);i.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},i.update=function(e,t,n){var i,r,s,a=o.update,l=o.create,c=o.setActive,u=e.table,d=e.list,p=d.length,f=p,m=e.collisionStart,y=e.collisionEnd,v=e.collisionActive,g=t.length,h=0,x=0,b=0;for(s=0;s<g;s++)(r=(i=t[s]).pair)?(r.isActive&&(v[b++]=r),a(r,i,n)):(u[(r=l(i,n)).id]=r,m[h++]=r,d[f++]=r);for(f=0,p=d.length,s=0;s<p;s++)(r=d[s]).timeUpdated>=n?d[f++]=r:(c(r,!1,n),r.collision.bodyA.sleepCounter>0&&r.collision.bodyB.sleepCounter>0?d[f++]=r:(y[x++]=r,delete u[r.id]));d.length!==f&&(d.length=f),m.length!==h&&(m.length=h),y.length!==x&&(y.length=x),v.length!==b&&(v.length=b)},i.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var i=e.exports=n(21);i.Axes=n(11),i.Bodies=n(12),i.Body=n(4),i.Bounds=n(1),i.Collision=n(8),i.Common=n(0),i.Composite=n(6),i.Composites=n(22),i.Constraint=n(10),i.Contact=n(16),i.Detector=n(13),i.Engine=n(17),i.Events=n(5),i.Grid=n(23),i.Mouse=n(14),i.MouseConstraint=n(24),i.Pair=n(9),i.Pairs=n(19),i.Plugin=n(15),i.Query=n(25),i.Render=n(26),i.Resolver=n(18),i.Runner=n(27),i.SAT=n(28),i.Sleeping=n(7),i.Svg=n(29),i.Vector=n(2),i.Vertices=n(3),i.World=n(30),i.Engine.run=i.Runner.run,i.Common.deprecated(i.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(e,t,n){var i={};e.exports=i;var o=n(15),r=n(0);i.name="matter-js",i.version="0.20.0",i.uses=[],i.used=[],i.use=function(){o.use(i,Array.prototype.slice.call(arguments))},i.before=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathBefore(i,e,t)},i.after=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathAfter(i,e,t)}},function(e,t,n){var i={};e.exports=i;var o=n(6),r=n(10),s=n(0),a=n(4),l=n(12),c=s.deprecated;i.stack=function(e,t,n,i,r,s,l){for(var c,u=o.create({label:"Stack"}),d=e,p=t,f=0,m=0;m<i;m++){for(var y=0,v=0;v<n;v++){var g=l(d,p,v,m,c,f);if(g){var h=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x;h>y&&(y=h),a.translate(g,{x:.5*x,y:.5*h}),d=g.bounds.max.x+r,o.addBody(u,g),c=g,f+=1}else d+=r}p+=y+s,d=e}return u},i.chain=function(e,t,n,i,a,l){for(var c=e.bodies,u=1;u<c.length;u++){var d=c[u-1],p=c[u],f=d.bounds.max.y-d.bounds.min.y,m=d.bounds.max.x-d.bounds.min.x,y=p.bounds.max.y-p.bounds.min.y,v={bodyA:d,pointA:{x:m*t,y:f*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*i,y:y*a}},g=s.extend(v,l);o.addConstraint(e,r.create(g))}return e.label+=" Chain",e},i.mesh=function(e,t,n,i,a){var l,c,u,d,p,f=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=f[c-1+l*t],d=f[c+l*t],o.addConstraint(e,r.create(s.extend({bodyA:u,bodyB:d},a)));if(l>0)for(c=0;c<t;c++)u=f[c+(l-1)*t],d=f[c+l*t],o.addConstraint(e,r.create(s.extend({bodyA:u,bodyB:d},a))),i&&c>0&&(p=f[c-1+(l-1)*t],o.addConstraint(e,r.create(s.extend({bodyA:p,bodyB:d},a)))),i&&c<t-1&&(p=f[c+1+(l-1)*t],o.addConstraint(e,r.create(s.extend({bodyA:p,bodyB:d},a))))}return e.label+=" Mesh",e},i.pyramid=function(e,t,n,o,r,s,l){return i.stack(e,t,n,o,r,s,(function(t,i,s,c,u,d){var p=Math.min(o,Math.ceil(n/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p||s<(c=p-c)||s>n-1-c))return 1===d&&a.translate(u,{x:(s+(n%2==1?1:-1))*f,y:0}),l(e+(u?s*f:0)+s*r,i,s,c,u,d)}))},i.newtonsCradle=function(e,t,n,i,s){for(var a=o.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(e+c*(1.9*i),t+s,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=r.create({pointA:{x:e+c*(1.9*i),y:t},bodyB:u});o.addBody(a,u),o.addConstraint(a,d)}return a},c(i,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),i.car=function(e,t,n,i,s){var c=a.nextGroup(!0),u=.5*-n+20,d=.5*n-20,p=o.create({label:"Car"}),f=l.rectangle(e,t,n,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),m=l.circle(e+u,t+0,s,{collisionFilter:{group:c},friction:.8}),y=l.circle(e+d,t+0,s,{collisionFilter:{group:c},friction:.8}),v=r.create({bodyB:f,pointB:{x:u,y:0},bodyA:m,stiffness:1,length:0}),g=r.create({bodyB:f,pointB:{x:d,y:0},bodyA:y,stiffness:1,length:0});return o.addBody(p,f),o.addBody(p,m),o.addBody(p,y),o.addConstraint(p,v),o.addConstraint(p,g),p},c(i,"car","Composites.car âž¤ moved to car example"),i.softBody=function(e,t,n,o,r,a,c,u,d,p){d=s.extend({inertia:1/0},d),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var f=i.stack(e,t,n,o,r,a,(function(e,t){return l.circle(e,t,u,d)}));return i.mesh(f,n,o,c,p),f.label="Soft Body",f},c(i,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")},function(e,t,n){var i={};e.exports=i;var o=n(9),r=n(0),s=r.deprecated;i.create=function(e){return r.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},i.update=function(e,t,n,o){var r,s,a,l,c,u=n.world,d=e.buckets,p=!1;for(r=0;r<t.length;r++){var f=t[r];if((!f.isSleeping||o)&&(!u.bounds||!(f.bounds.max.x<u.bounds.min.x||f.bounds.min.x>u.bounds.max.x||f.bounds.max.y<u.bounds.min.y||f.bounds.min.y>u.bounds.max.y))){var m=i._getRegion(e,f);if(!f.region||m.id!==f.region.id||o){f.region&&!o||(f.region=m);var y=i._regionUnion(m,f.region);for(s=y.startCol;s<=y.endCol;s++)for(a=y.startRow;a<=y.endRow;a++){l=d[c=i._getBucketId(s,a)];var v=s>=m.startCol&&s<=m.endCol&&a>=m.startRow&&a<=m.endRow,g=s>=f.region.startCol&&s<=f.region.endCol&&a>=f.region.startRow&&a<=f.region.endRow;!v&&g&&g&&l&&i._bucketRemoveBody(e,l,f),(f.region===m||v&&!g||o)&&(l||(l=i._createBucket(d,c)),i._bucketAddBody(e,l,f))}f.region=m,p=!0}}}p&&(e.pairsList=i._createActivePairsList(e))},s(i,"update","Grid.update âž¤ replaced by Matter.Detector"),i.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},s(i,"clear","Grid.clear âž¤ replaced by Matter.Detector"),i._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),o=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return i._createRegion(n,o,r,s)},i._getRegion=function(e,t){var n=t.bounds,o=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return i._createRegion(o,r,s,a)},i._createRegion=function(e,t,n,i){return{id:e+","+t+","+n+","+i,startCol:e,endCol:t,startRow:n,endRow:i}},i._getBucketId=function(e,t){return"C"+e+"R"+t},i._createBucket=function(e,t){return e[t]=[]},i._bucketAddBody=function(e,t,n){var i,r=e.pairs,s=o.id,a=t.length;for(i=0;i<a;i++){var l=t[i];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=s(n,l),u=r[c];u?u[2]+=1:r[c]=[n,l,1]}}t.push(n)},i._bucketRemoveBody=function(e,t,n){var i,s=e.pairs,a=o.id;t.splice(r.indexOf(t,n),1);var l=t.length;for(i=0;i<l;i++){var c=s[a(n,t[i])];c&&(c[2]-=1)}},i._createActivePairsList=function(e){var t,n,i=e.pairs,o=r.keys(i),s=o.length,a=[];for(n=0;n<s;n++)(t=i[o[n]])[2]>0?a.push(t):delete i[o[n]];return a}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(7),s=n(14),a=n(5),l=n(13),c=n(10),u=n(6),d=n(0),p=n(1);i.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var o={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},r=d.extend(o,t);return a.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);i.update(r,t),i._triggerEvents(r)})),r},i.update=function(e,t){var n=e.mouse,i=e.constraint,s=e.body;if(0===n.button){if(i.bodyB)r.set(i.bodyB,!1),i.pointA=n.position;else for(var c=0;c<t.length;c++)if(s=t[c],p.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,e.collisionFilter))for(var u=s.parts.length>1?1:0;u<s.parts.length;u++){var d=s.parts[u];if(o.contains(d.vertices,n.position)){i.pointA=n.position,i.bodyB=e.body=s,i.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},i.angleB=s.angle,r.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else i.bodyB=e.body=null,i.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},i._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(8),s=n(1),a=n(12),l=n(3);i.collides=function(e,t){for(var n=[],i=t.length,o=e.bounds,a=r.collides,l=s.overlaps,c=0;c<i;c++){var u=t[c],d=u.parts.length,p=1===d?0:1;if(l(u.bounds,o))for(var f=p;f<d;f++){var m=u.parts[f];if(l(m.bounds,o)){var y=a(m,e);if(y){n.push(y);break}}}}return n},i.ray=function(e,t,n,r){r=r||1e-100;for(var s=o.angle(t,n),l=o.magnitude(o.sub(t,n)),c=.5*(n.x+t.x),u=.5*(n.y+t.y),d=a.rectangle(c,u,l,r,{angle:s}),p=i.collides(d,e),f=0;f<p.length;f+=1){var m=p[f];m.body=m.bodyB=m.bodyA}return p},i.region=function(e,t,n){for(var i=[],o=0;o<e.length;o++){var r=e[o],a=s.overlaps(r.bounds,t);(a&&!n||!a&&n)&&i.push(r)}return i},i.point=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];if(s.contains(o.bounds,t))for(var r=1===o.parts.length?0:1;r<o.parts.length;r++){var a=o.parts[r];if(s.contains(a.bounds,t)&&l.contains(a.vertices,t)){n.push(o);break}}}return n}},function(e,t,n){var i={};e.exports=i;var o=n(4),r=n(0),s=n(6),a=n(1),l=n(5),c=n(2),u=n(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(r.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i._goodFps=30,i._goodDelta=1e3/60,i.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=r.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=i,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&i.setPixelRatio(n,n.options.pixelRatio),r.isElement(n.element)&&n.element.appendChild(n.canvas),n},i.run=function(t){!function o(r){t.frameRequestId=e(o),n(t,r),i.world(t,r),t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0),(t.options.showStats||t.options.showDebug)&&i.stats(t,t.context,r),(t.options.showPerformance||t.options.showDebug)&&i.performance(t,t.context,r),t.context.setTransform(1,0,0,1,0,0)}()},i.stop=function(e){t(e.frameRequestId)},i.setPixelRatio=function(e,t){var n=e.options,i=e.canvas;"auto"===t&&(t=f(i)),n.pixelRatio=t,i.setAttribute("data-pixel-ratio",t),i.width=n.width*t,i.height=n.height*t,i.style.width=n.width+"px",i.style.height=n.height+"px"},i.setSize=function(e,t,n){e.options.width=t,e.options.height=n,e.bounds.max.x=e.bounds.min.x+t,e.bounds.max.y=e.bounds.min.y+n,1!==e.options.pixelRatio?i.setPixelRatio(e,e.options.pixelRatio):(e.canvas.width=t,e.canvas.height=n)},i.lookAt=function(e,t,n,i){i=void 0===i||i,t=r.isArray(t)?t:[t],n=n||{x:0,y:0};for(var o={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var a=t[s],l=a.bounds?a.bounds.min:a.min||a.position||a,c=a.bounds?a.bounds.max:a.max||a.position||a;l&&c&&(l.x<o.min.x&&(o.min.x=l.x),c.x>o.max.x&&(o.max.x=c.x),l.y<o.min.y&&(o.min.y=l.y),c.y>o.max.y&&(o.max.y=c.y))}var d=o.max.x-o.min.x+2*n.x,p=o.max.y-o.min.y+2*n.y,f=e.canvas.height,m=e.canvas.width/f,y=d/p,v=1,g=1;y>m?g=y/m:v=m/y,e.options.hasBounds=!0,e.bounds.min.x=o.min.x,e.bounds.max.x=o.min.x+d*v,e.bounds.min.y=o.min.y,e.bounds.max.y=o.min.y+p*g,i&&(e.bounds.min.x+=.5*d-d*v*.5,e.bounds.max.x+=.5*d-d*v*.5,e.bounds.min.y+=.5*p-p*g*.5,e.bounds.max.y+=.5*p-p*g*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},i.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,i=t/e.options.width,o=n/e.options.height;e.context.setTransform(e.options.pixelRatio/i,0,0,e.options.pixelRatio/o,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},i.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},i.world=function(e,t){var n,o=r.now(),d=e.engine,p=d.world,f=e.canvas,m=e.context,v=e.options,g=e.timing,h=s.allBodies(p),x=s.allConstraints(p),b=v.wireframes?v.wireframeBackground:v.background,S=[],w=[],A={timestamp:d.timing.timestamp};if(l.trigger(e,"beforeRender",A),e.currentBackground!==b&&y(e,b),m.globalCompositeOperation="source-in",m.fillStyle="transparent",m.fillRect(0,0,f.width,f.height),m.globalCompositeOperation="source-over",v.hasBounds){for(n=0;n<h.length;n++){var P=h[n];a.overlaps(P.bounds,e.bounds)&&S.push(P)}for(n=0;n<x.length;n++){var B=x[n],C=B.bodyA,M=B.bodyB,k=B.pointA,_=B.pointB;C&&(k=c.add(C.position,B.pointA)),M&&(_=c.add(M.position,B.pointB)),k&&_&&(a.contains(e.bounds,k)||a.contains(e.bounds,_))&&w.push(B)}i.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),u.setOffset(e.mouse,e.bounds.min))}else w=x,S=h,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!v.wireframes||d.enableSleeping&&v.showSleeping?i.bodies(e,S,m):(v.showConvexHulls&&i.bodyConvexHulls(e,S,m),i.bodyWireframes(e,S,m)),v.showBounds&&i.bodyBounds(e,S,m),(v.showAxes||v.showAngleIndicator)&&i.bodyAxes(e,S,m),v.showPositions&&i.bodyPositions(e,S,m),v.showVelocity&&i.bodyVelocity(e,S,m),v.showIds&&i.bodyIds(e,S,m),v.showSeparations&&i.separations(e,d.pairs.list,m),v.showCollisions&&i.collisions(e,d.pairs.list,m),v.showVertexNumbers&&i.vertexNumbers(e,S,m),v.showMousePosition&&i.mousePosition(e,e.mouse,m),i.constraints(w,m),v.hasBounds&&i.endViewTransform(e),l.trigger(e,"afterRender",A),g.lastElapsed=r.now()-o},i.stats=function(e,t,n){for(var i=e.engine,o=i.world,r=s.allBodies(o),a=0,l=0,c=0;c<r.length;c+=1)a+=r[c].parts.length;var u={Part:a,Body:r.length,Cons:s.allConstraints(o).length,Comp:s.allComposites(o).length,Pair:i.pairs.list.length};for(var d in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",u){var p=u[d];t.fillStyle="#aaa",t.fillText(d,l+55,8),t.fillStyle="#eee",t.fillText(p,l+55,26),l+=55}},i.performance=function(e,t){var n=e.engine,o=e.timing,s=o.deltaHistory,a=o.elapsedHistory,l=o.timestampElapsedHistory,c=o.engineDeltaHistory,u=o.engineUpdatesHistory,p=o.engineElapsedHistory,f=n.timing.lastUpdatesPerFrame,m=n.timing.lastDelta,y=d(s),v=d(a),g=d(c),h=d(u),x=d(p),b=d(l)/y||0,S=Math.round(y/m),w=1e3/y||0,A=60,P=69;t.fillStyle="#0e0f19",t.fillRect(0,50,442,34),i.status(t,10,P,A,4,s.length,Math.round(w)+" fps",w/i._goodFps,(function(e){return s[e]/y-1})),i.status(t,82,P,A,4,c.length,m.toFixed(2)+" dt",i._goodDelta/m,(function(e){return c[e]/g-1})),i.status(t,154,P,A,4,u.length,f+" upf",Math.pow(r.clamp(h/S||1,0,1),4),(function(e){return u[e]/h-1})),i.status(t,226,P,A,4,p.length,x.toFixed(2)+" ut",1-f*x/i._goodFps,(function(e){return p[e]/x-1})),i.status(t,298,P,A,4,a.length,v.toFixed(2)+" rt",1-v/i._goodFps,(function(e){return a[e]/v-1})),i.status(t,370,P,A,4,l.length,b.toFixed(2)+" x",b*b*b,(function(e){return(l[e]/s[e]/b||0)-1}))},i.status=function(e,t,n,i,o,s,a,l,c){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,n+7,i,1),e.beginPath(),e.moveTo(t,n+7-o*r.clamp(.4*c(0),-2,2));for(var u=0;u<i;u+=1)e.lineTo(t+u,n+7-(u<s?o*r.clamp(.4*c(u),-2,2):0));e.stroke(),e.fillStyle="hsl("+r.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,n-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(a,t+i,n-5)},i.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var o=e[i];if(o.render.visible&&o.pointA&&o.pointB){var s,a,l=o.bodyA,u=o.bodyB;if(s=l?c.add(l.position,o.pointA):o.pointA,"pin"===o.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(a=u?c.add(u.position,o.pointB):o.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===o.render.type)for(var d,p=c.sub(a,s),f=c.perp(c.normalise(p)),m=Math.ceil(r.clamp(o.length/5,12,20)),y=1;y<m;y+=1)d=y%2==0?1:-1,n.lineTo(s.x+p.x*(y/m)+f.x*d*4,s.y+p.y*(y/m)+f.y*d*4);n.lineTo(a.x,a.y)}o.render.lineWidth&&(n.lineWidth=o.render.lineWidth,n.strokeStyle=o.render.strokeStyle,n.stroke()),o.render.anchors&&(n.fillStyle=o.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},i.bodies=function(e,t,n){var i,o,r,s,a=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(r=0;r<t.length;r++)if((i=t[r]).render.visible)for(s=i.parts.length>1?1:0;s<i.parts.length;s++)if((o=i.parts[s]).render.visible){if(l.showSleeping&&i.isSleeping?a.globalAlpha=.5*o.render.opacity:1!==o.render.opacity&&(a.globalAlpha=o.render.opacity),o.render.sprite&&o.render.sprite.texture&&!l.wireframes){var u=o.render.sprite,d=m(e,u.texture);a.translate(o.position.x,o.position.y),a.rotate(o.angle),a.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),a.rotate(-o.angle),a.translate(-o.position.x,-o.position.y)}else{if(o.circleRadius)a.beginPath(),a.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(o.vertices[0].x,o.vertices[0].y);for(var p=1;p<o.vertices.length;p++)!o.vertices[p-1].isInternal||c?a.lineTo(o.vertices[p].x,o.vertices[p].y):a.moveTo(o.vertices[p].x,o.vertices[p].y),o.vertices[p].isInternal&&!c&&a.moveTo(o.vertices[(p+1)%o.vertices.length].x,o.vertices[(p+1)%o.vertices.length].y);a.lineTo(o.vertices[0].x,o.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle=e.options.wireframeStrokeStyle,a.stroke()):(a.fillStyle=o.render.fillStyle,o.render.lineWidth&&(a.lineWidth=o.render.lineWidth,a.strokeStyle=o.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},i.bodyWireframes=function(e,t,n){var i,o,r,s,a,l=n,c=e.options.showInternalEdges;for(l.beginPath(),r=0;r<t.length;r++)if((i=t[r]).render.visible)for(a=i.parts.length>1?1:0;a<i.parts.length;a++){for(o=i.parts[a],l.moveTo(o.vertices[0].x,o.vertices[0].y),s=1;s<o.vertices.length;s++)!o.vertices[s-1].isInternal||c?l.lineTo(o.vertices[s].x,o.vertices[s].y):l.moveTo(o.vertices[s].x,o.vertices[s].y),o.vertices[s].isInternal&&!c&&l.moveTo(o.vertices[(s+1)%o.vertices.length].x,o.vertices[(s+1)%o.vertices.length].y);l.lineTo(o.vertices[0].x,o.vertices[0].y)}l.lineWidth=1,l.strokeStyle=e.options.wireframeStrokeStyle,l.stroke()},i.bodyConvexHulls=function(e,t,n){var i,o,r,s=n;for(s.beginPath(),o=0;o<t.length;o++)if((i=t[o]).render.visible&&1!==i.parts.length){for(s.moveTo(i.vertices[0].x,i.vertices[0].y),r=1;r<i.vertices.length;r++)s.lineTo(i.vertices[r].x,i.vertices[r].y);s.lineTo(i.vertices[0].x,i.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},i.vertexNumbers=function(e,t,n){var i,o,r,s=n;for(i=0;i<t.length;i++){var a=t[i].parts;for(r=a.length>1?1:0;r<a.length;r++){var l=a[r];for(o=0;o<l.vertices.length;o++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(i+"_"+o,l.position.x+.8*(l.vertices[o].x-l.position.x),l.position.y+.8*(l.vertices[o].y-l.position.y))}}},i.mousePosition=function(e,t,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},i.bodyBounds=function(e,t,n){var i=n,o=(e.engine,e.options);i.beginPath();for(var r=0;r<t.length;r++)if(t[r].render.visible)for(var s=t[r].parts,a=s.length>1?1:0;a<s.length;a++){var l=s[a];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}o.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},i.bodyAxes=function(e,t,n){var i,o,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),o=0;o<t.length;o++){var c=t[o],u=c.parts;if(c.render.visible)if(l.showAxes)for(r=u.length>1?1:0;r<u.length;r++)for(i=u[r],s=0;s<i.axes.length;s++){var d=i.axes[s];a.moveTo(i.position.x,i.position.y),a.lineTo(i.position.x+20*d.x,i.position.y+20*d.y)}else for(r=u.length>1?1:0;r<u.length;r++)for(i=u[r],s=0;s<i.axes.length;s++)a.moveTo(i.position.x,i.position.y),a.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},i.bodyPositions=function(e,t,n){var i,o,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),r=0;r<t.length;r++)if((i=t[r]).render.visible)for(s=0;s<i.parts.length;s++)o=i.parts[s],a.arc(o.position.x,o.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),r=0;r<t.length;r++)(i=t[r]).render.visible&&(a.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},i.bodyVelocity=function(e,t,n){var i=n;i.beginPath();for(var r=0;r<t.length;r++){var s=t[r];if(s.render.visible){var a=o.getVelocity(s);i.moveTo(s.position.x,s.position.y),i.lineTo(s.position.x+a.x,s.position.y+a.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},i.bodyIds=function(e,t,n){var i,o,r=n;for(i=0;i<t.length;i++)if(t[i].render.visible){var s=t[i].parts;for(o=s.length>1?1:0;o<s.length;o++){var a=s[o];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(a.id,a.position.x+10,a.position.y-10)}}},i.collisions=function(e,t,n){var i,o,r,s,a=n,l=e.options;for(a.beginPath(),r=0;r<t.length;r++)if((i=t[r]).isActive)for(o=i.collision,s=0;s<i.contactCount;s++){var c=i.contacts[s].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),r=0;r<t.length;r++)if((i=t[r]).isActive&&(o=i.collision,i.contactCount>0)){var u=i.contacts[0].vertex.x,d=i.contacts[0].vertex.y;2===i.contactCount&&(u=(i.contacts[0].vertex.x+i.contacts[1].vertex.x)/2,d=(i.contacts[0].vertex.y+i.contacts[1].vertex.y)/2),o.bodyB===o.supports[0].body||!0===o.bodyA.isStatic?a.moveTo(u-8*o.normal.x,d-8*o.normal.y):a.moveTo(u+8*o.normal.x,d+8*o.normal.y),a.lineTo(u,d)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},i.separations=function(e,t,n){var i,o,r,s,a,l=n,c=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((i=t[a]).isActive){r=(o=i.collision).bodyA;var u=1;(s=o.bodyB).isStatic||r.isStatic||(u=.5),s.isStatic&&(u=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-o.penetration.x*u,s.position.y-o.penetration.y*u),u=1,s.isStatic||r.isStatic||(u=.5),r.isStatic&&(u=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+o.penetration.x*u,r.position.y+o.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},i.inspector=function(e,t){e.engine;var n,i=e.selected,o=e.render,r=o.options;if(r.hasBounds){var s=o.bounds.max.x-o.bounds.min.x,a=o.bounds.max.y-o.bounds.min.y,l=s/o.options.width,c=a/o.options.height;t.scale(1/l,1/c),t.translate(-o.bounds.min.x,-o.bounds.min.y)}for(var u=0;u<i.length;u++){var d=i[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=d.pointA;d.bodyA&&(p=d.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=e.engine,o=e.timing,r=o.historySize,s=n.timing.timestamp;o.delta=t-o.lastTime||i._goodDelta,o.lastTime=t,o.timestampElapsed=s-o.lastTimestamp||0,o.lastTimestamp=s,o.deltaHistory.unshift(o.delta),o.deltaHistory.length=Math.min(o.deltaHistory.length,r),o.engineDeltaHistory.unshift(n.timing.lastDelta),o.engineDeltaHistory.length=Math.min(o.engineDeltaHistory.length,r),o.timestampElapsedHistory.unshift(o.timestampElapsed),o.timestampElapsedHistory.length=Math.min(o.timestampElapsedHistory.length,r),o.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),o.engineUpdatesHistory.length=Math.min(o.engineUpdatesHistory.length,r),o.engineElapsedHistory.unshift(n.timing.lastElapsed),o.engineElapsedHistory.length=Math.min(o.engineElapsedHistory.length,r),o.elapsedHistory.unshift(o.lastElapsed),o.elapsedHistory.length=Math.min(o.elapsedHistory.length,r)},d=function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length||0},p=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},f=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},m=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},y=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,n){var i={};e.exports=i;var o=n(5),r=n(17),s=n(0);!function(){i._maxFrameDelta=1e3/15,i._frameDeltaFallback=1e3/60,i._timeBufferMargin=1.5,i._elapsedNextEstimate=1,i._smoothingLowerBound=.1,i._smoothingUpperBound=.9,i.create=function(e){var t=s.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},i.run=function(e,t){return e.timeBuffer=i._frameDeltaFallback,function n(o){e.frameRequestId=i._onNextFrame(e,n),o&&e.enabled&&i.tick(e,t,o)}(),e},i.tick=function(t,n,a){var l=s.now(),c=t.delta,u=0,d=a-t.timeLastTick;if((!d||!t.timeLastTick||d>Math.max(i._maxFrameDelta,t.maxFrameTime))&&(d=t.frameDelta||i._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(d),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var p=t.frameDeltaHistory.slice(0).sort(),f=t.frameDeltaHistory.slice(p.length*i._smoothingLowerBound,p.length*i._smoothingUpperBound);d=e(f)||d}t.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),t.frameDelta=d,t.timeLastTick=a,t.timeBuffer+=t.frameDelta,t.timeBuffer=s.clamp(t.timeBuffer,0,t.frameDelta+c*i._timeBufferMargin),t.lastUpdatesDeferred=0;var m=t.maxUpdates||Math.ceil(t.maxFrameTime/c),y={timestamp:n.timing.timestamp};o.trigger(t,"beforeTick",y),o.trigger(t,"tick",y);for(var v=s.now();c>0&&t.timeBuffer>=c*i._timeBufferMargin;){o.trigger(t,"beforeUpdate",y),r.update(n,c),o.trigger(t,"afterUpdate",y),t.timeBuffer-=c,u+=1;var g=s.now()-l,h=s.now()-v,x=g+i._elapsedNextEstimate*h/u;if(u>=m||x>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/c-i._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=u,o.trigger(t,"afterTick",y),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/c)>m?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==t.isFixed&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==t.fps&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},i.stop=function(e){i._cancelNextFrame(e)},i._onNextFrame=function(e,t){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId=window.requestAnimationFrame(t),e.frameRequestId},i._cancelNextFrame=function(e){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(e.frameRequestId)};var e=function(e){for(var t=0,n=e.length,i=0;i<n;i+=1)t+=e[i];return t/n||0}}()},function(e,t,n){var i={};e.exports=i;var o=n(8),r=n(0).deprecated;i.collides=function(e,t){return o.collides(e,t)},r(i,"collides","SAT.collides âž¤ replaced by Collision.collides")},function(e,t,n){var i={};e.exports=i,n(1);var o=n(0);i.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,r,s,a,l,c,u,d,p,f,m,y=[],v=0,g=0,h=0;t=t||15;var x=function(e,t,n){var i=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&i?(f=p.x,m=p.y):(f=0,m=0);var o={x:f+e,y:m+t};!i&&p||(p=o),y.push(o),g=f+e,h=m+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":g=e.x,h=e.y;break;case"H":g=e.x;break;case"V":h=e.y}x(g,h,e.pathSegType)}};for(i._svgPathToAbsolute(e),s=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(u=c.concat();v<s;){if((l=c[e.getPathSegAtLength(v)])!=d){for(;u.length&&u[0]!=l;)b(u.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(v),x(a.x,a.y,0)}v+=t}for(n=0,r=u.length;n<r;++n)b(u[n]);return y},i._svgPathToAbsolute=function(e){for(var t,n,i,o,r,s,a=e.pathSegList,l=0,c=0,u=a.numberOfItems,d=0;d<u;++d){var p=a.getItem(d),f=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(i=l+p.x1),"x2"in p&&(r=l+p.x2),"y1"in p&&(o=c+p.y1),"y2"in p&&(s=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),f){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),d);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),d);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,i,o,r,s),d);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,s),d);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,i,o),d);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),d);break;case"z":case"Z":l=t,c=n}"M"!=f&&"m"!=f||(t=l,n=c)}}},function(e,t,n){var i={};e.exports=i;var o=n(6);n(0),i.create=o.create,i.add=o.add,i.remove=o.remove,i.clear=o.clear,i.addComposite=o.addComposite,i.addBody=o.addBody,i.addConstraint=o.addConstraint}])},e.exports=i()}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var i=n(44);economicSimulator=i})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IsRUFBTXVnQixRQUFVM2dCLEVBQVUyZ0IsUUFDMUJ2Z0IsRUFBTXdnQixjQUFnQjVnQixFQUFVNGdCLGFBSzdCLEdBRVAsRUF0bFdFdGMsRUFBT0MsUUFBVXdILE1DNUJmeStCLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0J2K0IsR0FFNUIsSUFBSXcrQixFQUFlRixFQUF5QnQrQixHQUM1QyxRQUFxQjBoQixJQUFqQjhjLEVBQ0gsT0FBT0EsRUFBYW5tQyxRQUdyQixJQUFJRCxFQUFTa21DLEVBQXlCdCtCLEdBQVksQ0FHakQzSCxRQUFTLENBQUMsR0FPWCxPQUhBb21DLEVBQW9CeitCLEdBQVVFLEtBQUs5SCxFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTa21DLEdBR3BFbm1DLEVBQU9DLE9BQ2YsQ0N0QkFrbUMsRUFBb0JyM0IsRUFBSSxXQUN2QixHQUEwQixpQkFBZnczQixXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU85cEMsTUFBUSxJQUFJK3BDLFNBQVMsY0FBYixFQUNoQixDQUFFLE1BQU94M0IsR0FDUixHQUFzQixpQkFBWDVNLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NHeEIsSUFBSXFrQyxFQUFzQkwsRUFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29ub21pY1NpbXVsYXRvci8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9lY29ub21pY1NpbXVsYXRvci8uL25vZGVfbW9kdWxlcy9tYXR0ZXItanMvYnVpbGQvbWF0dGVyLmpzIiwid2VicGFjazovL2Vjb25vbWljU2ltdWxhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Vjb25vbWljU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vZWNvbm9taWNTaW11bGF0b3Ivd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1hdHRlciA9IHJlcXVpcmUoJ21hdHRlci1qcycpXG4vLyBUT0RPOiBUT1VUIFBBU1NFUiBFTiBaT1VMSUVTIENMQVNTRVNcbmNvbnN0IFNJTVVMQVRJT05fQkFDS19DT0xPUiA9ICd0cmFuc2FwYXJlbnQnOyAvL1wiI2JjYWE5OVwiO1xuY29uc3QgU0lNVUxBVElPTl9CT1JERVJTX0NPTE9SID0gXCIjNGQ4YjMxXCI7XG5jb25zdCBTSU1VTEFUSU9OX0JBTExTX0NPTE9SID0gXCIjNGQ4YjMxXCI7XG5jb25zdCBTSU1VTEFUSU9OX0JBTktTX0NPTE9SID0gXCIjNjY2NjY2XCI7XG5jb25zdCBTSU1VTEFUSU9OX01JTl9TSVpFID0gNjtcbmNvbnN0IENPTFVNTlMgPSA4O1xuY29uc3QgUk9XUyA9IDU7XG5jb25zdCBNQVhfUkVDUlVJVFNfUEVSX0NPTVBBTklFUyA9IDc7XG5cbi8vIG1vZHVsZSBhbGlhc2VzXG52YXIgRW5naW5lID0gTWF0dGVyLkVuZ2luZSxcbiAgICBSZW5kZXIgPSBNYXR0ZXIuUmVuZGVyLFxuICAgIFJ1bm5lciA9IE1hdHRlci5SdW5uZXIsXG4gICAgQm9keSA9IE1hdHRlci5Cb2R5LFxuICAgIEV2ZW50cyA9IE1hdHRlci5FdmVudHMsXG4gICAgQ29tcG9zaXRlID0gTWF0dGVyLkNvbXBvc2l0ZSxcbiAgICBDb21wb3NpdGVzID0gTWF0dGVyLkNvbXBvc2l0ZXMsXG4gICAgQ29tbW9uID0gTWF0dGVyLkNvbW1vbixcbiAgICBXb3JsZCA9IE1hdHRlci5Xb3JsZCxcbiAgICBCb2RpZXMgPSBNYXR0ZXIuQm9kaWVzO1xuXG5mdW5jdGlvbiBnZXRSYW5kb21Db2xvciAoKSB7XG4gICAgdmFyIGxldHRlcnMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG4gICAgdmFyIHJlcyA9ICcjJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICByZXMgKz0gbGV0dGVyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5jbGFzcyBBYnN0cmFjdFdhbGxldCB7XG5cdGNvbnN0cnVjdG9yKHdhbGxldE93bmVyKSB7XG5cdFx0dGhpcy5vd25lciA9IHdhbGxldE93bmVyO1xuXHRcdHRoaXMuY2FzaCA9IDA7XG5cdH1cblxuXHRnZXRDYXNoQW1vdW50KCkge1xuXHRcdHJldHVybiB0aGlzLmNhc2g7XG5cdH1cblxuICAgIGNhbkFmZm9yZEl0KGFtb3VudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXNoID49IGFtb3VudDtcbiAgICB9XG5cbiAgICBnZXRTaXppbmdSYXRpbyhhbW91bnQpIHtcblx0XHRsZXQgcmF0aW8gPSAoMS4yICogKHRoaXMuY2FzaCkgKyBTSU1VTEFUSU9OX01JTl9TSVpFKSAvICgxLjIgKiAodGhpcy5jYXNoIC0gYW1vdW50KSArIFNJTVVMQVRJT05fTUlOX1NJWkUpXG5cdFx0cmV0dXJuIHJhdGlvO1xuICAgIH1cblxuXHR1cGRhdGVTaXplKGFtb3VudCkge1xuXHRcdGxldCByYXRpbyA9IHRoaXMuZ2V0U2l6aW5nUmF0aW8oYW1vdW50KTtcblx0XHR0aGlzLm93bmVyLnVwZGF0ZVNpemUocmF0aW8pXG5cdH1cblxuICAgIGluY29tZShhbW91bnQpIHtcbiAgICAgICAgdGhpcy5jYXNoICs9IGFtb3VudDtcbiAgICAgICAgdGhpcy51cGRhdGVTaXplKGFtb3VudCk7XG4gICAgfVxufVxuXG5jbGFzcyBXYWxsZXQgZXh0ZW5kcyBBYnN0cmFjdFdhbGxldCB7XG5cdGRlc3Ryb3lNb25leShhbW91bnQpIHtcblx0XHRpZiAodGhpcy5jYW5BZmZvcmRJdChhbW91bnQpKSB7XG5cdFx0XHR0aGlzLmNhc2ggLT0gYW1vdW50O1xuXHRcdH1cblx0fVxuXG4gICAgcGF5KHRhcmdldCwgYW1vdW50KSB7XG4gICAgICAgIGlmICghIHRoaXMuY2FuQWZmb3JkSXQoYW1vdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYXNoIC09IGFtb3VudDtcbiAgICAgICAgdGFyZ2V0LmluY29tZShhbW91bnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNpemUoLWFtb3VudCk7XG4gICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgfVxufVxuXG5jbGFzcyBPcmdhbmljV2FsbGV0IGV4dGVuZHMgQWJzdHJhY3RXYWxsZXQge1xuXHRjb25zdHJ1Y3Rvcih3YWxsZXRPd25lcikge1xuXHRcdHN1cGVyKHdhbGxldE93bmVyKTtcblx0XHR0aGlzLnRvdGFsID0gMDtcblx0fVxuXG5cdHBheSh0YXJnZXQsIGFtb3VudCkge1xuXHRcdGlmICghIHRoaXMuY2FuQWZmb3JkSXQoYW1vdW50KSkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHRcdHRoaXMuY2FzaCAtPSBhbW91bnQ7XG5cdFx0dGFyZ2V0LmluY29tZShhbW91bnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNpemUoLWFtb3VudCk7XG5cdFx0cmV0dXJuIGFtb3VudDtcblx0fVxuXG4gICAgaW5jb21lKGFtb3VudCkge1xuICAgICAgICB0aGlzLnRvdGFsICs9IGFtb3VudDtcbiAgICB9XG5cblx0Y3JlYXRlRGFpbHlNb25leSgpIHtcblx0XHRsZXQgYW1vdW50ID0gTWF0aC5mbG9vcihNYXRoLmNicnQodGhpcy50b3RhbCkpICsgMTtcblx0XHR0aGlzLmNhc2ggKz0gYW1vdW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVNpemUoYW1vdW50KTtcblx0fVxufVxuXG5jbGFzcyBIdW1hblJlc291cmNlc0hhbmRsZXIge1xuXHRjb25zdHJ1Y3RvciAocGVvcGxlKSB7XG5cdFx0dGhpcy5hdmFpbGFibGVQZW9wbGUgPSBwZW9wbGUuc2xpY2UoKTtcblx0XHR0aGlzLmJ1c3lQZW9wbGUgPSBbXTtcblx0fVxuXG5cdGdldFJlY3J1aXQoKSB7XG5cdFx0aWYgKHRoaXMuYXZhaWxhYmxlUGVvcGxlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGNvbnN0IHJlY3J1aXQgPSB0aGlzLmF2YWlsYWJsZVBlb3BsZS5wb3AoKTtcblx0XHQvLyByZWNydWl0LnJlbmRlci5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHR0aGlzLmJ1c3lQZW9wbGUucHVzaChyZWNydWl0KTtcblxuXHRcdHJldHVybiByZWNydWl0O1xuXHR9XG5cblx0ZnJlZVJlY3J1aXQocmVjcnVpdCkge1xuXHRcdGNvbnN0IGluZGV4ID0gdGhpcy5idXN5UGVvcGxlLmluZGV4T2YocmVjcnVpdCk7XG5cdFx0aWYgKGluZGV4ID4gLTEpIHsgLy8gb25seSBzcGxpY2UgYXJyYXkgd2hlbiBpdGVtIGlzIGZvdW5kXG5cdFx0XHR0aGlzLmJ1c3lQZW9wbGUuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHRoaXMuYXZhaWxhYmxlUGVvcGxlLnVuc2hpZnQocmVjcnVpdCk7XG5cdFx0XHQvLyByZWNydWl0LnJlbmRlci5maWxsU3R5bGUgPSBTSU1VTEFUSU9OX0JBTExTX0NPTE9SO1xuXHRcdH1cblx0fVxufVxuXG5jbGFzcyBBZG1pblNlcnZpY2Uge1xuXHRjb25zdHJ1Y3Rvcihjb21wYW55LCBhSHVtYW5SZXNvdXJjZXNIYW5kbGVyLCBtYXhFbXBsb3llZXM9TUFYX1JFQ1JVSVRTX1BFUl9DT01QQU5JRVMpIHtcblx0XHR0aGlzLmNvbXBhbnkgPSBjb21wYW55O1xuXHRcdHRoaXMuaHVtYW5SZXNvdXJjZXNIYW5kbGVyID0gYUh1bWFuUmVzb3VyY2VzSGFuZGxlcjtcblx0XHR0aGlzLmVtcGxveWVlcyA9IFtdO1xuXHRcdHRoaXMubWF4RW1wbG95ZWVzID0gbWF4RW1wbG95ZWVzO1xuXHR9XG5cbiAgICBwYXlFbXBsb3llZXMoc2FsYXJ5KSB7XG4gICAgICAgIHZhciBwYWlkLFxuICAgICAgICAgICAgdG9GaXJlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVtcGxveWVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpZCA9IHRoaXMuY29tcGFueS5wYXkodGhpcy5lbXBsb3llZXNbaV0sIHNhbGFyeSk7XG5cdFx0XHQvL1RPRE8gdXBkYXRlU2l6ZXMoKTtcbiAgICAgICAgICAgIGlmIChwYWlkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdG9GaXJlICs9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGFpZCB0aGVcIiwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b0ZpcmU7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5maXJlQW5FbXBsb3llZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbXBhbnkud2FsbGV0LmNhbkFmZm9yZEl0KHNhbGFyeSArICgyICogdGhpcy5lbXBsb3llZXMubGVuZ3RoKSkgJiYgdGhpcy5lbXBsb3llZXMubGVuZ3RoIDwgdGhpcy5tYXhFbXBsb3llZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3J1aXQgPSB0aGlzLnJlY3J1aXRBbkVtcGxveWVlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWNydWl0QW5FbXBsb3llZSgpIHtcbiAgICAgICAgY29uc3QgcmVjcnVpdCA9IHRoaXMuaHVtYW5SZXNvdXJjZXNIYW5kbGVyLmdldFJlY3J1aXQoKTtcbiAgICAgICAgaWYgKHJlY3J1aXQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzLnB1c2gocmVjcnVpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY3J1aXQ7XG4gICAgfVxuXG4gICAgZmlyZUFuRW1wbG95ZWUoKSB7XG4gICAgICAgIHRoaXMuaHVtYW5SZXNvdXJjZXNIYW5kbGVyLmZyZWVSZWNydWl0KHRoaXMuZW1wbG95ZWVzLnBvcCgpKTtcbiAgICB9XG59XG5cbmNsYXNzIEVudGl0eSB7XG5cdGNvbnN0cnVjdG9yIChtYXR0ZXJTaGFwZSkge1xuXHRcdHRoaXMuc2hhcGUgPSBtYXR0ZXJTaGFwZTtcblx0XHR0aGlzLndhbGxldCA9IG5ldyBXYWxsZXQodGhpcylcblx0XHR0aGlzLnNoYXBlLm93bmVyID0gdGhpcztcblx0XHR0aGlzLnNwZWVkID0gMDtcblx0fVxuXG5cdHVwZGF0ZVNpemUocmF0aW8pIHtcbiAgICAgICAgTWF0dGVyLkJvZHkuc2NhbGUodGhpcy5zaGFwZSwgcmF0aW8sIHJhdGlvKTtcblx0fVxuXG5cdGluY29tZShhbW91bnQpIHtcblx0XHR0aGlzLndhbGxldC5pbmNvbWUoYW1vdW50KTtcblx0fVxuXG5cdHBheSh0YXJnZXQsIGFtb3VudCkge1xuXHRcdHRoaXMud2FsbGV0LnBheSh0YXJnZXQsIGFtb3VudCk7XG5cdH1cblxuXHRzZXRDb2xvcihjb2xvcikge1xuXHRcdHRoaXMuc2hhcGUucmVuZGVyLmZpbGxTdHlsZSA9IGNvbG9yO1xuXHR9XG5cblx0c2V0U3BlZWQoc3BlZWQpIHtcblx0XHR0aGlzLnNwZWVkID0gc3BlZWQ7XG5cdH1cblxuXHR1cGRhdGVTcGVlZCgpIHtcblx0XHRCb2R5LnNldFNwZWVkKHRoaXMuc2hhcGUsIHRoaXMuc3BlZWQpO1xuXHR9XG59XG5cbmNsYXNzIFBlcnNvbiBleHRlbmRzIEVudGl0eSB7XG59XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBFbnRpdHkge1xuXHRjb25zdHJ1Y3RvciAobWF0dGVyU2hhcGUsIGh1bWFuUmVzb3VyY2VzSGFuZGxlcikge1xuXHRcdHN1cGVyKG1hdHRlclNoYXBlKVxuXHRcdHRoaXMuaHVtYW5SZXNvdXJjZXNIYW5kbGVyID0gaHVtYW5SZXNvdXJjZXNIYW5kbGVyO1xuXHR9XG59XG5cbmNsYXNzIEJhbmsgZXh0ZW5kcyBFbnRpdHkge1xufVxuXG5jbGFzcyBTaW11bGF0aW9uIHtcblx0Y29uc3RydWN0b3IoZWxlbWVudElkKSB7XG5cdFx0dGhpcy5sYXN0VGltZSA9IENvbW1vbi5ub3coKTtcblxuXHRcdHRoaXMuZWxlbWVudElkID0gZWxlbWVudElkXG5cdFx0dGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdFx0dGhpcy5wYXVzZWQgPSB0cnVlO1xuXHRcdHRoaXMuc3BlZWRzID0gW107XG5cdFx0dGhpcy5DdG9DVHJhbnNhY3Rpb25BbW91bnQgPSAxO1xuXHRcdHRoaXMuaHVtYW5SZXNvdXJjZXNIYW5kbGVyID0gbnVsbDtcblx0XHR0aGlzLmNvdW50ZXIgPSAwO1xuXG5cdFx0Ly8gY3JlYXRlIGFuIGVuZ2luZVxuXHRcdHRoaXMuZW5naW5lID0gRW5naW5lLmNyZWF0ZSgpO1xuXHRcdHRoaXMuZW5naW5lLmdyYXZpdHkuc2NhbGUgPSAwO1xuXHRcdHRoaXMud29ybGQgPSB0aGlzLmVuZ2luZS53b3JsZDtcblxuXHRcdC8vIGNyZWF0ZSBhIHJlbmRlcmVyXG5cdFx0dmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsZW1lbnRJZCk7XG5cdFx0dGhpcy5yZW5kZXJlciA9IFJlbmRlci5jcmVhdGUoe1xuXHRcdFx0ZWxlbWVudCxcblx0XHRcdGVuZ2luZTogdGhpcy5lbmdpbmUsXG5cdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdHdpcmVmcmFtZXM6IGZhbHNlLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBTSU1VTEFUSU9OX0JBQ0tfQ09MT1IsXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRsZXQgcmVuZGVyID0gdGhpcy5yZW5kZXJlcjtcblx0XHRsZXQgZW5naW5lID0gdGhpcy5lbmdpbmU7XG5cdFx0dmFyIGhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gZ2V0IHRoZSBjdXJyZW50IHdpbmRvdyBzaXplXG5cdFx0XHR2YXIgd2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoLFxuXHRcdFx0XHRoZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcblx0XHRcdGNvbnNvbGUubG9nKGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdFx0XHRyZW5kZXIuY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuXHRcdFx0cmVuZGVyLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHt3aWR0aCoyLzN9cHhgO1xuXHRcdH07XG5cblx0XHRoYW5kbGVXaW5kb3dSZXNpemUoKTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVXaW5kb3dSZXNpemUpO1xuXHR9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIFJlbmRlci5ydW4odGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBcbiAgICBydW4oKSB7XG4gICAgICAgIHRoaXMucnVubmVyID0gdGhpcy5ydW5uZXIgfHwgUnVubmVyLmNyZWF0ZSgpO1xuICAgICAgICBSdW5uZXIucnVuKHRoaXMucnVubmVyLCB0aGlzLmVuZ2luZSk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgUmVuZGVyLnN0b3AodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIFJ1bm5lci5zdG9wKHRoaXMucnVubmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghIHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zaGFrZVNjZW5lKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cdFx0aWYgKHRoaXMucGF1c2VkKSB7XG5cdFx0XHR0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXHRcdFx0dGhpcy5sb2dUb3RhbENhc2hJblNpbXVsYXRpb24oKTtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cdFx0XHR0aGlzLnJ1bigpO1xuXHRcdH1cbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoISB0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBSZW5kZXIuc3RvcCh0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgUnVubmVyLnN0b3AodGhpcy5ydW5uZXIpO1xuXHRcdHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICB9XG5cblx0bG9nVG90YWxDYXNoSW5TaW11bGF0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmdyb3VwKFwiY291bnRpbmcgY2FzaFwiKTtcblx0XHRjb25zb2xlLmxvZyh0aGlzLnBlb3BsZS5sZW5ndGgsIFwicGVvcGxlXCIpXG5cdFx0dmFyIHJlc3VsdCA9IDA7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBlb3BsZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0cmVzdWx0ICs9IHRoaXMucGVvcGxlW2ldLndhbGxldC5nZXRDYXNoQW1vdW50KCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmNvbXBhbmllcykge1xuXHRcdFx0Y29uc29sZS5sb2codGhpcy5jb21wYW5pZXMubGVuZ3RoLCBcImNvbXBhbmllc1wiKVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbXBhbmllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRyZXN1bHQgKz0gdGhpcy5jb21wYW5pZXNbaV0ud2FsbGV0LmdldENhc2hBbW91bnQoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc29sZS5sb2cocmVzdWx0LCBcIuKCrCB0b3RhbFwiKTtcbiAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuICAgIC8qXG4gICAgICogSW5pdGlsaXplIHRoZSBib3JkZXJzIGFuZCBhZGQgdGhlbSB0byBzY2VuZVxuICAgICAqKi9cbiAgICBhZGRCb3JkZXJzKCkge1xuICAgICAgICB2YXIgYm9keVN0eWxlID0geyBmaWxsU3R5bGU6IFNJTVVMQVRJT05fQk9SREVSU19DT0xPUiB9O1xuXG4gICAgICAgIENvbXBvc2l0ZS5hZGQodGhpcy53b3JsZCwgW1xuICAgICAgICAgICAgQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgMTAsIHsgaXNTdGF0aWM6IHRydWUsIHJlbmRlcjogYm9keVN0eWxlIH0pLFxuICAgICAgICAgICAgQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCAxMCwgeyBpc1N0YXRpYzogdHJ1ZSwgcmVuZGVyOiBib2R5U3R5bGUgfSksXG4gICAgICAgICAgICBCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCAxMCwgNjAwLCB7IGlzU3RhdGljOiB0cnVlLCByZW5kZXI6IGJvZHlTdHlsZSB9KSxcbiAgICAgICAgICAgIEJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCAxMCwgNjAwLCB7IGlzU3RhdGljOiB0cnVlLCByZW5kZXI6IGJvZHlTdHlsZSB9KVxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgc3BsaXQgYmFyIGluIHRoZSBtaWRkbGUgb2YgdGhlIHNjZW5lLCB0byBoYXZlIGhhbGYgYmFsbHMgb24gb25lXG4gICAgICogc2lkZSBhbmQgdGhlIG92ZXIgaGFsZiBvbiB0aGUgb3RoZXIgc2lkZVxuICAgICAqL1xuICAgIGFkZFNwbGl0KCkge1xuICAgICAgICB2YXIgYm9keVN0eWxlID0geyBmaWxsU3R5bGU6IFNJTVVMQVRJT05fQk9SREVSU19DT0xPUiB9O1xuXG4gICAgICAgIENvbXBvc2l0ZS5hZGQodGhpcy53b3JsZCwgW1xuICAgICAgICAgICAgQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDMwMCwgMjAsIDYwMCwgeyBpc1N0YXRpYzogdHJ1ZSwgcmVuZGVyOiBib2R5U3R5bGUgfSksXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBFT1BMRVxuXHQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qIFxuICAgICAqIEluaXRpYWxpemUgdGhlIGJhbGxzIGFuZCBhZGQgdGhlbSB0byBzY2VuZVxuICAgICAqKi9cbiAgICBhZGRQZW9wbGUoKSB7XG4gICAgICAgIGNvbnN0IHBlb3BsZVN0YWNrID0gQ29tcG9zaXRlcy5zdGFjayg3MCwgMTAwLCBDT0xVTU5TLCBST1dTLCA1MCwgNTAsIGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIFNJTVVMQVRJT05fTUlOX1NJWkUvMiwgeyByZXN0aXR1dGlvbjogMSwgcmVuZGVyOiB7IGZpbGxTdHlsZTogU0lNVUxBVElPTl9CQUxMU19DT0xPUiB9fSk7XG4gICAgICAgIH0pO1xuICAgICAgICBDb21wb3NpdGUuYWRkKHRoaXMud29ybGQsIHBlb3BsZVN0YWNrKTtcblxuXHRcdHRoaXMucGVvcGxlID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGVvcGxlU3RhY2suYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBlb3BsZS5wdXNoKG5ldyBQZXJzb24ocGVvcGxlU3RhY2suYm9kaWVzW2ldKSk7XG4gICAgICAgIH1cblx0XHR0aGlzLmh1bWFuUmVzb3VyY2VzSGFuZGxlciA9IG5ldyBIdW1hblJlc291cmNlc0hhbmRsZXIodGhpcy5wZW9wbGUpXG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwZW9wbGVzIGNhcGl0YWwuXG4gICAgICogSWYgcmFuZG9tIGlzIHRydWUsIHJhbmRvbW5lc3MgaXMgYmFzZWQgb24gZ2l2ZW4gY2FwaXRhbFxuICAgICAqL1xuICAgIHNldFBlb3BsZUNhcGl0YWwoY2FwaXRhbCwgcmFuZG9tPWZhbHNlKSB7XG4gICAgICAgIHZhciBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FwaXRhbDsgfVxuICAgICAgICBpZiAocmFuZG9tKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTWF0aC5yb3VuZChDb21tb24ucmFuZG9tKCkgKiBjYXBpdGFsKTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhdGlvLCBjYXBpdGFsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGVvcGxlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjYXBpdGFsID0gY2FsY3VsYXRlZENhcGl0YWwoKTtcbiAgICAgICAgICAgIHRoaXMucGVvcGxlW2ldLmluY29tZShjYXBpdGFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGVvcGxlcyBjb2xvciAoSSBiZXQgYSBsb3Qgd2lsbCBhc2sgZm9yIHdoaXRlIG9PKS5cbiAgICAgKiBJZiBjb2xvciBpcyBudWxsLCBjb2xvcnMgYXJlIHJhbmRvbVxuICAgICAqL1xuICAgIHNldFBlb3BsZUNvbG9yKGNvbG9yPW51bGwpIHtcbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb2xvcjsgfTtcblxuICAgICAgICBpZiAoIWNvbG9yKSB7IGdldENvbG9yID0gZ2V0UmFuZG9tQ29sb3IgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZW9wbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGVvcGxlW2ldLnNldENvbG9yKGdldENvbG9yKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwZW9wbGVzIHNwZWVkLlxuICAgICAqIElmIHJhbmRvbSBpcyB0cnVlLCBzcGVlZCBpcyB0aGUgYmFzZSBmb3IgcmFuZG9tbmVzc1xuICAgICAqL1xuICAgIHNldFBlb3BsZVNwZWVkKHNwZWVkLCByYW5kb209ZmFsc2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBlb3BsZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IHIgPSByYW5kb20gPyBDb21tb24ucmFuZG9tKCkgOiAxO1xuXHRcdFx0dGhpcy5wZW9wbGVbaV0uc2V0U3BlZWQociAqIHNwZWVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmdpbmUgPSB0aGlzLmVuZ2luZTtcbiAgICAgICAgdmFyIHBlb3BsZSA9IHRoaXMucGVvcGxlO1xuXG4gICAgICAgIEV2ZW50cy5vbih0aGlzLmVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBlb3BsZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRwZW9wbGVbaV0udXBkYXRlU3BlZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNoYWtlU2NlbmUoKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHRoaXMuZW5naW5lLndvcmxkKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICB2YXIgZm9yY2VNYWduaXR1ZGUgPSAwLjAzICogYm9keS5tYXNzO1xuXG4gICAgICAgICAgICAvLyBhcHBseSB0aGUgZm9yY2Ugb3ZlciBhIHNpbmdsZSB1cGRhdGVcbiAgICAgICAgICAgIEJvZHkuYXBwbHlGb3JjZShib2R5LCBib2R5LnBvc2l0aW9uLCB7IFxuICAgICAgICAgICAgICAgIHg6IChmb3JjZU1hZ25pdHVkZSArIENvbW1vbi5yYW5kb20oKSAqIGZvcmNlTWFnbml0dWRlKSAqIENvbW1vbi5jaG9vc2UoWzEsIC0xXSksIFxuICAgICAgICAgICAgICAgIHk6IC1mb3JjZU1hZ25pdHVkZSArIENvbW1vbi5yYW5kb20oKSAqIC1mb3JjZU1hZ25pdHVkZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBPbiBlYWNoIGNvbGxpc2lvbiwgbWFrZSBhIHRyYW5zYWN0aW9uIGZyb20gcGVvcGxlIChjaXJjbGUpIHRvIHBlb3BsZSAoY2lyY2xlKVxuICAgICAqL1xuICAgIHNldFBlb3BsZVRyYW5zYWN0aW9uc09uKGN0b2NBbW91bnQpIHtcbiAgICAgICAgRXZlbnRzLm9uKHRoaXMuZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHBhaXJzID0gZXZlbnQucGFpcnM7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhaXIuYm9keUEubGFiZWwgPT09IFwiQ2lyY2xlIEJvZHlcIiAmJiBwYWlyLmJvZHlCLmxhYmVsID09PSBcIkNpcmNsZSBCb2R5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSBDb21tb24uY2hvb3NlKFtwYWlyLmJvZHlBLCBwYWlyLmJvZHlCXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBCID0gQSA9PT0gcGFpci5ib2R5QSA/IHBhaXIuYm9keUIgOiBwYWlyLmJvZHlBO1xuICAgICAgICAgICAgICAgICAgICBBLm93bmVyLnBheShCLm93bmVyLCBjdG9jQW1vdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT01QQU5JRVNcblx0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKipcbiAgICAgKiBBZGQgc3F1YXJlcyByZXByZXNlbnRpbmcgY29tcGFuaWVzXG4gICAgICovXG4gICAgYWRkQ29tcGFuaWVzKG4pIHtcbiAgICAgICAgY29uc3QgY29tcGFueVN0YWNrID0gQ29tcG9zaXRlcy5zdGFjayg1MDAsIDEwMCwgMiwgTWF0aC5yb3VuZChuLzIpLCA1MCwgNTAsIGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDE1LCAxNSwgeyByZXN0aXR1dGlvbjogMSwgcmVuZGVyOiB7IGZpbGxTdHlsZTogZ2V0UmFuZG9tQ29sb3IoKSB9fSk7XG4gICAgICAgIH0pO1xuICAgICAgICBDb21wb3NpdGUuYWRkKHRoaXMud29ybGQsIGNvbXBhbnlTdGFjayk7XG5cblx0XHR0aGlzLmNvbXBhbmllcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcGFueVN0YWNrLmJvZGllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5jb21wYW5pZXMucHVzaChuZXcgQ29tcGFueShjb21wYW55U3RhY2suYm9kaWVzW2ldLCB0aGlzLmh1bWFuUmVzb3VyY2VzSGFuZGxlcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29tcGFuaWVzIGNhcGl0YWwuXG4gICAgICogSWYgcmFuZG9tIGlzIHRydWUsIHJhbmRvbW5lc3MgaXMgYmFzZWQgb24gZ2l2ZW4gY2FwaXRhbFxuICAgICAqL1xuICAgIHNldENvbXBhbmllc0NhcGl0YWwoY2FwaXRhbCwgcmFuZG9tPWZhbHNlKSB7XG4gICAgICAgIHZhciBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FwaXRhbDsgfVxuICAgICAgICBpZiAocmFuZG9tKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTWF0aC5yb3VuZChDb21tb24ucmFuZG9tKCkgKiBjYXBpdGFsKTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhdGlvO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29tcGFuaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBhbmllc1tpXS5pbmNvbWUoY2FsY3VsYXRlZENhcGl0YWwoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIE9uIGVhY2ggY29sbGlzaW9uLCBtYWtlIGEgdHJhbnNhY3Rpb24gZnJvbSBjdXN0b21lciAoY2lyY2xlKSB0byBjb21wYW55IChyZWN0YW5nbGUpXG4gICAgICovXG4gICAgc2V0Q29tcGFuaWVzVHJhbnNhY3Rpb25PbihidG9iQW1vdW50LCBjdG9iQW1vdW50KSB7XG4gICAgICAgIEV2ZW50cy5vbih0aGlzLmVuZ2luZSwgJ2NvbGxpc2lvblN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBwYWlycyA9IGV2ZW50LnBhaXJzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgICAgIHZhciBBID0gcGFpci5ib2R5QSxcbiAgICAgICAgICAgICAgICAgICAgQiA9IHBhaXIuYm9keUI7XG5cblx0XHRcdFx0aWYgKCEgQS5pc1N0YXRpYyAmJiAhIEIuaXNTdGF0aWMpIHtcblx0XHRcdFx0XHRpZiAoQS5sYWJlbCA9PT0gXCJSZWN0YW5nbGUgQm9keVwiICYmIEIubGFiZWwgPT09IFwiQ2lyY2xlIEJvZHlcIikge1xuXHRcdFx0XHRcdFx0Qi5vd25lci5wYXkoQS5vd25lciwgY3RvYkFtb3VudCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChBLmxhYmVsID09PSBcIkNpcmNsZSBCb2R5XCIgJiYgQi5sYWJlbCA9PT0gXCJSZWN0YW5nbGUgQm9keVwiKSB7XG5cdFx0XHRcdFx0XHRBLm93bmVyLnBheShCLm93bmVyLCBjdG9iQW1vdW50KTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKEEubGFiZWwgPT09IFwiUmVjdGFuZ2xlIEJvZHlcIiAmJiBCLmxhYmVsID09PSBcIlJlY3RhbmdsZSBCb2R5XCIpIHtcblx0XHRcdFx0XHRcdHZhciBBMiA9IENvbW1vbi5jaG9vc2UoW0EsIEJdKTtcblx0XHRcdFx0XHRcdHZhciBCMiA9IEEyID09PSBBID8gQiA6IEE7XG5cdFx0XHRcdFx0XHRBMi5vd25lci5wYXkoQjIub3duZXIsIGJ0b2JBbW91bnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT24gdXBkYXRlLCBwYXkgc2FsYXJpZXNcbiAgICAgKi9cbiAgICBzZXRDb21wYW5pZXNTYWxhcmllc09uKHNhbGFyeSkge1xuICAgICAgICB2YXIgY29tcGFuaWVzID0gdGhpcy5jb21wYW5pZXM7XG5cdFx0dmFyIHNpbXVsYXRpb24gPSB0aGlzO1xuXHRcdHZhciBsYXN0VGltZSA9IHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgRXZlbnRzLm9uKHRoaXMuZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChDb21tb24ubm93KCkgLSBsYXN0VGltZSA+PSA1MDAwKSB7XG5cdFx0XHRcdHNpbXVsYXRpb24ubG9nVG90YWxDYXNoSW5TaW11bGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wYW5pZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFuaWVzW2ldLmFkbWluU2VydmljZS5wYXlFbXBsb3llZXMoc2FsYXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGxhc3QgdGltZVxuICAgICAgICAgICAgICAgIGxhc3RUaW1lID0gQ29tbW9uLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRDb21wYW5pZXNTcGVlZChzcGVlZCwgcmFuZG9tPWZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb21wYW5pZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGFuaWVzW2ldLmN1c3RvbVNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocmFuZG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wYW5pZXNbaV0uY3VzdG9tU3BlZWQgPSBDb21tb24ucmFuZG9tKCkgKiBzcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmdpbmUgPSB0aGlzLmVuZ2luZTtcbiAgICAgICAgdmFyIGNvbXBhbmllcyA9IHRoaXMuY29tcGFuaWVzO1xuXG4gICAgICAgIEV2ZW50cy5vbih0aGlzLmVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBhbmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIEJvZHkuc2V0U3BlZWQoY29tcGFuaWVzW2ldLCBjb21wYW5pZXNbaV0uY3VzdG9tU3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFOS1Ncblx0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLyoqXG4gICAgICogQWRkIHRyaWFuZ2xlcyByZXByZXNlbnRpbmcgY29tcGFuaWVzXG4gICAgICovXG4gICAgYWRkQmFua3Mobikge1xuICAgICAgICBjb25zdCBiYW5rU3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDUwMCwgMjAwLCAyLCBNYXRoLnJvdW5kKG4vMiksIDUwLCA1MCwgZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIDMsIDE1LCB7IHJlc3RpdHV0aW9uOiAxLCByZW5kZXI6IHsgZmlsbFN0eWxlOiBTSU1VTEFUSU9OX0JBTktTX0NPTE9SIH19KTtcbiAgICAgICAgfSk7XG4gICAgICAgIENvbXBvc2l0ZS5hZGQodGhpcy53b3JsZCwgYmFua1N0YWNrKTtcblxuXHRcdHRoaXMuYmFua3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYW5rU3RhY2suYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLmJhbmtzLnB1c2gobmV3IEJhbmsoYmFua1N0YWNrLmJvZGllc1tpXSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIHByb2JhYmlsaXR5IHRvIG1ha2UgYSBsb2FuIGF0IHRoZSBiYW5rXG5cdCAqL1xuXHRzZXRCYW5rc0xvYW5PbihvZGRzKSB7XG5cdFx0bGV0IGNvdW50ZXIgPSB0aGlzLmNvdW50ZXI7XG5cdFx0Y29uc3QgZW5naW5lID0gdGhpcy5lbmdpbmU7XG4gICAgICAgIEV2ZW50cy5vbihlbmdpbmUsICdjb2xsaXNpb25TdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcGFpcnMgPSBldmVudC5wYWlycztcblx0XHRcdGxldCBsYXN0U2Vjb25kID0gQ29tbW9uLm5vdygpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgICAgIHZhciBBID0gcGFpci5ib2R5QSxcbiAgICAgICAgICAgICAgICAgICAgQiA9IHBhaXIuYm9keUI7XG5cblx0XHRcdFx0aWYgKEEubGFiZWwgPT09IFwiUG9seWdvbiBCb2R5XCIgfHwgQi5sYWJlbCA9PT0gXCJQb2x5Z29uIEJvZHlcIikge1xuXHRcdFx0XHRcdGNvdW50ZXIgKz0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghIEEuaXNTdGF0aWMgJiYgISBCLmlzU3RhdGljICYmIChBLmxhYmVsID09PSBcIlBvbHlnb24gQm9keVwiIHx8IEIubGFiZWwgPT09IFwiUG9seWdvbiBCb2R5XCIpICYmIGNvdW50ZXIgPj0gb2Rkcykge1xuXHRcdFx0XHRcdGNvbnN0IGJhbmsgPSBBLmxhYmVsID09PSBcIlBvbHlnb24gQm9keVwiID8gQSA6IEI7XG5cdFx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gQS5sYWJlbCA9PT0gXCJQb2x5Z29uIEJvZHlcIiA/IEIgOiBBO1xuXHRcdFx0XHRcdGlmICh0YXJnZXQubG9hbiAmJiB0YXJnZXQubG9hbiA+IDApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y291bnRlciA9IDA7XG5cdFx0XHRcdFx0dGFyZ2V0LndhbGxldC5pbmNvbWUoMTApO1xuXHRcdFx0XHRcdHRhcmdldC5sb2FuID0gMTE7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYmFuay5sYWJlbCwgXCJtYWtpbmcgbG9hbiB0b1wiLCB0YXJnZXQubGFiZWwpXG5cblx0XHRcdFx0XHRFdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGlmIChDb21tb24ubm93KCkgLSBsYXN0U2Vjb25kID49IDIwMDApIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRhcmdldC5sb2FuID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0YXJnZXQubG9hbiA9PT0gMTEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldC53YWxsZXQucGF5KGJhbmssIDEpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR0YXJnZXQubG9hbiAtPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHRhcmdldC53YWxsZXQuZGVzdHJveU1vbmV5KDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8vIHVwZGF0ZSBsYXN0IHNlY29uZFxuXHRcdFx0XHRcdFx0XHRsYXN0U2Vjb25kID0gQ29tbW9uLm5vdygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcblx0fVxuXG5cdHNldEJhbmtzQ29sb3IoY29sb3I9bnVsbCkge1xuICAgICAgICB2YXIgZ2V0Q29sb3IgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbG9yOyB9O1xuXG4gICAgICAgIGlmICghY29sb3IpIHsgZ2V0Q29sb3IgPSBnZXRSYW5kb21Db2xvciB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJhbmtzW2ldLnNldENvbG9yKGdldENvbG9yKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzZXRCYW5rc1NwZWVkKHNwZWVkLCByYW5kb209ZmFsc2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJhbmtzW2ldLmN1c3RvbVNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocmFuZG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5rc1tpXS5jdXN0b21TcGVlZCA9IENvbW1vbi5yYW5kb20oKSAqIHNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVuZ2luZSA9IHRoaXMuZW5naW5lO1xuICAgICAgICB2YXIgYmFua3MgPSB0aGlzLmJhbmtzO1xuXG4gICAgICAgIEV2ZW50cy5vbih0aGlzLmVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgQm9keS5zZXRTcGVlZChiYW5rc1tpXSwgYmFua3NbaV0uY3VzdG9tU3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzZXRCYW5rc0NhcGl0YWwoY2FwaXRhbCwgcmFuZG9tPWZhbHNlKSB7XG4gICAgICAgIHZhciBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FwaXRhbDsgfVxuICAgICAgICBpZiAocmFuZG9tKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkQ2FwaXRhbCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTWF0aC5yb3VuZChDb21tb24ucmFuZG9tKCkgKiBjYXBpdGFsKTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhdGlvO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmFua3NbaV0uYWRtaW5TZXJ2aWNlID0gbmV3IEFkbWluU2VydmljZSh0aGlzLmJhbmtzW2ldLCB0aGlzLmh1bWFuUmVzb3VyY2VzSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLmJhbmtzW2ldLndhbGxldC5pbmNvbWUoY2FsY3VsYXRlZENhcGl0YWwoKSk7XG4gICAgICAgIH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBPbiB1cGRhdGUsIHBheSBzYWxhcmllc1xuICAgICAqL1xuICAgIHNldEJhbmtzU2FsYXJpZXNPbihzYWxhcnkpIHtcbiAgICAgICAgdmFyIGJhbmtzID0gdGhpcy5iYW5rcztcblx0XHR2YXIgc2ltdWxhdGlvbiA9IHRoaXM7XG5cbiAgICAgICAgRXZlbnRzLm9uKHRoaXMuZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChDb21tb24ubm93KCkgLSBsYXN0VGltZSA+PSA1MDAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBiYW5rc1tpXS5hZG1pblNlcnZpY2UucGF5RW1wbG95ZWVzKHNhbGFyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBsYXN0IHRpbWVcbiAgICAgICAgICAgICAgICBsYXN0VGltZSA9IENvbW1vbi5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5jbGFzcyBTaW11bGF0aW9uSGFuZGxlciB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc2ltdWxhdGlvbnMgPSBbXTtcblx0fVxuXG4gICAgYWRkKG5hbWUsIHNpbXVsYXRpb24pIHtcbiAgICAgICAgdGhpcy5iaW5kU2ltdWxhdGlvblRvQnV0dG9ucyhzaW11bGF0aW9uLCBuYW1lKTtcbiAgICAgICAgdGhpcy5zaW11bGF0aW9ucy5wdXNoKHNpbXVsYXRpb24pO1xuICAgIH1cblxuICAgIGJpbmRTaW11bGF0aW9uVG9CdXR0b25zKHNpbXVsYXRpb24sIG5hbWUpIHtcbiAgICAgICAgdmFyIHNpbXVsYXRpb25zID0gdGhpcy5zaW11bGF0aW9ucztcbiAgICAgICAgbGV0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bmFtZX1TdGFydGApO1xuXHRcdHN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpbXVsYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpbXVsYXRpb25zW2ldICE9PSBzaW11bGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpbXVsYXRpb25zW2ldLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaW11bGF0aW9uLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBwYXVzZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke25hbWV9UGF1c2VgKTtcblx0XHRwYXVzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdFx0c2ltdWxhdGlvbi5zdG9wKCk7XG5cdFx0fSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgUGVyc29uLCBDb21wYW55LCBCYW5rLCBBYnN0cmFjdFdhbGxldCwgV2FsbGV0LCBPcmdhbmljV2FsbGV0LCBIdW1hblJlc291cmNlc0hhbmRsZXIsIEFkbWluU2VydmljZSwgU2ltdWxhdGlvbiwgU2ltdWxhdGlvbkhhbmRsZXIgfVxuIiwiLyohXG4gKiBtYXR0ZXItanMgMC4yMC4wIGJ5IEBsaWFicnVcbiAqIGh0dHA6Ly9icm0uaW8vbWF0dGVyLWpzL1xuICogTGljZW5zZSBNSVRcbiAqIFxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBcbiAqIENvcHlyaWdodCAoYykgTGlhbSBCcnVtbWl0dCBhbmQgY29udHJpYnV0b3JzLlxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiBcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiTWF0dGVyXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIk1hdHRlclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJNYXR0ZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkNvbW1vbmAgbW9kdWxlIGNvbnRhaW5zIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgYXJlIGNvbW1vbiB0byBhbGwgbW9kdWxlcy5cbipcbiogQGNsYXNzIENvbW1vblxuKi9cblxudmFyIENvbW1vbiA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1vbjtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgQ29tbW9uLl9iYXNlRGVsdGEgPSAxMDAwIC8gNjA7XG4gICAgQ29tbW9uLl9uZXh0SWQgPSAwO1xuICAgIENvbW1vbi5fc2VlZCA9IDA7XG4gICAgQ29tbW9uLl9ub3dTdGFydFRpbWUgPSArKG5ldyBEYXRlKCkpO1xuICAgIENvbW1vbi5fd2FybmVkT25jZSA9IHt9O1xuICAgIENvbW1vbi5fZGVjb21wID0gbnVsbDtcbiAgICBcbiAgICAvKipcbiAgICAgKiBFeHRlbmRzIHRoZSBvYmplY3QgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IHVzaW5nIHRoZSBvYmplY3QgaW4gdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgICAgKiBAbWV0aG9kIGV4dGVuZFxuICAgICAqIEBwYXJhbSB7fSBvYmpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZXBcbiAgICAgKiBAcmV0dXJuIHt9IG9iaiBleHRlbmRlZFxuICAgICAqL1xuICAgIENvbW1vbi5leHRlbmQgPSBmdW5jdGlvbihvYmosIGRlZXApIHtcbiAgICAgICAgdmFyIGFyZ3NTdGFydCxcbiAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICBkZWVwQ2xvbmU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZWVwID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFyZ3NTdGFydCA9IDI7XG4gICAgICAgICAgICBkZWVwQ2xvbmUgPSBkZWVwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJnc1N0YXJ0ID0gMTtcbiAgICAgICAgICAgIGRlZXBDbG9uZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gYXJnc1N0YXJ0OyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXBDbG9uZSAmJiBzb3VyY2VbcHJvcF0gJiYgc291cmNlW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqW3Byb3BdIHx8IG9ialtwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gb2JqW3Byb3BdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1vbi5leHRlbmQob2JqW3Byb3BdLCBkZWVwQ2xvbmUsIHNvdXJjZVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjbG9uZSBvZiB0aGUgb2JqZWN0LCBpZiBkZWVwIGlzIHRydWUgcmVmZXJlbmNlcyB3aWxsIGFsc28gYmUgY2xvbmVkLlxuICAgICAqIEBtZXRob2QgY2xvbmVcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHBhcmFtIHtib29sfSBkZWVwXG4gICAgICogQHJldHVybiB7fSBvYmogY2xvbmVkXG4gICAgICovXG4gICAgQ29tbW9uLmNsb25lID0gZnVuY3Rpb24ob2JqLCBkZWVwKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uZXh0ZW5kKHt9LCBkZWVwLCBvYmopO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGtleXMgZm9yIHRoZSBnaXZlbiBvYmplY3QuXG4gICAgICogQG1ldGhvZCBrZXlzXG4gICAgICogQHBhcmFtIHt9IG9ialxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBrZXlzXG4gICAgICovXG4gICAgQ29tbW9uLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG5cbiAgICAgICAgLy8gYXZvaWQgaGFzT3duUHJvcGVydHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopXG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgdmFsdWVzIGZvciB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEBtZXRob2QgdmFsdWVzXG4gICAgICogQHBhcmFtIHt9IG9ialxuICAgICAqIEByZXR1cm4ge2FycmF5fSBBcnJheSBvZiB0aGUgb2JqZWN0cyBwcm9wZXJ0eSB2YWx1ZXNcbiAgICAgKi9cbiAgICBDb21tb24udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChPYmplY3Qua2V5cykge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob2JqW2tleXNbaV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGF2b2lkIGhhc093blByb3BlcnR5IGZvciBwZXJmb3JtYW5jZVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgICAgdmFsdWVzLnB1c2gob2JqW2tleV0pO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdmFsdWUgZnJvbSBgYmFzZWAgcmVsYXRpdmUgdG8gdGhlIGBwYXRoYCBzdHJpbmcuXG4gICAgICogQG1ldGhvZCBnZXRcbiAgICAgKiBAcGFyYW0ge30gb2JqIFRoZSBiYXNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYCwgZS5nLiAnRm9vLkJhci5iYXonXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbl0gUGF0aCBzbGljZSBiZWdpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSBQYXRoIHNsaWNlIGVuZFxuICAgICAqIEByZXR1cm4ge30gVGhlIG9iamVjdCBhdCB0aGUgZ2l2ZW4gcGF0aFxuICAgICAqL1xuICAgIENvbW1vbi5nZXQgPSBmdW5jdGlvbihvYmosIHBhdGgsIGJlZ2luLCBlbmQpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJy4nKS5zbGljZShiZWdpbiwgZW5kKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG9iaiA9IG9ialtwYXRoW2ldXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgYSB2YWx1ZSBvbiBgYmFzZWAgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIGBwYXRoYCBzdHJpbmcuXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge30gb2JqIFRoZSBiYXNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYCwgZS5nLiAnRm9vLkJhci5iYXonXG4gICAgICogQHBhcmFtIHt9IHZhbCBUaGUgdmFsdWUgdG8gc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbl0gUGF0aCBzbGljZSBiZWdpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSBQYXRoIHNsaWNlIGVuZFxuICAgICAqIEByZXR1cm4ge30gUGFzcyB0aHJvdWdoIGB2YWxgIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIENvbW1vbi5zZXQgPSBmdW5jdGlvbihvYmosIHBhdGgsIHZhbCwgYmVnaW4sIGVuZCkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KCcuJykuc2xpY2UoYmVnaW4sIGVuZCk7XG4gICAgICAgIENvbW1vbi5nZXQob2JqLCBwYXRoLCAwLCAtMSlbcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dID0gdmFsO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaHVmZmxlcyB0aGUgZ2l2ZW4gYXJyYXkgaW4tcGxhY2UuXG4gICAgICogVGhlIGZ1bmN0aW9uIHVzZXMgYSBzZWVkZWQgcmFuZG9tIGdlbmVyYXRvci5cbiAgICAgKiBAbWV0aG9kIHNodWZmbGVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheVxuICAgICAqIEByZXR1cm4ge2FycmF5fSBhcnJheSBzaHVmZmxlZCByYW5kb21seVxuICAgICAqL1xuICAgIENvbW1vbi5zaHVmZmxlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihDb21tb24ucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gYXJyYXlbaV07XG4gICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICAgICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmFuZG9tbHkgY2hvb3NlcyBhIHZhbHVlIGZyb20gYSBsaXN0IHdpdGggZXF1YWwgcHJvYmFiaWxpdHkuXG4gICAgICogVGhlIGZ1bmN0aW9uIHVzZXMgYSBzZWVkZWQgcmFuZG9tIGdlbmVyYXRvci5cbiAgICAgKiBAbWV0aG9kIGNob29zZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGNob2ljZXNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IEEgcmFuZG9tIGNob2ljZSBvYmplY3QgZnJvbSB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBDb21tb24uY2hvb3NlID0gZnVuY3Rpb24oY2hvaWNlcykge1xuICAgICAgICByZXR1cm4gY2hvaWNlc1tNYXRoLmZsb29yKENvbW1vbi5yYW5kb20oKSAqIGNob2ljZXMubGVuZ3RoKV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgSFRNTEVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKiBAbWV0aG9kIGlzRWxlbWVudFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYSBIVE1MRWxlbWVudCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQ29tbW9uLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgJiYgb2JqLm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gYXJyYXkuXG4gICAgICogQG1ldGhvZCBpc0FycmF5XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQ29tbW9uLmlzQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLlxuICAgICAqIEBtZXRob2QgaXNGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYSBmdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQ29tbW9uLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBwbGFpbiBvYmplY3QuXG4gICAgICogQG1ldGhvZCBpc1BsYWluT2JqZWN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHBsYWluIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQ29tbW9uLmlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHN0cmluZy5cbiAgICAgKiBAbWV0aG9kIGlzU3RyaW5nXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQ29tbW9uLmlzU3RyaW5nID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUgY2xhbXBlZCBiZXR3ZWVuIGEgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAbWV0aG9kIGNsYW1wXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB2YWx1ZSBjbGFtcGVkIGJldHdlZW4gbWluIGFuZCBtYXggaW5jbHVzaXZlXG4gICAgICovXG4gICAgQ29tbW9uLmNsYW1wID0gZnVuY3Rpb24odmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbilcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIGlmICh2YWx1ZSA+IG1heClcbiAgICAgICAgICAgIHJldHVybiBtYXg7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNpZ24gb2YgdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBtZXRob2Qgc2lnblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gLTEgaWYgbmVnYXRpdmUsICsxIGlmIDAgb3IgcG9zaXRpdmVcbiAgICAgKi9cbiAgICBDb21tb24uc2lnbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IDAgPyAtMSA6IDE7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRpbWVzdGFtcCBzaW5jZSB0aGUgdGltZSBvcmlnaW4gKGUuZy4gZnJvbSBwYWdlIGxvYWQpLlxuICAgICAqIFRoZSByZXN1bHQgaXMgaW4gbWlsbGlzZWNvbmRzIGFuZCB3aWxsIHVzZSBoaWdoLXJlc29sdXRpb24gdGltaW5nIGlmIGF2YWlsYWJsZS5cbiAgICAgKiBAbWV0aG9kIG5vd1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGN1cnJlbnQgdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIENvbW1vbi5ub3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cucGVyZm9ybWFuY2Uud2Via2l0Tm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS53ZWJraXROb3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChEYXRlLm5vdykge1xuICAgICAgICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCkpIC0gQ29tbW9uLl9ub3dTdGFydFRpbWU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBhIG1heGltdW0gdmFsdWUgaW5jbHVzaXZlLlxuICAgICAqIFRoZSBmdW5jdGlvbiB1c2VzIGEgc2VlZGVkIHJhbmRvbSBnZW5lcmF0b3IuXG4gICAgICogQG1ldGhvZCByYW5kb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggaW5jbHVzaXZlXG4gICAgICovXG4gICAgQ29tbW9uLnJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgICAgIG1pbiA9ICh0eXBlb2YgbWluICE9PSBcInVuZGVmaW5lZFwiKSA/IG1pbiA6IDA7XG4gICAgICAgIG1heCA9ICh0eXBlb2YgbWF4ICE9PSBcInVuZGVmaW5lZFwiKSA/IG1heCA6IDE7XG4gICAgICAgIHJldHVybiBtaW4gKyBfc2VlZGVkUmFuZG9tKCkgKiAobWF4IC0gbWluKTtcbiAgICB9O1xuXG4gICAgdmFyIF9zZWVkZWRSYW5kb20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGluZWFyX2NvbmdydWVudGlhbF9nZW5lcmF0b3JcbiAgICAgICAgQ29tbW9uLl9zZWVkID0gKENvbW1vbi5fc2VlZCAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7XG4gICAgICAgIHJldHVybiBDb21tb24uX3NlZWQgLyAyMzMyODA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgQ1NTIGhleCBjb2xvdXIgc3RyaW5nIGludG8gYW4gaW50ZWdlci5cbiAgICAgKiBAbWV0aG9kIGNvbG9yVG9OdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sb3JTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBDU1MgaGV4IHN0cmluZ1xuICAgICAqL1xuICAgIENvbW1vbi5jb2xvclRvTnVtYmVyID0gZnVuY3Rpb24oY29sb3JTdHJpbmcpIHtcbiAgICAgICAgY29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5yZXBsYWNlKCcjJywnJyk7XG5cbiAgICAgICAgaWYgKGNvbG9yU3RyaW5nLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nLmNoYXJBdCgwKSArIGNvbG9yU3RyaW5nLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvclN0cmluZy5jaGFyQXQoMSkgKyBjb2xvclN0cmluZy5jaGFyQXQoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3JTdHJpbmcuY2hhckF0KDIpICsgY29sb3JTdHJpbmcuY2hhckF0KDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zb2xlIGxvZ2dpbmcgbGV2ZWwgdG8gdXNlLCB3aGVyZSBlYWNoIGxldmVsIGluY2x1ZGVzIGFsbCBsZXZlbHMgYWJvdmUgYW5kIGV4Y2x1ZGVzIHRoZSBsZXZlbHMgYmVsb3cuXG4gICAgICogVGhlIGRlZmF1bHQgbGV2ZWwgaXMgJ2RlYnVnJyB3aGljaCBzaG93cyBhbGwgY29uc29sZSBtZXNzYWdlcy4gIFxuICAgICAqXG4gICAgICogUG9zc2libGUgbGV2ZWwgdmFsdWVzIGFyZTpcbiAgICAgKiAtIDAgPSBOb25lXG4gICAgICogLSAxID0gRGVidWdcbiAgICAgKiAtIDIgPSBJbmZvXG4gICAgICogLSAzID0gV2FyblxuICAgICAqIC0gNCA9IEVycm9yXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcm9wZXJ0eSBsb2dMZXZlbFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIENvbW1vbi5sb2dMZXZlbCA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmxvZ2AgbWVzc2FnZSBvbmx5IGlmIHRoZSBjdXJyZW50IGBDb21tb24ubG9nTGV2ZWxgIGFsbG93cyBpdC5cbiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ21hdHRlci1qcycgdG8gbWFrZSBpdCBlYXNpbHkgaWRlbnRpZmlhYmxlLlxuICAgICAqIEBtZXRob2QgbG9nXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi5sb2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgWydtYXR0ZXItanM6J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmluZm9gIG1lc3NhZ2Ugb25seSBpZiB0aGUgY3VycmVudCBgQ29tbW9uLmxvZ0xldmVsYCBhbGxvd3MgaXQuXG4gICAgICogVGhlIG1lc3NhZ2Ugd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdtYXR0ZXItanMnIHRvIG1ha2UgaXQgZWFzaWx5IGlkZW50aWZpYWJsZS5cbiAgICAgKiBAbWV0aG9kIGluZm9cbiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuXG4gICAgICovXG4gICAgQ29tbW9uLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIFsnbWF0dGVyLWpzOiddLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSBgY29uc29sZS53YXJuYCBtZXNzYWdlIG9ubHkgaWYgdGhlIGN1cnJlbnQgYENvbW1vbi5sb2dMZXZlbGAgYWxsb3dzIGl0LlxuICAgICAqIFRoZSBtZXNzYWdlIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnbWF0dGVyLWpzJyB0byBtYWtlIGl0IGVhc2lseSBpZGVudGlmaWFibGUuXG4gICAgICogQG1ldGhvZCB3YXJuXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi53YXJuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25zb2xlICYmIENvbW1vbi5sb2dMZXZlbCA+IDAgJiYgQ29tbW9uLmxvZ0xldmVsIDw9IDMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ21hdHRlci1qczonXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZXMgYENvbW1vbi53YXJuYCB0byBsb2cgdGhlIGdpdmVuIG1lc3NhZ2Ugb25lIHRpbWUgb25seS5cbiAgICAgKiBAbWV0aG9kIHdhcm5PbmNlXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi53YXJuT25jZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbignICcpO1xuXG4gICAgICAgIGlmICghQ29tbW9uLl93YXJuZWRPbmNlW21lc3NhZ2VdKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybihtZXNzYWdlKTtcbiAgICAgICAgICAgIENvbW1vbi5fd2FybmVkT25jZVttZXNzYWdlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSBkZXByZWNhdGVkIGNvbnNvbGUgd2FybmluZyB3aGVuIHRoZSBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGNhbGxlZC5cbiAgICAgKiBUaGUgdGFyZ2V0IGZ1bmN0aW9uIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIG5ldyBmdW5jdGlvbiB0aGF0IGZpcnN0IHNob3dzIHRoZSB3YXJuaW5nXG4gICAgICogYW5kIHRoZW4gY2FsbHMgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICAgICAqIEBtZXRob2QgZGVwcmVjYXRlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogVGhlIG9iamVjdCBvciBtb2R1bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgZnVuY3Rpb24gb24gb2JqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHdhcm5pbmcgVGhlIG9uZS10aW1lIG1lc3NhZ2UgdG8gc2hvdyBpZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAgICovXG4gICAgQ29tbW9uLmRlcHJlY2F0ZWQgPSBmdW5jdGlvbihvYmosIHByb3AsIHdhcm5pbmcpIHtcbiAgICAgICAgb2JqW3Byb3BdID0gQ29tbW9uLmNoYWluKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm5PbmNlKCfwn5SFIGRlcHJlY2F0ZWQg8J+UhScsIHdhcm5pbmcpO1xuICAgICAgICB9LCBvYmpbcHJvcF0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBzZXF1ZW50aWFsIElELlxuICAgICAqIEBtZXRob2QgbmV4dElkXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBVbmlxdWUgc2VxdWVudGlhbCBJRFxuICAgICAqL1xuICAgIENvbW1vbi5uZXh0SWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5fbmV4dElkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgY3Jvc3MgYnJvd3NlciBjb21wYXRpYmxlIGluZGV4T2YgaW1wbGVtZW50YXRpb24uXG4gICAgICogQG1ldGhvZCBpbmRleE9mXG4gICAgICogQHBhcmFtIHthcnJheX0gaGF5c3RhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbmVlZGxlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcG9zaXRpb24gb2YgbmVlZGxlIGluIGhheXN0YWNrLCBvdGhlcndpc2UgLTEuXG4gICAgICovXG4gICAgQ29tbW9uLmluZGV4T2YgPSBmdW5jdGlvbihoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgICAgIGlmIChoYXlzdGFjay5pbmRleE9mKVxuICAgICAgICAgICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhheXN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaGF5c3RhY2tbaV0gPT09IG5lZWRsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBjcm9zcyBicm93c2VyIGNvbXBhdGlibGUgYXJyYXkgbWFwIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBtZXRob2QgbWFwXG4gICAgICogQHBhcmFtIHthcnJheX0gbGlzdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gVmFsdWVzIGZyb20gbGlzdCB0cmFuc2Zvcm1lZCBieSBmdW5jLlxuICAgICAqL1xuICAgIENvbW1vbi5tYXAgPSBmdW5jdGlvbihsaXN0LCBmdW5jKSB7XG4gICAgICAgIGlmIChsaXN0Lm1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hcHBlZCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbWFwcGVkLnB1c2goZnVuYyhsaXN0W2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGRpcmVjdGVkIGdyYXBoIGFuZCByZXR1cm5zIHRoZSBwYXJ0aWFsbHkgb3JkZXJlZCBzZXQgb2YgdmVydGljZXMgaW4gdG9wb2xvZ2ljYWwgb3JkZXIuXG4gICAgICogQ2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFyZSBhbGxvd2VkLlxuICAgICAqIEBtZXRob2QgdG9wb2xvZ2ljYWxTb3J0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGdyYXBoXG4gICAgICogQHJldHVybiB7YXJyYXl9IFBhcnRpYWxseSBvcmRlcmVkIHNldCBvZiB2ZXJ0aWNlcyBpbiB0b3BvbG9naWNhbCBvcmRlci5cbiAgICAgKi9cbiAgICBDb21tb24udG9wb2xvZ2ljYWxTb3J0ID0gZnVuY3Rpb24oZ3JhcGgpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21nZWNoZXYvamF2YXNjcmlwdC1hbGdvcml0aG1zXG4gICAgICAgIC8vIENvcHlyaWdodCAoYykgTWlua28gR2VjaGV2IChNSVQgbGljZW5zZSlcbiAgICAgICAgLy8gTW9kaWZpY2F0aW9uczogdGlkeSBmb3JtYXR0aW5nIGFuZCBuYW1pbmdcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgdmlzaXRlZCA9IFtdLFxuICAgICAgICAgICAgdGVtcCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIG5vZGUgaW4gZ3JhcGgpIHtcbiAgICAgICAgICAgIGlmICghdmlzaXRlZFtub2RlXSAmJiAhdGVtcFtub2RlXSkge1xuICAgICAgICAgICAgICAgIENvbW1vbi5fdG9wb2xvZ2ljYWxTb3J0KG5vZGUsIHZpc2l0ZWQsIHRlbXAsIGdyYXBoLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgQ29tbW9uLl90b3BvbG9naWNhbFNvcnQgPSBmdW5jdGlvbihub2RlLCB2aXNpdGVkLCB0ZW1wLCBncmFwaCwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBuZWlnaGJvcnMgPSBncmFwaFtub2RlXSB8fCBbXTtcbiAgICAgICAgdGVtcFtub2RlXSA9IHRydWU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcblxuICAgICAgICAgICAgaWYgKHRlbXBbbmVpZ2hib3JdKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2aXNpdGVkW25laWdoYm9yXSkge1xuICAgICAgICAgICAgICAgIENvbW1vbi5fdG9wb2xvZ2ljYWxTb3J0KG5laWdoYm9yLCB2aXNpdGVkLCB0ZW1wLCBncmFwaCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRlbXBbbm9kZV0gPSBmYWxzZTtcbiAgICAgICAgdmlzaXRlZFtub2RlXSA9IHRydWU7XG5cbiAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIF9uXyBmdW5jdGlvbnMgYXMgYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlbSBpbiBvcmRlci5cbiAgICAgKiBUaGUgYXJndW1lbnRzIGFwcGxpZWQgd2hlbiBjYWxsaW5nIHRoZSBuZXcgZnVuY3Rpb24gd2lsbCBhbHNvIGJlIGFwcGxpZWQgdG8gZXZlcnkgZnVuY3Rpb24gcGFzc2VkLlxuICAgICAqIFRoZSB2YWx1ZSBvZiBgdGhpc2AgcmVmZXJzIHRvIHRoZSBsYXN0IHZhbHVlIHJldHVybmVkIGluIHRoZSBjaGFpbiB0aGF0IHdhcyBub3QgYHVuZGVmaW5lZGAuXG4gICAgICogVGhlcmVmb3JlIGlmIGEgcGFzc2VkIGZ1bmN0aW9uIGRvZXMgbm90IHJldHVybiBhIHZhbHVlLCB0aGUgcHJldmlvdXNseSByZXR1cm5lZCB2YWx1ZSBpcyBtYWludGFpbmVkLlxuICAgICAqIEFmdGVyIGFsbCBwYXNzZWQgZnVuY3Rpb25zIGhhdmUgYmVlbiBjYWxsZWQgdGhlIG5ldyBmdW5jdGlvbiByZXR1cm5zIHRoZSBsYXN0IHJldHVybmVkIHZhbHVlIChpZiBhbnkpLlxuICAgICAqIElmIGFueSBvZiB0aGUgcGFzc2VkIGZ1bmN0aW9ucyBhcmUgYSBjaGFpbiwgdGhlbiB0aGUgY2hhaW4gd2lsbCBiZSBmbGF0dGVuZWQuXG4gICAgICogQG1ldGhvZCBjaGFpblxuICAgICAqIEBwYXJhbSAuLi5mdW5jcyB7ZnVuY3Rpb259IFRoZSBmdW5jdGlvbnMgdG8gY2hhaW4uXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIHBhc3NlZCBmdW5jdGlvbnMgaW4gb3JkZXIuXG4gICAgICovXG4gICAgQ29tbW9uLmNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmdW5jcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKGZ1bmMuX2NoYWluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIGFscmVhZHkgY2hhaW5lZCBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBmdW5jcy5wdXNoLmFwcGx5KGZ1bmNzLCBmdW5jLl9jaGFpbmVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnVuY3MucHVzaChmdW5jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS9kZXZ0b29scy1kb2NzL2lzc3Vlcy81MyNpc3N1ZWNvbW1lbnQtNTE5NDEzNThcbiAgICAgICAgICAgIHZhciBsYXN0UmVzdWx0LFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmdW5jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jc1tpXS5hcHBseShsYXN0UmVzdWx0LCBhcmdzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hhaW4uX2NoYWluZWQgPSBmdW5jcztcblxuICAgICAgICByZXR1cm4gY2hhaW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBiZWZvcmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBgcGF0aGAgcmVsYXRpdmUgdG8gYGJhc2VgLlxuICAgICAqIFNlZSBhbHNvIGRvY3MgZm9yIGBDb21tb24uY2hhaW5gLlxuICAgICAqIEBtZXRob2QgY2hhaW5QYXRoQmVmb3JlXG4gICAgICogQHBhcmFtIHt9IGJhc2UgVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hhaW4gYmVmb3JlIHRoZSBvcmlnaW5hbFxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxuICAgICAqL1xuICAgIENvbW1vbi5jaGFpblBhdGhCZWZvcmUgPSBmdW5jdGlvbihiYXNlLCBwYXRoLCBmdW5jKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uc2V0KGJhc2UsIHBhdGgsIENvbW1vbi5jaGFpbihcbiAgICAgICAgICAgIGZ1bmMsXG4gICAgICAgICAgICBDb21tb24uZ2V0KGJhc2UsIHBhdGgpXG4gICAgICAgICkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYWZ0ZXIgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBgcGF0aGAgcmVsYXRpdmUgdG8gYGJhc2VgLlxuICAgICAqIFNlZSBhbHNvIGRvY3MgZm9yIGBDb21tb24uY2hhaW5gLlxuICAgICAqIEBtZXRob2QgY2hhaW5QYXRoQWZ0ZXJcbiAgICAgKiBAcGFyYW0ge30gYmFzZSBUaGUgYmFzZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBhZnRlciB0aGUgb3JpZ2luYWxcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWxcbiAgICAgKi9cbiAgICBDb21tb24uY2hhaW5QYXRoQWZ0ZXIgPSBmdW5jdGlvbihiYXNlLCBwYXRoLCBmdW5jKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uc2V0KGJhc2UsIHBhdGgsIENvbW1vbi5jaGFpbihcbiAgICAgICAgICAgIENvbW1vbi5nZXQoYmFzZSwgcGF0aCksXG4gICAgICAgICAgICBmdW5jXG4gICAgICAgICkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgbGlicmFyeSBtb2R1bGUgdG8gZW5hYmxlXG4gICAgICogY29uY2F2ZSB2ZXJ0ZXggZGVjb21wb3NpdGlvbiBzdXBwb3J0IHdoZW4gdXNpbmcgYEJvZGllcy5mcm9tVmVydGljZXNgIGUuZy4gYENvbW1vbi5zZXREZWNvbXAocmVxdWlyZSgncG9seS1kZWNvbXAnKSlgLlxuICAgICAqIEBtZXRob2Qgc2V0RGVjb21wXG4gICAgICogQHBhcmFtIHt9IGRlY29tcCBUaGUgW3BvbHktZGVjb21wXShodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvcG9seS1kZWNvbXAuanMpIGxpYnJhcnkgbW9kdWxlLlxuICAgICAqL1xuICAgIENvbW1vbi5zZXREZWNvbXAgPSBmdW5jdGlvbihkZWNvbXApIHtcbiAgICAgICAgQ29tbW9uLl9kZWNvbXAgPSBkZWNvbXA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFtwb2x5LWRlY29tcF0oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBsaWJyYXJ5IG1vZHVsZSBwcm92aWRlZCB0aHJvdWdoIGBDb21tb24uc2V0RGVjb21wYCxcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJucyB0aGUgZ2xvYmFsIGBkZWNvbXBgIGlmIHNldC5cbiAgICAgKiBAbWV0aG9kIGdldERlY29tcFxuICAgICAqIEByZXR1cm4ge30gVGhlIFtwb2x5LWRlY29tcF0oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBsaWJyYXJ5IG1vZHVsZSBpZiBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBDb21tb24uZ2V0RGVjb21wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGdldCB1c2VyIHByb3ZpZGVkIGRlY29tcCBpZiBzZXRcbiAgICAgICAgdmFyIGRlY29tcCA9IENvbW1vbi5fZGVjb21wO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgZnJvbSB3aW5kb3cgZ2xvYmFsXG4gICAgICAgICAgICBpZiAoIWRlY29tcCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGRlY29tcCA9IHdpbmRvdy5kZWNvbXA7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgZnJvbSBub2RlIGdsb2JhbFxuICAgICAgICAgICAgaWYgKCFkZWNvbXAgJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWNvbXAgPSBnbG9iYWwuZGVjb21wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBkZWNvbXAgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgZGVjb21wID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWNvbXA7XG4gICAgfTtcbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Cb3VuZHNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3hlcyAoQUFCQikuXG4qXG4qIEBjbGFzcyBCb3VuZHNcbiovXG5cbnZhciBCb3VuZHMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb3VuZHM7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCAoQUFCQikgZm9yIHRoZSBnaXZlbiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7Ym91bmRzfSBBIG5ldyBib3VuZHMgb2JqZWN0XG4gICAgICovXG4gICAgQm91bmRzLmNyZWF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB7IFxuICAgICAgICAgICAgbWluOiB7IHg6IDAsIHk6IDAgfSwgXG4gICAgICAgICAgICBtYXg6IHsgeDogMCwgeTogMCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHZlcnRpY2VzKVxuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShib3VuZHMsIHZlcnRpY2VzKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYm91bmRzIHVzaW5nIHRoZSBnaXZlbiB2ZXJ0aWNlcyBhbmQgZXh0ZW5kcyB0aGUgYm91bmRzIGdpdmVuIGEgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb3VuZHMudXBkYXRlID0gZnVuY3Rpb24oYm91bmRzLCB2ZXJ0aWNlcywgdmVsb2NpdHkpIHtcbiAgICAgICAgYm91bmRzLm1pbi54ID0gSW5maW5pdHk7XG4gICAgICAgIGJvdW5kcy5tYXgueCA9IC1JbmZpbml0eTtcbiAgICAgICAgYm91bmRzLm1pbi55ID0gSW5maW5pdHk7XG4gICAgICAgIGJvdW5kcy5tYXgueSA9IC1JbmZpbml0eTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmVydGV4ID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICBpZiAodmVydGV4LnggPiBib3VuZHMubWF4LngpIGJvdW5kcy5tYXgueCA9IHZlcnRleC54O1xuICAgICAgICAgICAgaWYgKHZlcnRleC54IDwgYm91bmRzLm1pbi54KSBib3VuZHMubWluLnggPSB2ZXJ0ZXgueDtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXgueSA+IGJvdW5kcy5tYXgueSkgYm91bmRzLm1heC55ID0gdmVydGV4Lnk7XG4gICAgICAgICAgICBpZiAodmVydGV4LnkgPCBib3VuZHMubWluLnkpIGJvdW5kcy5taW4ueSA9IHZlcnRleC55O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eS54ID4gMCkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueCArPSB2ZWxvY2l0eS54O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLnggKz0gdmVsb2NpdHkueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHZlbG9jaXR5LnkgPiAwKSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1heC55ICs9IHZlbG9jaXR5Lnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueSArPSB2ZWxvY2l0eS55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYm91bmRzIGNvbnRhaW5zIHRoZSBnaXZlbiBwb2ludC5cbiAgICAgKiBAbWV0aG9kIGNvbnRhaW5zXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJvdW5kcyBjb250YWluIHRoZSBwb2ludCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQm91bmRzLmNvbnRhaW5zID0gZnVuY3Rpb24oYm91bmRzLCBwb2ludCkge1xuICAgICAgICByZXR1cm4gcG9pbnQueCA+PSBib3VuZHMubWluLnggJiYgcG9pbnQueCA8PSBib3VuZHMubWF4LnggXG4gICAgICAgICAgICAgICAmJiBwb2ludC55ID49IGJvdW5kcy5taW4ueSAmJiBwb2ludC55IDw9IGJvdW5kcy5tYXgueTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gYm91bmRzIGludGVyc2VjdC5cbiAgICAgKiBAbWV0aG9kIG92ZXJsYXBzXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc0FcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzQlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJvdW5kcyBvdmVybGFwLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBCb3VuZHMub3ZlcmxhcHMgPSBmdW5jdGlvbihib3VuZHNBLCBib3VuZHNCKSB7XG4gICAgICAgIHJldHVybiAoYm91bmRzQS5taW4ueCA8PSBib3VuZHNCLm1heC54ICYmIGJvdW5kc0EubWF4LnggPj0gYm91bmRzQi5taW4ueFxuICAgICAgICAgICAgICAgICYmIGJvdW5kc0EubWF4LnkgPj0gYm91bmRzQi5taW4ueSAmJiBib3VuZHNBLm1pbi55IDw9IGJvdW5kc0IubWF4LnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBib3VuZHMgYnkgdGhlIGdpdmVuIHZlY3Rvci5cbiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICovXG4gICAgQm91bmRzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGJvdW5kcywgdmVjdG9yKSB7XG4gICAgICAgIGJvdW5kcy5taW4ueCArPSB2ZWN0b3IueDtcbiAgICAgICAgYm91bmRzLm1heC54ICs9IHZlY3Rvci54O1xuICAgICAgICBib3VuZHMubWluLnkgKz0gdmVjdG9yLnk7XG4gICAgICAgIGJvdW5kcy5tYXgueSArPSB2ZWN0b3IueTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hpZnRzIHRoZSBib3VuZHMgdG8gdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2Qgc2hpZnRcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvc2l0aW9uXG4gICAgICovXG4gICAgQm91bmRzLnNoaWZ0ID0gZnVuY3Rpb24oYm91bmRzLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgZGVsdGFYID0gYm91bmRzLm1heC54IC0gYm91bmRzLm1pbi54LFxuICAgICAgICAgICAgZGVsdGFZID0gYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55O1xuICAgICAgICAgICAgXG4gICAgICAgIGJvdW5kcy5taW4ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIGJvdW5kcy5tYXgueCA9IHBvc2l0aW9uLnggKyBkZWx0YVg7XG4gICAgICAgIGJvdW5kcy5taW4ueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIGJvdW5kcy5tYXgueSA9IHBvc2l0aW9uLnkgKyBkZWx0YVk7XG4gICAgfTtcbiAgICBcbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5WZWN0b3JgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHZlY3RvcnMuXG4qIFZlY3RvcnMgYXJlIHRoZSBiYXNpcyBvZiBhbGwgdGhlIGdlb21ldHJ5IHJlbGF0ZWQgb3BlcmF0aW9ucyBpbiB0aGUgZW5naW5lLlxuKiBBIGBNYXR0ZXIuVmVjdG9yYCBvYmplY3QgaXMgb2YgdGhlIGZvcm0gYHsgeDogMCwgeTogMCB9YC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFZlY3RvclxuKi9cblxuLy8gVE9ETzogY29uc2lkZXIgcGFyYW1zIGZvciByZXVzaW5nIHZlY3RvciBvYmplY3RzXG5cbnZhciBWZWN0b3IgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3I7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdmVjdG9yLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogeCB8fCAwLCB5OiB5IHx8IDAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB2ZWN0b3Igd2l0aCBgeGAgYW5kIGB5YCBjb3BpZWQgZnJvbSB0aGUgZ2l2ZW4gYHZlY3RvcmAuXG4gICAgICogQG1ldGhvZCBjbG9uZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IGNsb25lZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IuY2xvbmUgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLngsIHk6IHZlY3Rvci55IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiBhIHZlY3Rvci5cbiAgICAgKiBAbWV0aG9kIG1hZ25pdHVkZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5tYWduaXR1ZGUgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodmVjdG9yLnggKiB2ZWN0b3IueCkgKyAodmVjdG9yLnkgKiB2ZWN0b3IueSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYWduaXR1ZGUgKGxlbmd0aCkgb2YgYSB2ZWN0b3IgKHRoZXJlZm9yZSBzYXZpbmcgYSBgc3FydGAgb3BlcmF0aW9uKS5cbiAgICAgKiBAbWV0aG9kIG1hZ25pdHVkZVNxdWFyZWRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3F1YXJlZCBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yLnggKiB2ZWN0b3IueCkgKyAodmVjdG9yLnkgKiB2ZWN0b3IueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCAoMCwgMCkgYnkgc3BlY2lmaWVkIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbb3V0cHV0XVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIHZlY3RvciByb3RhdGVkIGFib3V0ICgwLCAwKVxuICAgICAqL1xuICAgIFZlY3Rvci5yb3RhdGUgPSBmdW5jdGlvbih2ZWN0b3IsIGFuZ2xlLCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIHZhciB4ID0gdmVjdG9yLnggKiBjb3MgLSB2ZWN0b3IueSAqIHNpbjtcbiAgICAgICAgb3V0cHV0LnkgPSB2ZWN0b3IueCAqIHNpbiArIHZlY3Rvci55ICogY29zO1xuICAgICAgICBvdXRwdXQueCA9IHg7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCBhIHNwZWNpZmllZCBwb2ludCBieSBzcGVjaWZpZWQgYW5nbGUuXG4gICAgICogQG1ldGhvZCByb3RhdGVBYm91dFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciByb3RhdGVkIGFib3V0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFZlY3Rvci5yb3RhdGVBYm91dCA9IGZ1bmN0aW9uKHZlY3RvciwgYW5nbGUsIHBvaW50LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIHZhciB4ID0gcG9pbnQueCArICgodmVjdG9yLnggLSBwb2ludC54KSAqIGNvcyAtICh2ZWN0b3IueSAtIHBvaW50LnkpICogc2luKTtcbiAgICAgICAgb3V0cHV0LnkgPSBwb2ludC55ICsgKCh2ZWN0b3IueCAtIHBvaW50LngpICogc2luICsgKHZlY3Rvci55IC0gcG9pbnQueSkgKiBjb3MpO1xuICAgICAgICBvdXRwdXQueCA9IHg7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGlzZXMgYSB2ZWN0b3IgKHN1Y2ggdGhhdCBpdHMgbWFnbml0dWRlIGlzIGAxYCkuXG4gICAgICogQG1ldGhvZCBub3JtYWxpc2VcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igbm9ybWFsaXNlZFxuICAgICAqL1xuICAgIFZlY3Rvci5ub3JtYWxpc2UgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgdmFyIG1hZ25pdHVkZSA9IFZlY3Rvci5tYWduaXR1ZGUodmVjdG9yKTtcbiAgICAgICAgaWYgKG1hZ25pdHVkZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLnggLyBtYWduaXR1ZGUsIHk6IHZlY3Rvci55IC8gbWFnbml0dWRlIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRvdC1wcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgZG90XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRvdCBwcm9kdWN0IG9mIHRoZSB0d28gdmVjdG9yc1xuICAgICAqL1xuICAgIFZlY3Rvci5kb3QgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yQS54ICogdmVjdG9yQi54KSArICh2ZWN0b3JBLnkgKiB2ZWN0b3JCLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgY3Jvc3NcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdHdvIHZlY3RvcnNcbiAgICAgKi9cbiAgICBWZWN0b3IuY3Jvc3MgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yQS54ICogdmVjdG9yQi55KSAtICh2ZWN0b3JBLnkgKiB2ZWN0b3JCLngpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBjcm9zczNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckNcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB0aHJlZSB2ZWN0b3JzXG4gICAgICovXG4gICAgVmVjdG9yLmNyb3NzMyA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIHZlY3RvckMpIHtcbiAgICAgICAgcmV0dXJuICh2ZWN0b3JCLnggLSB2ZWN0b3JBLngpICogKHZlY3RvckMueSAtIHZlY3RvckEueSkgLSAodmVjdG9yQi55IC0gdmVjdG9yQS55KSAqICh2ZWN0b3JDLnggLSB2ZWN0b3JBLngpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIGFkZFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBvZiB2ZWN0b3JBIGFuZCB2ZWN0b3JCIGFkZGVkXG4gICAgICovXG4gICAgVmVjdG9yLmFkZCA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIG91dHB1dCkge1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIG91dHB1dC54ID0gdmVjdG9yQS54ICsgdmVjdG9yQi54O1xuICAgICAgICBvdXRwdXQueSA9IHZlY3RvckEueSArIHZlY3RvckIueTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHRoZSB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIHN1YlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBvZiB2ZWN0b3JBIGFuZCB2ZWN0b3JCIHN1YnRyYWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3Iuc3ViID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQiwgb3V0cHV0KSB7XG4gICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTtcbiAgICAgICAgb3V0cHV0LnggPSB2ZWN0b3JBLnggLSB2ZWN0b3JCLng7XG4gICAgICAgIG91dHB1dC55ID0gdmVjdG9yQS55IC0gdmVjdG9yQi55O1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIGEgdmVjdG9yIGFuZCBhIHNjYWxhci5cbiAgICAgKiBAbWV0aG9kIG11bHRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG11bHRpcGxpZWQgYnkgc2NhbGFyXG4gICAgICovXG4gICAgVmVjdG9yLm11bHQgPSBmdW5jdGlvbih2ZWN0b3IsIHNjYWxhcikge1xuICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAqIHNjYWxhciwgeTogdmVjdG9yLnkgKiBzY2FsYXIgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyBhIHZlY3RvciBhbmQgYSBzY2FsYXIuXG4gICAgICogQG1ldGhvZCBkaXZcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIGRpdmlkZWQgYnkgc2NhbGFyXG4gICAgICovXG4gICAgVmVjdG9yLmRpdiA9IGZ1bmN0aW9uKHZlY3Rvciwgc2NhbGFyKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54IC8gc2NhbGFyLCB5OiB2ZWN0b3IueSAvIHNjYWxhciB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwZXJwZW5kaWN1bGFyIHZlY3Rvci4gU2V0IGBuZWdhdGVgIHRvIHRydWUgZm9yIHRoZSBwZXJwZW5kaWN1bGFyIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG4gICAgICogQG1ldGhvZCBwZXJwXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW25lZ2F0ZT1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBwZXJwZW5kaWN1bGFyIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5wZXJwID0gZnVuY3Rpb24odmVjdG9yLCBuZWdhdGUpIHtcbiAgICAgICAgbmVnYXRlID0gbmVnYXRlID09PSB0cnVlID8gLTEgOiAxO1xuICAgICAgICByZXR1cm4geyB4OiBuZWdhdGUgKiAtdmVjdG9yLnksIHk6IG5lZ2F0ZSAqIHZlY3Rvci54IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0ZXMgYm90aCBjb21wb25lbnRzIG9mIGEgdmVjdG9yIHN1Y2ggdGhhdCBpdCBwb2ludHMgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICAgKiBAbWV0aG9kIG5lZ1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBuZWdhdGVkIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5uZWcgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogLXZlY3Rvci54LCB5OiAtdmVjdG9yLnkgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB0aGUgdmVjdG9yIGB2ZWN0b3JCIC0gdmVjdG9yQWAgYW5kIHRoZSB4LWF4aXMgaW4gcmFkaWFucy5cbiAgICAgKiBAbWV0aG9kIGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBWZWN0b3IuYW5nbGUgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHZlY3RvckIueSAtIHZlY3RvckEueSwgdmVjdG9yQi54IC0gdmVjdG9yQS54KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHZlY3RvciBwb29sIChub3QgdGhyZWFkLXNhZmUpLlxuICAgICAqIEBwcm9wZXJ0eSBfdGVtcFxuICAgICAqIEB0eXBlIHt2ZWN0b3JbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3Rvci5fdGVtcCA9IFtcbiAgICAgICAgVmVjdG9yLmNyZWF0ZSgpLCBWZWN0b3IuY3JlYXRlKCksIFxuICAgICAgICBWZWN0b3IuY3JlYXRlKCksIFZlY3Rvci5jcmVhdGUoKSwgXG4gICAgICAgIFZlY3Rvci5jcmVhdGUoKSwgVmVjdG9yLmNyZWF0ZSgpXG4gICAgXTtcblxufSkoKTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5WZXJ0aWNlc2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgc2V0cyBvZiB2ZXJ0aWNlcy5cbiogQSBzZXQgb2YgdmVydGljZXMgaXMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHdpdGggYWRkaXRpb25hbCBpbmRleGluZyBwcm9wZXJ0aWVzIGluc2VydGVkIGJ5IGBWZXJ0aWNlcy5jcmVhdGVgLlxuKiBBIGBNYXR0ZXIuQm9keWAgbWFpbnRhaW5zIGEgc2V0IG9mIHZlcnRpY2VzIHRvIHJlcHJlc2VudCB0aGUgc2hhcGUgb2YgdGhlIG9iamVjdCAoaXRzIGNvbnZleCBodWxsKS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFZlcnRpY2VzXG4qL1xuXG52YXIgVmVydGljZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZXJ0aWNlcztcblxudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzZXQgb2YgYE1hdHRlci5Cb2R5YCBjb21wYXRpYmxlIHZlcnRpY2VzLlxuICAgICAqIFRoZSBgcG9pbnRzYCBhcmd1bWVudCBhY2NlcHRzIGFuIGFycmF5IG9mIGBNYXR0ZXIuVmVjdG9yYCBwb2ludHMgb3JpZW50YXRlZCBhcm91bmQgdGhlIG9yaWdpbiBgKDAsIDApYCwgZm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgICAgW3sgeDogMCwgeTogMCB9LCB7IHg6IDI1LCB5OiA1MCB9LCB7IHg6IDUwLCB5OiAwIH1dXG4gICAgICpcbiAgICAgKiBUaGUgYFZlcnRpY2VzLmNyZWF0ZWAgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkgb2YgdmVydGljZXMsIHdoaWNoIGFyZSBzaW1pbGFyIHRvIE1hdHRlci5WZWN0b3Igb2JqZWN0cyxcbiAgICAgKiBidXQgd2l0aCBzb21lIGFkZGl0aW9uYWwgcmVmZXJlbmNlcyByZXF1aXJlZCBmb3IgZWZmaWNpZW50IGNvbGxpc2lvbiBkZXRlY3Rpb24gcm91dGluZXMuXG4gICAgICpcbiAgICAgKiBWZXJ0aWNlcyBtdXN0IGJlIHNwZWNpZmllZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGBib2R5YCBhcmd1bWVudCBpcyBub3Qgb3B0aW9uYWwsIGEgYE1hdHRlci5Cb2R5YCByZWZlcmVuY2UgbXVzdCBiZSBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3JbXX0gcG9pbnRzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICovXG4gICAgVmVydGljZXMuY3JlYXRlID0gZnVuY3Rpb24ocG9pbnRzLCBib2R5KSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV0sXG4gICAgICAgICAgICAgICAgdmVydGV4ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICAgICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgICAgICAgaXNJbnRlcm5hbDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHZlcnRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHN0cmluZyBjb250YWluaW5nIG9yZGVyZWQgeCB5IHBhaXJzIHNlcGFyYXRlZCBieSBzcGFjZXMgKGFuZCBvcHRpb25hbGx5IGNvbW1hcyksIFxuICAgICAqIGludG8gYSBgTWF0dGVyLlZlcnRpY2VzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBgTWF0dGVyLkJvZHlgLlxuICAgICAqIEZvciBwYXJzaW5nIFNWRyBwYXRocywgc2VlIGBTdmcucGF0aFRvVmVydGljZXNgLlxuICAgICAqIEBtZXRob2QgZnJvbVBhdGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIFZlcnRpY2VzLmZyb21QYXRoID0gZnVuY3Rpb24ocGF0aCwgYm9keSkge1xuICAgICAgICB2YXIgcGF0aFBhdHRlcm4gPSAvTD9cXHMqKFstXFxkLmVdKylbXFxzLF0qKFstXFxkLmVdKykqL2lnLFxuICAgICAgICAgICAgcG9pbnRzID0gW107XG5cbiAgICAgICAgcGF0aC5yZXBsYWNlKHBhdGhQYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCwgeCwgeSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwYXJzZUZsb2F0KHgpLCB5OiBwYXJzZUZsb2F0KHkpIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gVmVydGljZXMuY3JlYXRlKHBvaW50cywgYm9keSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNlbnRyZSAoY2VudHJvaWQpIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBjZW50cmVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIGNlbnRyZSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNlbnRyZSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBhcmVhID0gVmVydGljZXMuYXJlYSh2ZXJ0aWNlcywgdHJ1ZSksXG4gICAgICAgICAgICBjZW50cmUgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGNyb3NzLFxuICAgICAgICAgICAgdGVtcCxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaiA9IChpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBjcm9zcyA9IFZlY3Rvci5jcm9zcyh2ZXJ0aWNlc1tpXSwgdmVydGljZXNbal0pO1xuICAgICAgICAgICAgdGVtcCA9IFZlY3Rvci5tdWx0KFZlY3Rvci5hZGQodmVydGljZXNbaV0sIHZlcnRpY2VzW2pdKSwgY3Jvc3MpO1xuICAgICAgICAgICAgY2VudHJlID0gVmVjdG9yLmFkZChjZW50cmUsIHRlbXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFZlY3Rvci5kaXYoY2VudHJlLCA2ICogYXJlYSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF2ZXJhZ2UgKG1lYW4pIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBtZWFuXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBhdmVyYWdlIHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMubWVhbiA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBhdmVyYWdlID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXZlcmFnZS54ICs9IHZlcnRpY2VzW2ldLng7XG4gICAgICAgICAgICBhdmVyYWdlLnkgKz0gdmVydGljZXNbaV0ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBWZWN0b3IuZGl2KGF2ZXJhZ2UsIHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFyZWEgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGFyZWFcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7Ym9vbH0gc2lnbmVkXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYXJlYVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmFyZWEgPSBmdW5jdGlvbih2ZXJ0aWNlcywgc2lnbmVkKSB7XG4gICAgICAgIHZhciBhcmVhID0gMCxcbiAgICAgICAgICAgIGogPSB2ZXJ0aWNlcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZWEgKz0gKHZlcnRpY2VzW2pdLnggLSB2ZXJ0aWNlc1tpXS54KSAqICh2ZXJ0aWNlc1tqXS55ICsgdmVydGljZXNbaV0ueSk7XG4gICAgICAgICAgICBqID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaWduZWQpXG4gICAgICAgICAgICByZXR1cm4gYXJlYSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGFyZWEpIC8gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbW9tZW50IG9mIGluZXJ0aWEgKHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcyBnaXZlbiB0aGUgdG90YWwgbWFzcy5cbiAgICAgKiBAbWV0aG9kIGluZXJ0aWFcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcG9seWdvbidzIG1vbWVudCBvZiBpbmVydGlhXG4gICAgICovXG4gICAgVmVydGljZXMuaW5lcnRpYSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBtYXNzKSB7XG4gICAgICAgIHZhciBudW1lcmF0b3IgPSAwLFxuICAgICAgICAgICAgZGVub21pbmF0b3IgPSAwLFxuICAgICAgICAgICAgdiA9IHZlcnRpY2VzLFxuICAgICAgICAgICAgY3Jvc3MsXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHBvbHlnb24ncyBtb21lbnQgb2YgaW5lcnRpYSwgdXNpbmcgc2Vjb25kIG1vbWVudCBvZiBhcmVhXG4gICAgICAgIC8vIGZyb20gZXF1YXRpb25zIGF0IGh0dHA6Ly93d3cucGh5c2ljc2ZvcnVtcy5jb20vc2hvd3RocmVhZC5waHA/dD0yNTI5M1xuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHYubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgIGogPSAobiArIDEpICUgdi5sZW5ndGg7XG4gICAgICAgICAgICBjcm9zcyA9IE1hdGguYWJzKFZlY3Rvci5jcm9zcyh2W2pdLCB2W25dKSk7XG4gICAgICAgICAgICBudW1lcmF0b3IgKz0gY3Jvc3MgKiAoVmVjdG9yLmRvdCh2W2pdLCB2W2pdKSArIFZlY3Rvci5kb3QodltqXSwgdltuXSkgKyBWZWN0b3IuZG90KHZbbl0sIHZbbl0pKTtcbiAgICAgICAgICAgIGRlbm9taW5hdG9yICs9IGNyb3NzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChtYXNzIC8gNikgKiAobnVtZXJhdG9yIC8gZGVub21pbmF0b3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBzZXQgb2YgdmVydGljZXMgaW4tcGxhY2UuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyXG4gICAgICovXG4gICAgVmVydGljZXMudHJhbnNsYXRlID0gZnVuY3Rpb24odmVydGljZXMsIHZlY3Rvciwgc2NhbGFyKSB7XG4gICAgICAgIHNjYWxhciA9IHR5cGVvZiBzY2FsYXIgIT09ICd1bmRlZmluZWQnID8gc2NhbGFyIDogMTtcblxuICAgICAgICB2YXIgdmVydGljZXNMZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICB0cmFuc2xhdGVYID0gdmVjdG9yLnggKiBzY2FsYXIsXG4gICAgICAgICAgICB0cmFuc2xhdGVZID0gdmVjdG9yLnkgKiBzY2FsYXIsXG4gICAgICAgICAgICBpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRpY2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRpY2VzW2ldLnggKz0gdHJhbnNsYXRlWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2ldLnkgKz0gdHJhbnNsYXRlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgc2V0IG9mIHZlcnRpY2VzIGluLXBsYWNlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5yb3RhdGUgPSBmdW5jdGlvbih2ZXJ0aWNlcywgYW5nbGUsIHBvaW50KSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgcG9pbnRYID0gcG9pbnQueCxcbiAgICAgICAgICAgIHBvaW50WSA9IHBvaW50LnksXG4gICAgICAgICAgICB2ZXJ0aWNlc0xlbmd0aCA9IHZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRleCxcbiAgICAgICAgICAgIGR4LFxuICAgICAgICAgICAgZHksXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIGR4ID0gdmVydGV4LnggLSBwb2ludFg7XG4gICAgICAgICAgICBkeSA9IHZlcnRleC55IC0gcG9pbnRZO1xuICAgICAgICAgICAgdmVydGV4LnggPSBwb2ludFggKyAoZHggKiBjb3MgLSBkeSAqIHNpbik7XG4gICAgICAgICAgICB2ZXJ0ZXgueSA9IHBvaW50WSArIChkeCAqIHNpbiArIGR5ICogY29zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGBwb2ludGAgaXMgaW5zaWRlIHRoZSBzZXQgb2YgYHZlcnRpY2VzYC5cbiAgICAgKiBAbWV0aG9kIGNvbnRhaW5zXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB2ZXJ0aWNlcyBjb250YWlucyBwb2ludCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgVmVydGljZXMuY29udGFpbnMgPSBmdW5jdGlvbih2ZXJ0aWNlcywgcG9pbnQpIHtcbiAgICAgICAgdmFyIHBvaW50WCA9IHBvaW50LngsXG4gICAgICAgICAgICBwb2ludFkgPSBwb2ludC55LFxuICAgICAgICAgICAgdmVydGljZXNMZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1t2ZXJ0aWNlc0xlbmd0aCAtIDFdLFxuICAgICAgICAgICAgbmV4dFZlcnRleDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5leHRWZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcblxuICAgICAgICAgICAgaWYgKChwb2ludFggLSB2ZXJ0ZXgueCkgKiAobmV4dFZlcnRleC55IC0gdmVydGV4LnkpIFxuICAgICAgICAgICAgICAgICsgKHBvaW50WSAtIHZlcnRleC55KSAqICh2ZXJ0ZXgueCAtIG5leHRWZXJ0ZXgueCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2ZXJ0ZXggPSBuZXh0VmVydGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyB0aGUgdmVydGljZXMgZnJvbSBhIHBvaW50IChkZWZhdWx0IGlzIGNlbnRyZSkgaW4tcGxhY2UuXG4gICAgICogQG1ldGhvZCBzY2FsZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5zY2FsZSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQpIHtcbiAgICAgICAgaWYgKHNjYWxlWCA9PT0gMSAmJiBzY2FsZVkgPT09IDEpXG4gICAgICAgICAgICByZXR1cm4gdmVydGljZXM7XG5cbiAgICAgICAgcG9pbnQgPSBwb2ludCB8fCBWZXJ0aWNlcy5jZW50cmUodmVydGljZXMpO1xuXG4gICAgICAgIHZhciB2ZXJ0ZXgsXG4gICAgICAgICAgICBkZWx0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIGRlbHRhID0gVmVjdG9yLnN1Yih2ZXJ0ZXgsIHBvaW50KTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2ldLnggPSBwb2ludC54ICsgZGVsdGEueCAqIHNjYWxlWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2ldLnkgPSBwb2ludC55ICsgZGVsdGEueSAqIHNjYWxlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbWZlcnMgYSBzZXQgb2YgdmVydGljZXMgYnkgZ2l2aW5nIHRoZW0gcm91bmRlZCBjb3JuZXJzLCByZXR1cm5zIGEgbmV3IHNldCBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBUaGUgcmFkaXVzIHBhcmFtZXRlciBpcyBhIHNpbmdsZSBudW1iZXIgb3IgYW4gYXJyYXkgdG8gc3BlY2lmeSB0aGUgcmFkaXVzIGZvciBlYWNoIHZlcnRleC5cbiAgICAgKiBAbWV0aG9kIGNoYW1mZXJcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHJhZGl1c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHlNaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eU1heFxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNoYW1mZXIgPSBmdW5jdGlvbih2ZXJ0aWNlcywgcmFkaXVzLCBxdWFsaXR5LCBxdWFsaXR5TWluLCBxdWFsaXR5TWF4KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmFkaXVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmFkaXVzID0gW3JhZGl1c107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgfHwgWzhdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVhbGl0eSBkZWZhdWx0cyB0byAtMSwgd2hpY2ggaXMgYXV0b1xuICAgICAgICBxdWFsaXR5ID0gKHR5cGVvZiBxdWFsaXR5ICE9PSAndW5kZWZpbmVkJykgPyBxdWFsaXR5IDogLTE7XG4gICAgICAgIHF1YWxpdHlNaW4gPSBxdWFsaXR5TWluIHx8IDI7XG4gICAgICAgIHF1YWxpdHlNYXggPSBxdWFsaXR5TWF4IHx8IDE0O1xuXG4gICAgICAgIHZhciBuZXdWZXJ0aWNlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcmV2VmVydGV4ID0gdmVydGljZXNbaSAtIDEgPj0gMCA/IGkgLSAxIDogdmVydGljZXMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV0sXG4gICAgICAgICAgICAgICAgbmV4dFZlcnRleCA9IHZlcnRpY2VzWyhpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGhdLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRSYWRpdXMgPSByYWRpdXNbaSA8IHJhZGl1cy5sZW5ndGggPyBpIDogcmFkaXVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG5ld1ZlcnRpY2VzLnB1c2godmVydGV4KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHByZXZOb3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKHsgXG4gICAgICAgICAgICAgICAgeDogdmVydGV4LnkgLSBwcmV2VmVydGV4LnksIFxuICAgICAgICAgICAgICAgIHk6IHByZXZWZXJ0ZXgueCAtIHZlcnRleC54XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIG5leHROb3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKHsgXG4gICAgICAgICAgICAgICAgeDogbmV4dFZlcnRleC55IC0gdmVydGV4LnksIFxuICAgICAgICAgICAgICAgIHk6IHZlcnRleC54IC0gbmV4dFZlcnRleC54XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGRpYWdvbmFsUmFkaXVzID0gTWF0aC5zcXJ0KDIgKiBNYXRoLnBvdyhjdXJyZW50UmFkaXVzLCAyKSksXG4gICAgICAgICAgICAgICAgcmFkaXVzVmVjdG9yID0gVmVjdG9yLm11bHQoQ29tbW9uLmNsb25lKHByZXZOb3JtYWwpLCBjdXJyZW50UmFkaXVzKSxcbiAgICAgICAgICAgICAgICBtaWROb3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKFZlY3Rvci5tdWx0KFZlY3Rvci5hZGQocHJldk5vcm1hbCwgbmV4dE5vcm1hbCksIDAuNSkpLFxuICAgICAgICAgICAgICAgIHNjYWxlZFZlcnRleCA9IFZlY3Rvci5zdWIodmVydGV4LCBWZWN0b3IubXVsdChtaWROb3JtYWwsIGRpYWdvbmFsUmFkaXVzKSk7XG5cbiAgICAgICAgICAgIHZhciBwcmVjaXNpb24gPSBxdWFsaXR5O1xuXG4gICAgICAgICAgICBpZiAocXVhbGl0eSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGRlY2lkZSBwcmVjaXNpb25cbiAgICAgICAgICAgICAgICBwcmVjaXNpb24gPSBNYXRoLnBvdyhjdXJyZW50UmFkaXVzLCAwLjMyKSAqIDEuNzU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByZWNpc2lvbiA9IENvbW1vbi5jbGFtcChwcmVjaXNpb24sIHF1YWxpdHlNaW4sIHF1YWxpdHlNYXgpO1xuXG4gICAgICAgICAgICAvLyB1c2UgYW4gZXZlbiB2YWx1ZSBmb3IgcHJlY2lzaW9uLCBtb3JlIGxpa2VseSB0byByZWR1Y2UgYXhlcyBieSB1c2luZyBzeW1tZXRyeVxuICAgICAgICAgICAgaWYgKHByZWNpc2lvbiAlIDIgPT09IDEpXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uICs9IDE7XG5cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGguYWNvcyhWZWN0b3IuZG90KHByZXZOb3JtYWwsIG5leHROb3JtYWwpKSxcbiAgICAgICAgICAgICAgICB0aGV0YSA9IGFscGhhIC8gcHJlY2lzaW9uO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByZWNpc2lvbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmV3VmVydGljZXMucHVzaChWZWN0b3IuYWRkKFZlY3Rvci5yb3RhdGUocmFkaXVzVmVjdG9yLCB0aGV0YSAqIGopLCBzY2FsZWRWZXJ0ZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdWZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU29ydHMgdGhlIGlucHV0IHZlcnRpY2VzIGludG8gY2xvY2t3aXNlIG9yZGVyIGluIHBsYWNlLlxuICAgICAqIEBtZXRob2QgY2xvY2t3aXNlU29ydFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICovXG4gICAgVmVydGljZXMuY2xvY2t3aXNlU29ydCA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBjZW50cmUgPSBWZXJ0aWNlcy5tZWFuKHZlcnRpY2VzKTtcblxuICAgICAgICB2ZXJ0aWNlcy5zb3J0KGZ1bmN0aW9uKHZlcnRleEEsIHZlcnRleEIpIHtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IuYW5nbGUoY2VudHJlLCB2ZXJ0ZXhBKSAtIFZlY3Rvci5hbmdsZShjZW50cmUsIHZlcnRleEIpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmVydGljZXMgZm9ybSBhIGNvbnZleCBzaGFwZSAodmVydGljZXMgbXVzdCBiZSBpbiBjbG9ja3dpc2Ugb3JkZXIpLlxuICAgICAqIEBtZXRob2QgaXNDb252ZXhcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge2Jvb2x9IGB0cnVlYCBpZiB0aGUgYHZlcnRpY2VzYCBhcmUgY29udmV4LCBgZmFsc2VgIGlmIG5vdCAob3IgYG51bGxgIGlmIG5vdCBjb21wdXRhYmxlKS5cbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5pc0NvbnZleCA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9nZW9tZXRyeS9wb2x5Z29ubWVzaC9cbiAgICAgICAgLy8gQ29weXJpZ2h0IChjKSBQYXVsIEJvdXJrZSAodXNlIHBlcm1pdHRlZClcblxuICAgICAgICB2YXIgZmxhZyA9IDAsXG4gICAgICAgICAgICBuID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgejtcblxuICAgICAgICBpZiAobiA8IDMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBqID0gKGkgKyAxKSAlIG47XG4gICAgICAgICAgICBrID0gKGkgKyAyKSAlIG47XG4gICAgICAgICAgICB6ID0gKHZlcnRpY2VzW2pdLnggLSB2ZXJ0aWNlc1tpXS54KSAqICh2ZXJ0aWNlc1trXS55IC0gdmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICB6IC09ICh2ZXJ0aWNlc1tqXS55IC0gdmVydGljZXNbaV0ueSkgKiAodmVydGljZXNba10ueCAtIHZlcnRpY2VzW2pdLngpO1xuXG4gICAgICAgICAgICBpZiAoeiA8IDApIHtcbiAgICAgICAgICAgICAgICBmbGFnIHw9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHogPiAwKSB7XG4gICAgICAgICAgICAgICAgZmxhZyB8PSAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmxhZyA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmbGFnICE9PSAwKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udmV4IGh1bGwgb2YgdGhlIGlucHV0IHZlcnRpY2VzIGFzIGEgbmV3IGFycmF5IG9mIHBvaW50cy5cbiAgICAgKiBAbWV0aG9kIGh1bGxcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4gW3ZlcnRleF0gdmVydGljZXNcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5odWxsID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgLy8gaHR0cDovL2dlb21hbGdvcml0aG1zLmNvbS9hMTAtX2h1bGwtMS5odG1sXG5cbiAgICAgICAgdmFyIHVwcGVyID0gW10sXG4gICAgICAgICAgICBsb3dlciA9IFtdLCBcbiAgICAgICAgICAgIHZlcnRleCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gc29ydCB2ZXJ0aWNlcyBvbiB4LWF4aXMgKHktYXhpcyBmb3IgdGllcylcbiAgICAgICAgdmVydGljZXMgPSB2ZXJ0aWNlcy5zbGljZSgwKTtcbiAgICAgICAgdmVydGljZXMuc29ydChmdW5jdGlvbih2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgICAgICAgICB2YXIgZHggPSB2ZXJ0ZXhBLnggLSB2ZXJ0ZXhCLng7XG4gICAgICAgICAgICByZXR1cm4gZHggIT09IDAgPyBkeCA6IHZlcnRleEEueSAtIHZlcnRleEIueTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYnVpbGQgbG93ZXIgaHVsbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICB3aGlsZSAobG93ZXIubGVuZ3RoID49IDIgXG4gICAgICAgICAgICAgICAgICAgJiYgVmVjdG9yLmNyb3NzMyhsb3dlcltsb3dlci5sZW5ndGggLSAyXSwgbG93ZXJbbG93ZXIubGVuZ3RoIC0gMV0sIHZlcnRleCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIGxvd2VyLnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb3dlci5wdXNoKHZlcnRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBidWlsZCB1cHBlciBodWxsXG4gICAgICAgIGZvciAoaSA9IHZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcblxuICAgICAgICAgICAgd2hpbGUgKHVwcGVyLmxlbmd0aCA+PSAyIFxuICAgICAgICAgICAgICAgICAgICYmIFZlY3Rvci5jcm9zczModXBwZXJbdXBwZXIubGVuZ3RoIC0gMl0sIHVwcGVyW3VwcGVyLmxlbmd0aCAtIDFdLCB2ZXJ0ZXgpIDw9IDApIHtcbiAgICAgICAgICAgICAgICB1cHBlci5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBwZXIucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uY2F0ZW5hdGlvbiBvZiB0aGUgbG93ZXIgYW5kIHVwcGVyIGh1bGxzIGdpdmVzIHRoZSBjb252ZXggaHVsbFxuICAgICAgICAvLyBvbWl0IGxhc3QgcG9pbnRzIGJlY2F1c2UgdGhleSBhcmUgcmVwZWF0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgb3RoZXIgbGlzdFxuICAgICAgICB1cHBlci5wb3AoKTtcbiAgICAgICAgbG93ZXIucG9wKCk7XG5cbiAgICAgICAgcmV0dXJuIHVwcGVyLmNvbmNhdChsb3dlcik7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHJpZ2lkIGJvZGllcy5cbiogRm9yIGNyZWF0aW5nIGJvZGllcyB3aXRoIGNvbW1vbiBjb25maWd1cmF0aW9ucyBzdWNoIGFzIHJlY3RhbmdsZXMsIGNpcmNsZXMgYW5kIG90aGVyIHBvbHlnb25zIHNlZSB0aGUgbW9kdWxlIGBNYXR0ZXIuQm9kaWVzYC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cblxuKiBAY2xhc3MgQm9keVxuKi9cblxudmFyIEJvZHkgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb2R5O1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgU2xlZXBpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBBeGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIEJvZHkuX3RpbWVDb3JyZWN0aW9uID0gdHJ1ZTtcbiAgICBCb2R5Ll9pbmVydGlhU2NhbGUgPSA0O1xuICAgIEJvZHkuX25leHRDb2xsaWRpbmdHcm91cElkID0gMTtcbiAgICBCb2R5Ll9uZXh0Tm9uQ29sbGlkaW5nR3JvdXBJZCA9IC0xO1xuICAgIEJvZHkuX25leHRDYXRlZ29yeSA9IDB4MDAwMTtcbiAgICBCb2R5Ll9iYXNlRGVsdGEgPSAxMDAwIC8gNjA7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkIGJvZHkgbW9kZWwuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogVmVydGljZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2JvZHl9IGJvZHlcbiAgICAgKi9cbiAgICBCb2R5LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgaWQ6IENvbW1vbi5uZXh0SWQoKSxcbiAgICAgICAgICAgIHR5cGU6ICdib2R5JyxcbiAgICAgICAgICAgIGxhYmVsOiAnQm9keScsXG4gICAgICAgICAgICBwYXJ0czogW10sXG4gICAgICAgICAgICBwbHVnaW46IHt9LFxuICAgICAgICAgICAgYW5nbGU6IDAsXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgoJ0wgMCAwIEwgNDAgMCBMIDQwIDQwIEwgMCA0MCcpLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZm9yY2U6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgdG9ycXVlOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRJbXB1bHNlOiB7IHg6IDAsIHk6IDAsIGFuZ2xlOiAwIH0sXG4gICAgICAgICAgICB0b3RhbENvbnRhY3RzOiAwLFxuICAgICAgICAgICAgc3BlZWQ6IDAsXG4gICAgICAgICAgICBhbmd1bGFyU3BlZWQ6IDAsXG4gICAgICAgICAgICB2ZWxvY2l0eTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IDAsXG4gICAgICAgICAgICBpc1NlbnNvcjogZmFsc2UsXG4gICAgICAgICAgICBpc1N0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBpc1NsZWVwaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdGlvbjogMCxcbiAgICAgICAgICAgIHNsZWVwVGhyZXNob2xkOiA2MCxcbiAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAxLFxuICAgICAgICAgICAgcmVzdGl0dXRpb246IDAsXG4gICAgICAgICAgICBmcmljdGlvbjogMC4xLFxuICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IDAuNSxcbiAgICAgICAgICAgIGZyaWN0aW9uQWlyOiAwLjAxLFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IDB4MDAwMSxcbiAgICAgICAgICAgICAgICBtYXNrOiAweEZGRkZGRkZGLFxuICAgICAgICAgICAgICAgIGdyb3VwOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvcDogMC4wNSxcbiAgICAgICAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiBudWxsLFxuICAgICAgICAgICAgICAgIHNwcml0ZToge1xuICAgICAgICAgICAgICAgICAgICB4U2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIHlTY2FsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgeE9mZnNldDogMCxcbiAgICAgICAgICAgICAgICAgICAgeU9mZnNldDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudHM6IG51bGwsXG4gICAgICAgICAgICBib3VuZHM6IG51bGwsXG4gICAgICAgICAgICBjaGFtZmVyOiBudWxsLFxuICAgICAgICAgICAgY2lyY2xlUmFkaXVzOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25QcmV2OiBudWxsLFxuICAgICAgICAgICAgYW5nbGVQcmV2OiAwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgYXhlczogbnVsbCxcbiAgICAgICAgICAgIGFyZWE6IDAsXG4gICAgICAgICAgICBtYXNzOiAwLFxuICAgICAgICAgICAgaW5lcnRpYTogMCxcbiAgICAgICAgICAgIGRlbHRhVGltZTogMTAwMCAvIDYwLFxuICAgICAgICAgICAgX29yaWdpbmFsOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJvZHkgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBfaW5pdFByb3BlcnRpZXMoYm9keSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIGdyb3VwIGluZGV4IGZvciB3aGljaCBib2RpZXMgd2lsbCBjb2xsaWRlLlxuICAgICAqIElmIGBpc05vbkNvbGxpZGluZ2AgaXMgYHRydWVgLCByZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBncm91cCBpbmRleCBmb3Igd2hpY2ggYm9kaWVzIHdpbGwgX25vdF8gY29sbGlkZS5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIG5leHRHcm91cFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2lzTm9uQ29sbGlkaW5nPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gVW5pcXVlIGdyb3VwIGluZGV4XG4gICAgICovXG4gICAgQm9keS5uZXh0R3JvdXAgPSBmdW5jdGlvbihpc05vbkNvbGxpZGluZykge1xuICAgICAgICBpZiAoaXNOb25Db2xsaWRpbmcpXG4gICAgICAgICAgICByZXR1cm4gQm9keS5fbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQtLTtcblxuICAgICAgICByZXR1cm4gQm9keS5fbmV4dENvbGxpZGluZ0dyb3VwSWQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmV4dCB1bmlxdWUgY2F0ZWdvcnkgYml0ZmllbGQgKHN0YXJ0aW5nIGFmdGVyIHRoZSBpbml0aWFsIGRlZmF1bHQgY2F0ZWdvcnkgYDB4MDAwMWApLlxuICAgICAqIFRoZXJlIGFyZSAzMiBhdmFpbGFibGUuIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBtZXRob2QgbmV4dENhdGVnb3J5XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBVbmlxdWUgY2F0ZWdvcnkgYml0ZmllbGRcbiAgICAgKi9cbiAgICBCb2R5Lm5leHRDYXRlZ29yeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBCb2R5Ll9uZXh0Q2F0ZWdvcnkgPSBCb2R5Ll9uZXh0Q2F0ZWdvcnkgPDwgMTtcbiAgICAgICAgcmV0dXJuIEJvZHkuX25leHRDYXRlZ29yeTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGlzZXMgYm9keSBwcm9wZXJ0aWVzLlxuICAgICAqIEBtZXRob2QgX2luaXRQcm9wZXJ0aWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge30gW29wdGlvbnNdXG4gICAgICovXG4gICAgdmFyIF9pbml0UHJvcGVydGllcyA9IGZ1bmN0aW9uKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy8gaW5pdCByZXF1aXJlZCBwcm9wZXJ0aWVzIChvcmRlciBpcyBpbXBvcnRhbnQpXG4gICAgICAgIEJvZHkuc2V0KGJvZHksIHtcbiAgICAgICAgICAgIGJvdW5kczogYm9keS5ib3VuZHMgfHwgQm91bmRzLmNyZWF0ZShib2R5LnZlcnRpY2VzKSxcbiAgICAgICAgICAgIHBvc2l0aW9uUHJldjogYm9keS5wb3NpdGlvblByZXYgfHwgVmVjdG9yLmNsb25lKGJvZHkucG9zaXRpb24pLFxuICAgICAgICAgICAgYW5nbGVQcmV2OiBib2R5LmFuZ2xlUHJldiB8fCBib2R5LmFuZ2xlLFxuICAgICAgICAgICAgdmVydGljZXM6IGJvZHkudmVydGljZXMsXG4gICAgICAgICAgICBwYXJ0czogYm9keS5wYXJ0cyB8fCBbYm9keV0sXG4gICAgICAgICAgICBpc1N0YXRpYzogYm9keS5pc1N0YXRpYyxcbiAgICAgICAgICAgIGlzU2xlZXBpbmc6IGJvZHkuaXNTbGVlcGluZyxcbiAgICAgICAgICAgIHBhcmVudDogYm9keS5wYXJlbnQgfHwgYm9keVxuICAgICAgICB9KTtcblxuICAgICAgICBWZXJ0aWNlcy5yb3RhdGUoYm9keS52ZXJ0aWNlcywgYm9keS5hbmdsZSwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgIEF4ZXMucm90YXRlKGJvZHkuYXhlcywgYm9keS5hbmdsZSk7XG4gICAgICAgIEJvdW5kcy51cGRhdGUoYm9keS5ib3VuZHMsIGJvZHkudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuXG4gICAgICAgIC8vIGFsbG93IG9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBwcm9wZXJ0aWVzXG4gICAgICAgIEJvZHkuc2V0KGJvZHksIHtcbiAgICAgICAgICAgIGF4ZXM6IG9wdGlvbnMuYXhlcyB8fCBib2R5LmF4ZXMsXG4gICAgICAgICAgICBhcmVhOiBvcHRpb25zLmFyZWEgfHwgYm9keS5hcmVhLFxuICAgICAgICAgICAgbWFzczogb3B0aW9ucy5tYXNzIHx8IGJvZHkubWFzcyxcbiAgICAgICAgICAgIGluZXJ0aWE6IG9wdGlvbnMuaW5lcnRpYSB8fCBib2R5LmluZXJ0aWFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVuZGVyIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIGRlZmF1bHRGaWxsU3R5bGUgPSAoYm9keS5pc1N0YXRpYyA/ICcjMTQxNTFmJyA6IENvbW1vbi5jaG9vc2UoWycjZjE5NjQ4JywgJyNmNWQyNTknLCAnI2Y1NWEzYycsICcjMDYzZTdiJywgJyNlY2VjZDEnXSkpLFxuICAgICAgICAgICAgZGVmYXVsdFN0cm9rZVN0eWxlID0gYm9keS5pc1N0YXRpYyA/ICcjNTU1JyA6ICcjY2NjJyxcbiAgICAgICAgICAgIGRlZmF1bHRMaW5lV2lkdGggPSBib2R5LmlzU3RhdGljICYmIGJvZHkucmVuZGVyLmZpbGxTdHlsZSA9PT0gbnVsbCA/IDEgOiAwO1xuICAgICAgICBib2R5LnJlbmRlci5maWxsU3R5bGUgPSBib2R5LnJlbmRlci5maWxsU3R5bGUgfHwgZGVmYXVsdEZpbGxTdHlsZTtcbiAgICAgICAgYm9keS5yZW5kZXIuc3Ryb2tlU3R5bGUgPSBib2R5LnJlbmRlci5zdHJva2VTdHlsZSB8fCBkZWZhdWx0U3Ryb2tlU3R5bGU7XG4gICAgICAgIGJvZHkucmVuZGVyLmxpbmVXaWR0aCA9IGJvZHkucmVuZGVyLmxpbmVXaWR0aCB8fCBkZWZhdWx0TGluZVdpZHRoO1xuICAgICAgICBib2R5LnJlbmRlci5zcHJpdGUueE9mZnNldCArPSAtKGJvZHkuYm91bmRzLm1pbi54IC0gYm9keS5wb3NpdGlvbi54KSAvIChib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkuYm91bmRzLm1pbi54KTtcbiAgICAgICAgYm9keS5yZW5kZXIuc3ByaXRlLnlPZmZzZXQgKz0gLShib2R5LmJvdW5kcy5taW4ueSAtIGJvZHkucG9zaXRpb24ueSkgLyAoYm9keS5ib3VuZHMubWF4LnkgLSBib2R5LmJvdW5kcy5taW4ueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcHJvcGVydHkgYW5kIGEgdmFsdWUgKG9yIG1hcCBvZiksIHNldHMgdGhlIHByb3BlcnR5KHMpIG9uIHRoZSBib2R5LCB1c2luZyB0aGUgYXBwcm9wcmlhdGUgc2V0dGVyIGZ1bmN0aW9ucyBpZiB0aGV5IGV4aXN0LlxuICAgICAqIFByZWZlciB0byB1c2UgdGhlIGFjdHVhbCBzZXR0ZXIgZnVuY3Rpb25zIGluIHBlcmZvcm1hbmNlIGNyaXRpY2FsIHNpdHVhdGlvbnMuXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge30gc2V0dGluZ3MgQSBwcm9wZXJ0eSBuYW1lIChvciBtYXAgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzKSB0byBzZXQgb24gdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHt9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgaWYgYHNldHRpbmdzYCBpcyBhIHNpbmdsZSBwcm9wZXJ0eSBuYW1lLlxuICAgICAqL1xuICAgIEJvZHkuc2V0ID0gZnVuY3Rpb24oYm9keSwgc2V0dGluZ3MsIHZhbHVlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcHJvcGVydHkgPSBzZXR0aW5ncztcbiAgICAgICAgICAgIHNldHRpbmdzID0ge307XG4gICAgICAgICAgICBzZXR0aW5nc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNldHRpbmdzLCBwcm9wZXJ0eSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhbHVlID0gc2V0dGluZ3NbcHJvcGVydHldO1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xuXG4gICAgICAgICAgICBjYXNlICdpc1N0YXRpYyc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRTdGF0aWMoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNTbGVlcGluZyc6XG4gICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hc3MnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZW5zaXR5JzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldERlbnNpdHkoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaW5lcnRpYSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2VzJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFZlcnRpY2VzKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaXR5JzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFZlbG9jaXR5KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FuZ3VsYXJWZWxvY2l0eSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3BlZWQnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0U3BlZWQoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYW5ndWxhclNwZWVkJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldEFuZ3VsYXJTcGVlZChib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXJ0cyc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRQYXJ0cyhib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjZW50cmUnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0Q2VudHJlKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYm9keVtwcm9wZXJ0eV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJvZHkgYXMgc3RhdGljLCBpbmNsdWRpbmcgaXNTdGF0aWMgZmxhZyBhbmQgc2V0dGluZyBtYXNzIGFuZCBpbmVydGlhIHRvIEluZmluaXR5LlxuICAgICAqIEBtZXRob2Qgc2V0U3RhdGljXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib29sfSBpc1N0YXRpY1xuICAgICAqL1xuICAgIEJvZHkuc2V0U3RhdGljID0gZnVuY3Rpb24oYm9keSwgaXNTdGF0aWMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG5cbiAgICAgICAgICAgIGlmIChpc1N0YXRpYykge1xuICAgICAgICAgICAgICAgIGlmICghcGFydC5pc1N0YXRpYykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0Ll9vcmlnaW5hbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiBwYXJ0LnJlc3RpdHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJpY3Rpb246IHBhcnQuZnJpY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNzOiBwYXJ0Lm1hc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmVydGlhOiBwYXJ0LmluZXJ0aWEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZW5zaXR5OiBwYXJ0LmRlbnNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlTWFzczogcGFydC5pbnZlcnNlTWFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VJbmVydGlhOiBwYXJ0LmludmVyc2VJbmVydGlhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFydC5yZXN0aXR1dGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5mcmljdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgcGFydC5tYXNzID0gcGFydC5pbmVydGlhID0gcGFydC5kZW5zaXR5ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgcGFydC5pbnZlcnNlTWFzcyA9IHBhcnQuaW52ZXJzZUluZXJ0aWEgPSAwO1xuXG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvblByZXYueCA9IHBhcnQucG9zaXRpb24ueDtcbiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uUHJldi55ID0gcGFydC5wb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgIHBhcnQuYW5nbGVQcmV2ID0gcGFydC5hbmdsZTtcbiAgICAgICAgICAgICAgICBwYXJ0LmFuZ3VsYXJWZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5zcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5hbmd1bGFyU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQubW90aW9uID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5fb3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnJlc3RpdHV0aW9uID0gcGFydC5fb3JpZ2luYWwucmVzdGl0dXRpb247XG4gICAgICAgICAgICAgICAgcGFydC5mcmljdGlvbiA9IHBhcnQuX29yaWdpbmFsLmZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuX29yaWdpbmFsLm1hc3M7XG4gICAgICAgICAgICAgICAgcGFydC5pbmVydGlhID0gcGFydC5fb3JpZ2luYWwuaW5lcnRpYTtcbiAgICAgICAgICAgICAgICBwYXJ0LmRlbnNpdHkgPSBwYXJ0Ll9vcmlnaW5hbC5kZW5zaXR5O1xuICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZU1hc3MgPSBwYXJ0Ll9vcmlnaW5hbC5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICBwYXJ0LmludmVyc2VJbmVydGlhID0gcGFydC5fb3JpZ2luYWwuaW52ZXJzZUluZXJ0aWE7XG5cbiAgICAgICAgICAgICAgICBwYXJ0Ll9vcmlnaW5hbCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnQuaXNTdGF0aWMgPSBpc1N0YXRpYztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXNzIG9mIHRoZSBib2R5LiBJbnZlcnNlIG1hc3MsIGRlbnNpdHkgYW5kIGluZXJ0aWEgYXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBjaGFuZ2UuXG4gICAgICogQG1ldGhvZCBzZXRNYXNzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAgICAgKi9cbiAgICBCb2R5LnNldE1hc3MgPSBmdW5jdGlvbihib2R5LCBtYXNzKSB7XG4gICAgICAgIHZhciBtb21lbnQgPSBib2R5LmluZXJ0aWEgLyAoYm9keS5tYXNzIC8gNik7XG4gICAgICAgIGJvZHkuaW5lcnRpYSA9IG1vbWVudCAqIChtYXNzIC8gNik7XG4gICAgICAgIGJvZHkuaW52ZXJzZUluZXJ0aWEgPSAxIC8gYm9keS5pbmVydGlhO1xuXG4gICAgICAgIGJvZHkubWFzcyA9IG1hc3M7XG4gICAgICAgIGJvZHkuaW52ZXJzZU1hc3MgPSAxIC8gYm9keS5tYXNzO1xuICAgICAgICBib2R5LmRlbnNpdHkgPSBib2R5Lm1hc3MgLyBib2R5LmFyZWE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGRlbnNpdHkgb2YgdGhlIGJvZHkuIE1hc3MgYW5kIGluZXJ0aWEgYXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBjaGFuZ2UuXG4gICAgICogQG1ldGhvZCBzZXREZW5zaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbnNpdHlcbiAgICAgKi9cbiAgICBCb2R5LnNldERlbnNpdHkgPSBmdW5jdGlvbihib2R5LCBkZW5zaXR5KSB7XG4gICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCBkZW5zaXR5ICogYm9keS5hcmVhKTtcbiAgICAgICAgYm9keS5kZW5zaXR5ID0gZGVuc2l0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIGJvZHkuIFRoaXMgaXMgdGhlIHNlY29uZCBtb21lbnQgb2YgYXJlYSBpbiB0d28gZGltZW5zaW9ucy5cbiAgICAgKiBJbnZlcnNlIGluZXJ0aWEgaXMgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS4gTWFzcyBpcyBub3QgY2hhbmdlZC5cbiAgICAgKiBAbWV0aG9kIHNldEluZXJ0aWFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5lcnRpYVxuICAgICAqL1xuICAgIEJvZHkuc2V0SW5lcnRpYSA9IGZ1bmN0aW9uKGJvZHksIGluZXJ0aWEpIHtcbiAgICAgICAgYm9keS5pbmVydGlhID0gaW5lcnRpYTtcbiAgICAgICAgYm9keS5pbnZlcnNlSW5lcnRpYSA9IDEgLyBib2R5LmluZXJ0aWE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJvZHkncyB2ZXJ0aWNlcyBhbmQgdXBkYXRlcyBib2R5IHByb3BlcnRpZXMgYWNjb3JkaW5nbHksIGluY2x1ZGluZyBpbmVydGlhLCBhcmVhIGFuZCBtYXNzICh3aXRoIHJlc3BlY3QgdG8gYGJvZHkuZGVuc2l0eWApLlxuICAgICAqIFZlcnRpY2VzIHdpbGwgYmUgYXV0b21hdGljYWxseSB0cmFuc2Zvcm1lZCB0byBiZSBvcmllbnRhdGVkIGFyb3VuZCB0aGVpciBjZW50cmUgb2YgbWFzcyBhcyB0aGUgb3JpZ2luLlxuICAgICAqIFRoZXkgYXJlIHRoZW4gYXV0b21hdGljYWxseSB0cmFuc2xhdGVkIHRvIHdvcmxkIHNwYWNlIGJhc2VkIG9uIGBib2R5LnBvc2l0aW9uYC5cbiAgICAgKlxuICAgICAqIFRoZSBgdmVydGljZXNgIGFyZ3VtZW50IHNob3VsZCBiZSBwYXNzZWQgYXMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHBvaW50cyAob3IgYSBgTWF0dGVyLlZlcnRpY2VzYCBhcnJheSkuXG4gICAgICogVmVydGljZXMgbXVzdCBmb3JtIGEgY29udmV4IGh1bGwuIENvbmNhdmUgdmVydGljZXMgbXVzdCBiZSBkZWNvbXBvc2VkIGludG8gY29udmV4IHBhcnRzLlxuICAgICAqIFxuICAgICAqIEBtZXRob2Qgc2V0VmVydGljZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3RvcltdfSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIEJvZHkuc2V0VmVydGljZXMgPSBmdW5jdGlvbihib2R5LCB2ZXJ0aWNlcykge1xuICAgICAgICAvLyBjaGFuZ2UgdmVydGljZXNcbiAgICAgICAgaWYgKHZlcnRpY2VzWzBdLmJvZHkgPT09IGJvZHkpIHtcbiAgICAgICAgICAgIGJvZHkudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkudmVydGljZXMgPSBWZXJ0aWNlcy5jcmVhdGUodmVydGljZXMsIGJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHByb3BlcnRpZXNcbiAgICAgICAgYm9keS5heGVzID0gQXhlcy5mcm9tVmVydGljZXMoYm9keS52ZXJ0aWNlcyk7XG4gICAgICAgIGJvZHkuYXJlYSA9IFZlcnRpY2VzLmFyZWEoYm9keS52ZXJ0aWNlcyk7XG4gICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCBib2R5LmRlbnNpdHkgKiBib2R5LmFyZWEpO1xuXG4gICAgICAgIC8vIG9yaWVudCB2ZXJ0aWNlcyBhcm91bmQgdGhlIGNlbnRyZSBvZiBtYXNzIGF0IG9yaWdpbiAoMCwgMClcbiAgICAgICAgdmFyIGNlbnRyZSA9IFZlcnRpY2VzLmNlbnRyZShib2R5LnZlcnRpY2VzKTtcbiAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKGJvZHkudmVydGljZXMsIGNlbnRyZSwgLTEpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBpbmVydGlhIHdoaWxlIHZlcnRpY2VzIGFyZSBhdCBvcmlnaW4gKDAsIDApXG4gICAgICAgIEJvZHkuc2V0SW5lcnRpYShib2R5LCBCb2R5Ll9pbmVydGlhU2NhbGUgKiBWZXJ0aWNlcy5pbmVydGlhKGJvZHkudmVydGljZXMsIGJvZHkubWFzcykpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBnZW9tZXRyeVxuICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUoYm9keS52ZXJ0aWNlcywgYm9keS5wb3NpdGlvbik7XG4gICAgICAgIEJvdW5kcy51cGRhdGUoYm9keS5ib3VuZHMsIGJvZHkudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwYXJ0cyBvZiB0aGUgYGJvZHlgLiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYGJvZHkucGFydHNgIGZvciBkZXRhaWxzIGFuZCByZXF1aXJlbWVudHMgb24gaG93IHBhcnRzIGFyZSB1c2VkLlxuICAgICAqIFxuICAgICAqIFNlZSBCb2RpZXMuZnJvbVZlcnRpY2VzIGZvciBhIHJlbGF0ZWQgdXRpbGl0eS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgYGJvZHlgIG1hc3MsIGluZXJ0aWEgYW5kIGNlbnRyb2lkIGJhc2VkIG9uIHRoZSBwYXJ0cyBnZW9tZXRyeS4gIFxuICAgICAqIFNldHMgZWFjaCBgcGFydC5wYXJlbnRgIHRvIGJlIHRoaXMgYGJvZHlgLiAgXG4gICAgICogXG4gICAgICogVGhlIGNvbnZleCBodWxsIGlzIGNvbXB1dGVkIGFuZCBzZXQgb24gdGhpcyBgYm9keWAgKHVubGVzcyBgYXV0b0h1bGxgIGlzIGBmYWxzZWApLiAgXG4gICAgICogQXV0b21hdGljYWxseSBlbnN1cmVzIHRoYXQgdGhlIGZpcnN0IHBhcnQgaW4gYGJvZHkucGFydHNgIGlzIHRoZSBgYm9keWAuXG4gICAgICogQG1ldGhvZCBzZXRQYXJ0c1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBwYXJ0c1xuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2F1dG9IdWxsPXRydWVdXG4gICAgICovXG4gICAgQm9keS5zZXRQYXJ0cyA9IGZ1bmN0aW9uKGJvZHksIHBhcnRzLCBhdXRvSHVsbCkge1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICAvLyBhZGQgYWxsIHRoZSBwYXJ0cywgZW5zdXJpbmcgdGhhdCB0aGUgZmlyc3QgcGFydCBpcyBhbHdheXMgdGhlIHBhcmVudCBib2R5XG4gICAgICAgIHBhcnRzID0gcGFydHMuc2xpY2UoMCk7XG4gICAgICAgIGJvZHkucGFydHMubGVuZ3RoID0gMDtcbiAgICAgICAgYm9keS5wYXJ0cy5wdXNoKGJvZHkpO1xuICAgICAgICBib2R5LnBhcmVudCA9IGJvZHk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IGJvZHkpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnBhcmVudCA9IGJvZHk7XG4gICAgICAgICAgICAgICAgYm9keS5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHkucGFydHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGF1dG9IdWxsID0gdHlwZW9mIGF1dG9IdWxsICE9PSAndW5kZWZpbmVkJyA/IGF1dG9IdWxsIDogdHJ1ZTtcblxuICAgICAgICAvLyBmaW5kIHRoZSBjb252ZXggaHVsbCBvZiBhbGwgcGFydHMgdG8gc2V0IG9uIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICBpZiAoYXV0b0h1bGwpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSB2ZXJ0aWNlcy5jb25jYXQocGFydHNbaV0udmVydGljZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0KHZlcnRpY2VzKTtcblxuICAgICAgICAgICAgdmFyIGh1bGwgPSBWZXJ0aWNlcy5odWxsKHZlcnRpY2VzKSxcbiAgICAgICAgICAgICAgICBodWxsQ2VudHJlID0gVmVydGljZXMuY2VudHJlKGh1bGwpO1xuXG4gICAgICAgICAgICBCb2R5LnNldFZlcnRpY2VzKGJvZHksIGh1bGwpO1xuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKGJvZHkudmVydGljZXMsIGh1bGxDZW50cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3VtIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCBjb21wb3VuZCBwYXJ0cyBvZiB0aGUgcGFyZW50IGJvZHlcbiAgICAgICAgdmFyIHRvdGFsID0gQm9keS5fdG90YWxQcm9wZXJ0aWVzKGJvZHkpO1xuXG4gICAgICAgIGJvZHkuYXJlYSA9IHRvdGFsLmFyZWE7XG4gICAgICAgIGJvZHkucGFyZW50ID0gYm9keTtcbiAgICAgICAgYm9keS5wb3NpdGlvbi54ID0gdG90YWwuY2VudHJlLng7XG4gICAgICAgIGJvZHkucG9zaXRpb24ueSA9IHRvdGFsLmNlbnRyZS55O1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gdG90YWwuY2VudHJlLng7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSB0b3RhbC5jZW50cmUueTtcblxuICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgdG90YWwubWFzcyk7XG4gICAgICAgIEJvZHkuc2V0SW5lcnRpYShib2R5LCB0b3RhbC5pbmVydGlhKTtcbiAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB0b3RhbC5jZW50cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRyZSBvZiBtYXNzIG9mIHRoZSBib2R5LiBcbiAgICAgKiBUaGUgYGNlbnRyZWAgaXMgYSB2ZWN0b3IgaW4gd29ybGQtc3BhY2UgdW5sZXNzIGByZWxhdGl2ZWAgaXMgc2V0LCBpbiB3aGljaCBjYXNlIGl0IGlzIGEgdHJhbnNsYXRpb24uXG4gICAgICogVGhlIGNlbnRyZSBvZiBtYXNzIGlzIHRoZSBwb2ludCB0aGUgYm9keSByb3RhdGVzIGFib3V0IGFuZCBjYW4gYmUgdXNlZCB0byBzaW11bGF0ZSBub24tdW5pZm9ybSBkZW5zaXR5LlxuICAgICAqIFRoaXMgaXMgZXF1YWwgdG8gbW92aW5nIGBib2R5LnBvc2l0aW9uYCBidXQgbm90IHRoZSBgYm9keS52ZXJ0aWNlc2AuXG4gICAgICogSW52YWxpZCBpZiB0aGUgYGNlbnRyZWAgZmFsbHMgb3V0c2lkZSB0aGUgYm9keSdzIGNvbnZleCBodWxsLlxuICAgICAqIEBtZXRob2Qgc2V0Q2VudHJlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IGNlbnRyZVxuICAgICAqIEBwYXJhbSB7Ym9vbH0gcmVsYXRpdmVcbiAgICAgKi9cbiAgICBCb2R5LnNldENlbnRyZSA9IGZ1bmN0aW9uKGJvZHksIGNlbnRyZSwgcmVsYXRpdmUpIHtcbiAgICAgICAgaWYgKCFyZWxhdGl2ZSkge1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGNlbnRyZS54IC0gKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpO1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGNlbnRyZS55IC0gKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpO1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi54ID0gY2VudHJlLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnkgPSBjZW50cmUueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gY2VudHJlLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGNlbnRyZS55O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi54ICs9IGNlbnRyZS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGNlbnRyZS55O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBCeSBkZWZhdWx0IHZlbG9jaXR5IGlzIHVuY2hhbmdlZC5cbiAgICAgKiBJZiBgdXBkYXRlVmVsb2NpdHlgIGlzIGB0cnVlYCB0aGVuIHZlbG9jaXR5IGlzIGluZmVycmVkIGZyb20gdGhlIGNoYW5nZSBpbiBwb3NpdGlvbi5cbiAgICAgKiBAbWV0aG9kIHNldFBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlVmVsb2NpdHk9ZmFsc2VdXG4gICAgICovXG4gICAgQm9keS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKGJvZHksIHBvc2l0aW9uLCB1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKHBvc2l0aW9uLCBib2R5LnBvc2l0aW9uKTtcblxuICAgICAgICBpZiAodXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gZGVsdGEueDtcbiAgICAgICAgICAgIGJvZHkudmVsb2NpdHkueSA9IGRlbHRhLnk7XG4gICAgICAgICAgICBib2R5LnNwZWVkID0gVmVjdG9yLm1hZ25pdHVkZShkZWx0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ICs9IGRlbHRhLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGRlbHRhLnk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcbiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCArPSBkZWx0YS54O1xuICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ICs9IGRlbHRhLnk7XG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgZGVsdGEpO1xuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYW5nbGUgb2YgdGhlIGJvZHkuIEJ5IGRlZmF1bHQgYW5ndWxhciB2ZWxvY2l0eSBpcyB1bmNoYW5nZWQuXG4gICAgICogSWYgYHVwZGF0ZVZlbG9jaXR5YCBpcyBgdHJ1ZWAgdGhlbiBhbmd1bGFyIHZlbG9jaXR5IGlzIGluZmVycmVkIGZyb20gdGhlIGNoYW5nZSBpbiBhbmdsZS5cbiAgICAgKiBAbWV0aG9kIHNldEFuZ2xlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlVmVsb2NpdHk9ZmFsc2VdXG4gICAgICovXG4gICAgQm9keS5zZXRBbmdsZSA9IGZ1bmN0aW9uKGJvZHksIGFuZ2xlLCB1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICB2YXIgZGVsdGEgPSBhbmdsZSAtIGJvZHkuYW5nbGU7XG4gICAgICAgIFxuICAgICAgICBpZiAodXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZTtcbiAgICAgICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5ID0gZGVsdGE7XG4gICAgICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IE1hdGguYWJzKGRlbHRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkuYW5nbGVQcmV2ICs9IGRlbHRhO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG4gICAgICAgICAgICBwYXJ0LmFuZ2xlICs9IGRlbHRhO1xuICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGRlbHRhLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIEF4ZXMucm90YXRlKHBhcnQuYXhlcywgZGVsdGEpO1xuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgZGVsdGEsIGJvZHkucG9zaXRpb24sIHBhcnQucG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgbGluZWFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LiAgXG4gICAgICogQWZmZWN0cyBib2R5IHNwZWVkLlxuICAgICAqIEBtZXRob2Qgc2V0VmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb2R5LnNldFZlbG9jaXR5ID0gZnVuY3Rpb24oYm9keSwgdmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IGJvZHkuZGVsdGFUaW1lIC8gQm9keS5fYmFzZURlbHRhO1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gYm9keS5wb3NpdGlvbi54IC0gdmVsb2NpdHkueCAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueSAtIHZlbG9jaXR5LnkgKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkudmVsb2NpdHkueCA9IChib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54KSAvIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS52ZWxvY2l0eS55ID0gKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpIC8gdGltZVNjYWxlO1xuICAgICAgICBib2R5LnNwZWVkID0gVmVjdG9yLm1hZ25pdHVkZShib2R5LnZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBsaW5lYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHkuXG4gICAgICogQG1ldGhvZCBnZXRWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb2R5LmdldFZlbG9jaXR5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICB2YXIgdGltZVNjYWxlID0gQm9keS5fYmFzZURlbHRhIC8gYm9keS5kZWx0YVRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IChib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54KSAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHk6IChib2R5LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uUHJldi55KSAqIHRpbWVTY2FsZVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IGxpbmVhciBzcGVlZCBvZiB0aGUgYm9keS4gIFxuICAgICAqIEVxdWl2YWxlbnQgdG8gdGhlIG1hZ25pdHVkZSBvZiBpdHMgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCBnZXRTcGVlZFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gc3BlZWRcbiAgICAgKi9cbiAgICBCb2R5LmdldFNwZWVkID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yLm1hZ25pdHVkZShCb2R5LmdldFZlbG9jaXR5KGJvZHkpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBsaW5lYXIgc3BlZWQgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBEaXJlY3Rpb24gaXMgbWFpbnRhaW5lZC4gQWZmZWN0cyBib2R5IHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2Qgc2V0U3BlZWRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRcbiAgICAgKi9cbiAgICBCb2R5LnNldFNwZWVkID0gZnVuY3Rpb24oYm9keSwgc3BlZWQpIHtcbiAgICAgICAgQm9keS5zZXRWZWxvY2l0eShib2R5LCBWZWN0b3IubXVsdChWZWN0b3Iubm9ybWFsaXNlKEJvZHkuZ2V0VmVsb2NpdHkoYm9keSkpLCBzcGVlZCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHJvdGF0aW9uYWwgdmVsb2NpdHkgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBBZmZlY3RzIGJvZHkgYW5ndWxhciBzcGVlZC5cbiAgICAgKiBAbWV0aG9kIHNldEFuZ3VsYXJWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZWxvY2l0eVxuICAgICAqL1xuICAgIEJvZHkuc2V0QW5ndWxhclZlbG9jaXR5ID0gZnVuY3Rpb24oYm9keSwgdmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IGJvZHkuZGVsdGFUaW1lIC8gQm9keS5fYmFzZURlbHRhO1xuICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGUgLSB2ZWxvY2l0eSAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkgPSAoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAvIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5hbmd1bGFyU3BlZWQgPSBNYXRoLmFicyhib2R5LmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiB0aGUgYm9keS5cbiAgICAgKiBAbWV0aG9kIGdldEFuZ3VsYXJWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gYW5ndWxhciB2ZWxvY2l0eVxuICAgICAqL1xuICAgIEJvZHkuZ2V0QW5ndWxhclZlbG9jaXR5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICByZXR1cm4gKGJvZHkuYW5nbGUgLSBib2R5LmFuZ2xlUHJldikgKiBCb2R5Ll9iYXNlRGVsdGEgLyBib2R5LmRlbHRhVGltZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBib2R5LiAgXG4gICAgICogRXF1aXZhbGVudCB0byB0aGUgbWFnbml0dWRlIG9mIGl0cyBhbmd1bGFyIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2QgZ2V0QW5ndWxhclNwZWVkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBhbmd1bGFyIHNwZWVkXG4gICAgICovXG4gICAgQm9keS5nZXRBbmd1bGFyU3BlZWQgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhCb2R5LmdldEFuZ3VsYXJWZWxvY2l0eShib2R5KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgcm90YXRpb25hbCBzcGVlZCBvZiB0aGUgYm9keS4gIFxuICAgICAqIERpcmVjdGlvbiBpcyBtYWludGFpbmVkLiBBZmZlY3RzIGJvZHkgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHNldEFuZ3VsYXJTcGVlZFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFxuICAgICAqL1xuICAgIEJvZHkuc2V0QW5ndWxhclNwZWVkID0gZnVuY3Rpb24oYm9keSwgc3BlZWQpIHtcbiAgICAgICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkoYm9keSwgQ29tbW9uLnNpZ24oQm9keS5nZXRBbmd1bGFyVmVsb2NpdHkoYm9keSkpICogc3BlZWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGJvZHkgYnkgYSBnaXZlbiB2ZWN0b3IgcmVsYXRpdmUgdG8gaXRzIGN1cnJlbnQgcG9zaXRpb24uIEJ5IGRlZmF1bHQgdmVsb2NpdHkgaXMgdW5jaGFuZ2VkLlxuICAgICAqIElmIGB1cGRhdGVWZWxvY2l0eWAgaXMgYHRydWVgIHRoZW4gdmVsb2NpdHkgaXMgaW5mZXJyZWQgZnJvbSB0aGUgY2hhbmdlIGluIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2QgdHJhbnNsYXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlVmVsb2NpdHk9ZmFsc2VdXG4gICAgICovXG4gICAgQm9keS50cmFuc2xhdGUgPSBmdW5jdGlvbihib2R5LCB0cmFuc2xhdGlvbiwgdXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCBWZWN0b3IuYWRkKGJvZHkucG9zaXRpb24sIHRyYW5zbGF0aW9uKSwgdXBkYXRlVmVsb2NpdHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGEgYm9keSBieSBhIGdpdmVuIGFuZ2xlIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IGFuZ2xlLiBCeSBkZWZhdWx0IGFuZ3VsYXIgdmVsb2NpdHkgaXMgdW5jaGFuZ2VkLlxuICAgICAqIElmIGB1cGRhdGVWZWxvY2l0eWAgaXMgYHRydWVgIHRoZW4gYW5ndWxhciB2ZWxvY2l0eSBpcyBpbmZlcnJlZCBmcm9tIHRoZSBjaGFuZ2UgaW4gYW5nbGUuXG4gICAgICogQG1ldGhvZCByb3RhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW3BvaW50XVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZVZlbG9jaXR5PWZhbHNlXVxuICAgICAqL1xuICAgIEJvZHkucm90YXRlID0gZnVuY3Rpb24oYm9keSwgcm90YXRpb24sIHBvaW50LCB1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIGJvZHkuYW5nbGUgKyByb3RhdGlvbiwgdXBkYXRlVmVsb2NpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKHJvdGF0aW9uKSxcbiAgICAgICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihyb3RhdGlvbiksXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAoZHggKiBjb3MgLSBkeSAqIHNpbiksXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKVxuICAgICAgICAgICAgfSwgdXBkYXRlVmVsb2NpdHkpO1xuXG4gICAgICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIGJvZHkuYW5nbGUgKyByb3RhdGlvbiwgdXBkYXRlVmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyB0aGUgYm9keSwgaW5jbHVkaW5nIHVwZGF0aW5nIHBoeXNpY2FsIHByb3BlcnRpZXMgKG1hc3MsIGFyZWEsIGF4ZXMsIGluZXJ0aWEpLCBmcm9tIGEgd29ybGQtc3BhY2UgcG9pbnQgKGRlZmF1bHQgaXMgYm9keSBjZW50cmUpLlxuICAgICAqIEBtZXRob2Qgc2NhbGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbcG9pbnRdXG4gICAgICovXG4gICAgQm9keS5zY2FsZSA9IGZ1bmN0aW9uKGJvZHksIHNjYWxlWCwgc2NhbGVZLCBwb2ludCkge1xuICAgICAgICB2YXIgdG90YWxBcmVhID0gMCxcbiAgICAgICAgICAgIHRvdGFsSW5lcnRpYSA9IDA7XG5cbiAgICAgICAgcG9pbnQgPSBwb2ludCB8fCBib2R5LnBvc2l0aW9uO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldO1xuXG4gICAgICAgICAgICAvLyBzY2FsZSB2ZXJ0aWNlc1xuICAgICAgICAgICAgVmVydGljZXMuc2NhbGUocGFydC52ZXJ0aWNlcywgc2NhbGVYLCBzY2FsZVksIHBvaW50KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIHBhcnQuYXhlcyA9IEF4ZXMuZnJvbVZlcnRpY2VzKHBhcnQudmVydGljZXMpO1xuICAgICAgICAgICAgcGFydC5hcmVhID0gVmVydGljZXMuYXJlYShwYXJ0LnZlcnRpY2VzKTtcbiAgICAgICAgICAgIEJvZHkuc2V0TWFzcyhwYXJ0LCBib2R5LmRlbnNpdHkgKiBwYXJ0LmFyZWEpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgaW5lcnRpYSAocmVxdWlyZXMgdmVydGljZXMgdG8gYmUgYXQgb3JpZ2luKVxuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIHsgeDogLXBhcnQucG9zaXRpb24ueCwgeTogLXBhcnQucG9zaXRpb24ueSB9KTtcbiAgICAgICAgICAgIEJvZHkuc2V0SW5lcnRpYShwYXJ0LCBCb2R5Ll9pbmVydGlhU2NhbGUgKiBWZXJ0aWNlcy5pbmVydGlhKHBhcnQudmVydGljZXMsIHBhcnQubWFzcykpO1xuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIHsgeDogcGFydC5wb3NpdGlvbi54LCB5OiBwYXJ0LnBvc2l0aW9uLnkgfSk7XG5cbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHRvdGFsQXJlYSArPSBwYXJ0LmFyZWE7XG4gICAgICAgICAgICAgICAgdG90YWxJbmVydGlhICs9IHBhcnQuaW5lcnRpYTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2NhbGUgcG9zaXRpb25cbiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCA9IHBvaW50LnggKyAocGFydC5wb3NpdGlvbi54IC0gcG9pbnQueCkgKiBzY2FsZVg7XG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgPSBwb2ludC55ICsgKHBhcnQucG9zaXRpb24ueSAtIHBvaW50LnkpICogc2NhbGVZO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgYm91bmRzXG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBwYXJlbnQgYm9keVxuICAgICAgICBpZiAoYm9keS5wYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBib2R5LmFyZWEgPSB0b3RhbEFyZWE7XG5cbiAgICAgICAgICAgIGlmICghYm9keS5pc1N0YXRpYykge1xuICAgICAgICAgICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCBib2R5LmRlbnNpdHkgKiB0b3RhbEFyZWEpO1xuICAgICAgICAgICAgICAgIEJvZHkuc2V0SW5lcnRpYShib2R5LCB0b3RhbEluZXJ0aWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGNpcmNsZXNcbiAgICAgICAgaWYgKGJvZHkuY2lyY2xlUmFkaXVzKSB7IFxuICAgICAgICAgICAgaWYgKHNjYWxlWCA9PT0gc2NhbGVZKSB7XG4gICAgICAgICAgICAgICAgYm9keS5jaXJjbGVSYWRpdXMgKj0gc2NhbGVYO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBib2R5IGlzIG5vIGxvbmdlciBhIGNpcmNsZVxuICAgICAgICAgICAgICAgIGJvZHkuY2lyY2xlUmFkaXVzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiB1cGRhdGUgYnkgaW50ZWdyYXRpbmcgdGhlIGVxdWF0aW9ucyBvZiBtb3Rpb24gb24gdGhlIGBib2R5YC5cbiAgICAgKiBUaGlzIGlzIGFwcGxpZWQgZXZlcnkgdXBkYXRlIGJ5IGBNYXR0ZXIuRW5naW5lYCBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MTYuNjY2XVxuICAgICAqL1xuICAgIEJvZHkudXBkYXRlID0gZnVuY3Rpb24oYm9keSwgZGVsdGFUaW1lKSB7XG4gICAgICAgIGRlbHRhVGltZSA9ICh0eXBlb2YgZGVsdGFUaW1lICE9PSAndW5kZWZpbmVkJyA/IGRlbHRhVGltZSA6ICgxMDAwIC8gNjApKSAqIGJvZHkudGltZVNjYWxlO1xuXG4gICAgICAgIHZhciBkZWx0YVRpbWVTcXVhcmVkID0gZGVsdGFUaW1lICogZGVsdGFUaW1lLFxuICAgICAgICAgICAgY29ycmVjdGlvbiA9IEJvZHkuX3RpbWVDb3JyZWN0aW9uID8gZGVsdGFUaW1lIC8gKGJvZHkuZGVsdGFUaW1lIHx8IGRlbHRhVGltZSkgOiAxO1xuXG4gICAgICAgIC8vIGZyb20gdGhlIHByZXZpb3VzIHN0ZXBcbiAgICAgICAgdmFyIGZyaWN0aW9uQWlyID0gMSAtIGJvZHkuZnJpY3Rpb25BaXIgKiAoZGVsdGFUaW1lIC8gQ29tbW9uLl9iYXNlRGVsdGEpLFxuICAgICAgICAgICAgdmVsb2NpdHlQcmV2WCA9IChib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54KSAqIGNvcnJlY3Rpb24sXG4gICAgICAgICAgICB2ZWxvY2l0eVByZXZZID0gKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpICogY29ycmVjdGlvbjtcblxuICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgd2l0aCBWZXJsZXQgaW50ZWdyYXRpb25cbiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gKHZlbG9jaXR5UHJldlggKiBmcmljdGlvbkFpcikgKyAoYm9keS5mb3JjZS54IC8gYm9keS5tYXNzKSAqIGRlbHRhVGltZVNxdWFyZWQ7XG4gICAgICAgIGJvZHkudmVsb2NpdHkueSA9ICh2ZWxvY2l0eVByZXZZICogZnJpY3Rpb25BaXIpICsgKGJvZHkuZm9yY2UueSAvIGJvZHkubWFzcykgKiBkZWx0YVRpbWVTcXVhcmVkO1xuXG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLng7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBib2R5LnBvc2l0aW9uLnk7XG4gICAgICAgIGJvZHkucG9zaXRpb24ueCArPSBib2R5LnZlbG9jaXR5Lng7XG4gICAgICAgIGJvZHkucG9zaXRpb24ueSArPSBib2R5LnZlbG9jaXR5Lnk7XG4gICAgICAgIGJvZHkuZGVsdGFUaW1lID0gZGVsdGFUaW1lO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBhbmd1bGFyIHZlbG9jaXR5IHdpdGggVmVybGV0IGludGVncmF0aW9uXG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5ID0gKChib2R5LmFuZ2xlIC0gYm9keS5hbmdsZVByZXYpICogZnJpY3Rpb25BaXIgKiBjb3JyZWN0aW9uKSArIChib2R5LnRvcnF1ZSAvIGJvZHkuaW5lcnRpYSkgKiBkZWx0YVRpbWVTcXVhcmVkO1xuICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGU7XG4gICAgICAgIGJvZHkuYW5nbGUgKz0gYm9keS5hbmd1bGFyVmVsb2NpdHk7XG5cbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSBib2R5IGdlb21ldHJ5XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldO1xuXG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCArPSBib2R5LnZlbG9jaXR5Lng7XG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ICs9IGJvZHkudmVsb2NpdHkueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvZHkuYW5ndWxhclZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGJvZHkuYW5ndWxhclZlbG9jaXR5LCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBBeGVzLnJvdGF0ZShwYXJ0LmF4ZXMsIGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZUFib3V0KHBhcnQucG9zaXRpb24sIGJvZHkuYW5ndWxhclZlbG9jaXR5LCBib2R5LnBvc2l0aW9uLCBwYXJ0LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgcHJvcGVydGllcyBgYm9keS52ZWxvY2l0eWAsIGBib2R5LnNwZWVkYCwgYGJvZHkuYW5ndWxhclZlbG9jaXR5YCBhbmQgYGJvZHkuYW5ndWxhclNwZWVkYCB3aGljaCBhcmUgbm9ybWFsaXNlZCBpbiByZWxhdGlvbiB0byBgQm9keS5fYmFzZURlbHRhYC5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVZlbG9jaXRpZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKi9cbiAgICBCb2R5LnVwZGF0ZVZlbG9jaXRpZXMgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBCb2R5Ll9iYXNlRGVsdGEgLyBib2R5LmRlbHRhVGltZSxcbiAgICAgICAgICAgIGJvZHlWZWxvY2l0eSA9IGJvZHkudmVsb2NpdHk7XG5cbiAgICAgICAgYm9keVZlbG9jaXR5LnggPSAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCkgKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHlWZWxvY2l0eS55ID0gKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpICogdGltZVNjYWxlO1xuICAgICAgICBib2R5LnNwZWVkID0gTWF0aC5zcXJ0KChib2R5VmVsb2NpdHkueCAqIGJvZHlWZWxvY2l0eS54KSArIChib2R5VmVsb2NpdHkueSAqIGJvZHlWZWxvY2l0eS55KSk7XG5cbiAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkgPSAoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5hbmd1bGFyU3BlZWQgPSBNYXRoLmFicyhib2R5LmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGBmb3JjZWAgdG8gdGhlIGBib2R5YCBmcm9tIHRoZSBmb3JjZSBvcmlnaW4gYHBvc2l0aW9uYCBpbiB3b3JsZC1zcGFjZSwgb3ZlciBhIHNpbmdsZSB0aW1lc3RlcCwgaW5jbHVkaW5nIGFwcGx5aW5nIGFueSByZXN1bHRpbmcgYW5ndWxhciB0b3JxdWUuXG4gICAgICogXG4gICAgICogRm9yY2VzIGFyZSB1c2VmdWwgZm9yIGVmZmVjdHMgbGlrZSBncmF2aXR5LCB3aW5kIG9yIHJvY2tldCB0aHJ1c3QsIGJ1dCBjYW4gYmUgZGlmZmljdWx0IGluIHByYWN0aWNlIHdoZW4gcHJlY2lzZSBjb250cm9sIGlzIG5lZWRlZC4gSW4gdGhlc2UgY2FzZXMgc2VlIGBCb2R5LnNldFZlbG9jaXR5YCBhbmQgYEJvZHkuc2V0UG9zaXRpb25gIGFzIGFuIGFsdGVybmF0aXZlLlxuICAgICAqIFxuICAgICAqIFRoZSBmb3JjZSBmcm9tIHRoaXMgZnVuY3Rpb24gaXMgb25seSBhcHBsaWVkIG9uY2UgZm9yIHRoZSBkdXJhdGlvbiBvZiBhIHNpbmdsZSB0aW1lc3RlcCwgaW4gb3RoZXIgd29yZHMgdGhlIGR1cmF0aW9uIGRlcGVuZHMgZGlyZWN0bHkgb24gdGhlIGN1cnJlbnQgZW5naW5lIHVwZGF0ZSBgZGVsdGFgIGFuZCB0aGUgcmF0ZSBvZiBjYWxscyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIFxuICAgICAqIFRoZXJlZm9yZSB0byBhY2NvdW50IGZvciB0aW1lLCB5b3Ugc2hvdWxkIGFwcGx5IHRoZSBmb3JjZSBjb25zdGFudGx5IG92ZXIgYXMgbWFueSBlbmdpbmUgdXBkYXRlcyBhcyBlcXVpdmFsZW50IHRvIHRoZSBpbnRlbmRlZCBkdXJhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBJZiBhbGwgb3IgcGFydCBvZiB0aGUgZm9yY2UgZHVyYXRpb24gaXMgc29tZSBmcmFjdGlvbiBvZiBhIHRpbWVzdGVwLCBmaXJzdCBtdWx0aXBseSB0aGUgZm9yY2UgYnkgYGR1cmF0aW9uIC8gdGltZXN0ZXBgLlxuICAgICAqIFxuICAgICAqIFRoZSBmb3JjZSBvcmlnaW4gYHBvc2l0aW9uYCBpbiB3b3JsZC1zcGFjZSBtdXN0IGFsc28gYmUgc3BlY2lmaWVkLiBQYXNzaW5nIGBib2R5LnBvc2l0aW9uYCB3aWxsIHJlc3VsdCBpbiB6ZXJvIGFuZ3VsYXIgZWZmZWN0IGFzIHRoZSBmb3JjZSBvcmlnaW4gd291bGQgYmUgYXQgdGhlIGNlbnRyZSBvZiBtYXNzLlxuICAgICAqIFxuICAgICAqIFRoZSBgYm9keWAgd2lsbCB0YWtlIHRpbWUgdG8gYWNjZWxlcmF0ZSB1bmRlciBhIGZvcmNlLCB0aGUgcmVzdWx0aW5nIGVmZmVjdCBkZXBlbmRzIG9uIGR1cmF0aW9uIG9mIHRoZSBmb3JjZSwgdGhlIGJvZHkgbWFzcyBhbmQgb3RoZXIgZm9yY2VzIG9uIHRoZSBib2R5IGluY2x1ZGluZyBmcmljdGlvbiBjb21iaW5lZC5cbiAgICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2VcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9zaXRpb24gVGhlIGZvcmNlIG9yaWdpbiBpbiB3b3JsZC1zcGFjZS4gUGFzcyBgYm9keS5wb3NpdGlvbmAgdG8gYXZvaWQgYW5ndWxhciB0b3JxdWUuXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IGZvcmNlXG4gICAgICovXG4gICAgQm9keS5hcHBseUZvcmNlID0gZnVuY3Rpb24oYm9keSwgcG9zaXRpb24sIGZvcmNlKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB7IHg6IHBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uLnkgfTtcbiAgICAgICAgYm9keS5mb3JjZS54ICs9IGZvcmNlLng7XG4gICAgICAgIGJvZHkuZm9yY2UueSArPSBmb3JjZS55O1xuICAgICAgICBib2R5LnRvcnF1ZSArPSBvZmZzZXQueCAqIGZvcmNlLnkgLSBvZmZzZXQueSAqIGZvcmNlLng7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bXMgb2YgdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keS5cbiAgICAgKiBAbWV0aG9kIF90b3RhbFByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge31cbiAgICAgKi9cbiAgICBCb2R5Ll90b3RhbFByb3BlcnRpZXMgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIC8vIGZyb20gZXF1YXRpb25zIGF0OlxuICAgICAgICAvLyBodHRwczovL2Vjb3Vyc2VzLm91LmVkdS9jZ2ktYmluL2Vib29rLmNnaT9kb2M9JnRvcGljPXN0JmNoYXBfc2VjPTA3LjImcGFnZT10aGVvcnlcbiAgICAgICAgLy8gaHR0cDovL291dHB1dC50by9zaWRld2F5L2RlZmF1bHQuYXNwP3Fubz0xMjExMDAwODdcblxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1hc3M6IDAsXG4gICAgICAgICAgICBhcmVhOiAwLFxuICAgICAgICAgICAgaW5lcnRpYTogMCxcbiAgICAgICAgICAgIGNlbnRyZTogeyB4OiAwLCB5OiAwIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdW0gdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICBmb3IgKHZhciBpID0gYm9keS5wYXJ0cy5sZW5ndGggPT09IDEgPyAwIDogMTsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXSxcbiAgICAgICAgICAgICAgICBtYXNzID0gcGFydC5tYXNzICE9PSBJbmZpbml0eSA/IHBhcnQubWFzcyA6IDE7XG5cbiAgICAgICAgICAgIHByb3BlcnRpZXMubWFzcyArPSBtYXNzO1xuICAgICAgICAgICAgcHJvcGVydGllcy5hcmVhICs9IHBhcnQuYXJlYTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuaW5lcnRpYSArPSBwYXJ0LmluZXJ0aWE7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmNlbnRyZSA9IFZlY3Rvci5hZGQocHJvcGVydGllcy5jZW50cmUsIFZlY3Rvci5tdWx0KHBhcnQucG9zaXRpb24sIG1hc3MpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuY2VudHJlID0gVmVjdG9yLmRpdihwcm9wZXJ0aWVzLmNlbnRyZSwgcHJvcGVydGllcy5tYXNzKTtcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGJvZHkgc3RhcnRzIHNsZWVwaW5nICh3aGVyZSBgdGhpc2AgaXMgdGhlIGJvZHkpLlxuICAgICpcbiAgICAqIEBldmVudCBzbGVlcFN0YXJ0XG4gICAgKiBAdGhpcyB7Ym9keX0gVGhlIGJvZHkgdGhhdCBoYXMgc3RhcnRlZCBzbGVlcGluZ1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gYSBib2R5IGVuZHMgc2xlZXBpbmcgKHdoZXJlIGB0aGlzYCBpcyB0aGUgYm9keSkuXG4gICAgKlxuICAgICogQGV2ZW50IHNsZWVwRW5kXG4gICAgKiBAdGhpcyB7Ym9keX0gVGhlIGJvZHkgdGhhdCBoYXMgZW5kZWQgc2xlZXBpbmdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIG51bWJlciBnZW5lcmF0ZWQgaW4gYEJvZHkuY3JlYXRlYCBieSBgQ29tbW9uLm5leHRJZGAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBTZXQgYnkgYEJvZHkuY3JlYXRlYC5cbiAgICAgKiBcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJib2R5XCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFyYml0cmFyeSBgU3RyaW5nYCBuYW1lIHRvIGhlbHAgdGhlIHVzZXIgaWRlbnRpZnkgYW5kIG1hbmFnZSBib2RpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGFiZWxcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcIkJvZHlcIlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRQYXJ0c2AgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYEJvZGllcy5mcm9tVmVydGljZXNgIGZvciBhIHJlbGF0ZWQgdXRpbGl0eS5cbiAgICAgKiBcbiAgICAgKiBBbiBhcnJheSBvZiBib2RpZXMgKHRoZSAncGFydHMnKSB0aGF0IG1ha2UgdXAgdGhpcyBib2R5ICh0aGUgJ3BhcmVudCcpLiBUaGUgZmlyc3QgYm9keSBpbiB0aGlzIGFycmF5IG11c3QgYWx3YXlzIGJlIGEgc2VsZi1yZWZlcmVuY2UgdG8gdGhpcyBgYm9keWAuICBcbiAgICAgKiBcbiAgICAgKiBUaGUgcGFydHMgYXJlIGZpeGVkIHRvZ2V0aGVyIGFuZCB0aGVyZWZvcmUgcGVyZm9ybSBhcyBhIHNpbmdsZSB1bmlmaWVkIHJpZ2lkIGJvZHkuXG4gICAgICogXG4gICAgICogUGFydHMgaW4gcmVsYXRpb24gdG8gZWFjaCBvdGhlciBhcmUgYWxsb3dlZCB0byBvdmVybGFwLCBhcyB3ZWxsIGFzIGZvcm0gZ2FwcyBvciBob2xlcywgc28gY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGNvbXBsZXggY29uY2F2ZSBib2RpZXMgdW5saWtlIHdoZW4gdXNpbmcgYSBzaW5nbGUgcGFydC4gXG4gICAgICogXG4gICAgICogVXNlIHByb3BlcnRpZXMgYW5kIGZ1bmN0aW9ucyBvbiB0aGUgcGFyZW50IGBib2R5YCByYXRoZXIgdGhhbiBvbiBwYXJ0cy5cbiAgICAgKiAgIFxuICAgICAqIE91dHNpZGUgb2YgdGhlaXIgZ2VvbWV0cnksIG1vc3QgcHJvcGVydGllcyBvbiBwYXJ0cyBhcmUgbm90IGNvbnNpZGVyZWQgb3IgdXBkYXRlZC4gIFxuICAgICAqIEFzIHN1Y2ggJ3Blci1wYXJ0JyBtYXRlcmlhbCBwcm9wZXJ0aWVzIGFtb25nIG90aGVycyBhcmUgbm90IGN1cnJlbnRseSBjb25zaWRlcmVkLlxuICAgICAqIFxuICAgICAqIFBhcnRzIHNob3VsZCBiZSBjcmVhdGVkIHNwZWNpZmljYWxseSBmb3IgdGhlaXIgcGFyZW50IGJvZHkuICBcbiAgICAgKiBQYXJ0cyBzaG91bGQgbm90IGJlIHNoYXJlZCBvciByZXVzZWQgYmV0d2VlbiBib2RpZXMsIG9ubHkgb25lIHBhcmVudCBpcyBzdXBwb3J0ZWQuICBcbiAgICAgKiBQYXJ0cyBzaG91bGQgbm90IGhhdmUgdGhlaXIgb3duIHBhcnRzLCB0aGV5IGFyZSBub3QgaGFuZGxlZCByZWN1cnNpdmVseS4gIFxuICAgICAqIFBhcnRzIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHdvcmxkIGRpcmVjdGx5IG9yIGFueSBvdGhlciBjb21wb3NpdGUuICBcbiAgICAgKiBQYXJ0cyBvd24gdmVydGljZXMgbXVzdCBiZSBjb252ZXggYW5kIGluIGNsb2Nrd2lzZSBvcmRlci4gICBcbiAgICAgKiBcbiAgICAgKiBBIGJvZHkgd2l0aCBtb3JlIHRoYW4gb25lIHBhcnQgaXMgc29tZXRpbWVzIHJlZmVycmVkIHRvIGFzIGEgJ2NvbXBvdW5kJyBib2R5LiBcbiAgICAgKiBcbiAgICAgKiBVc2UgYEJvZHkuc2V0UGFydHNgIHdoZW4gc2V0dGluZyBwYXJ0cyB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzIG9mIGFsbCBwcm9wZXJ0aWVzLiAgXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgcGFydHNcbiAgICAgKiBAdHlwZSBib2R5W11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVwZGF0ZWQgYnkgYEJvZHkuc2V0UGFydHNgLlxuICAgICAqIFxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBib2R5IHRoYXQgdGhpcyBpcyBhIHBhcnQgb2YuIFNlZSBgYm9keS5wYXJ0c2AuXG4gICAgICogVGhpcyBpcyBhIHNlbGYgcmVmZXJlbmNlIGlmIHRoZSBib2R5IGlzIG5vdCBhIHBhcnQgb2YgYW5vdGhlciBib2R5LlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHBhcmVudFxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgc3BlY2lmeWluZyB0aGUgYW5nbGUgb2YgdGhlIGJvZHksIGluIHJhZGlhbnMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFZlcnRpY2VzYCBvciBgQm9keS5zZXRQYXJ0c2AgdG8gc2V0LiBTZWUgYWxzbyBgQm9kaWVzLmZyb21WZXJ0aWNlc2AuXG4gICAgICogXG4gICAgICogQW4gYXJyYXkgb2YgYFZlY3RvcmAgb2JqZWN0cyB0aGF0IHNwZWNpZnkgdGhlIGNvbnZleCBodWxsIG9mIHRoZSByaWdpZCBib2R5LlxuICAgICAqIFRoZXNlIHNob3VsZCBiZSBwcm92aWRlZCBhYm91dCB0aGUgb3JpZ2luIGAoMCwgMClgLiBFLmcuXG4gICAgICpcbiAgICAgKiBgW3sgeDogMCwgeTogMCB9LCB7IHg6IDI1LCB5OiA1MCB9LCB7IHg6IDUwLCB5OiAwIH1dYFxuICAgICAqIFxuICAgICAqIFZlcnRpY2VzIG11c3QgYWx3YXlzIGJlIGNvbnZleCwgaW4gY2xvY2t3aXNlIG9yZGVyIGFuZCBtdXN0IG5vdCBjb250YWluIGFueSBkdXBsaWNhdGUgcG9pbnRzLlxuICAgICAqIFxuICAgICAqIENvbmNhdmUgdmVydGljZXMgc2hvdWxkIGJlIGRlY29tcG9zZWQgaW50byBjb252ZXggYHBhcnRzYCwgc2VlIGBCb2RpZXMuZnJvbVZlcnRpY2VzYCBhbmQgYEJvZHkuc2V0UGFydHNgLlxuICAgICAqXG4gICAgICogV2hlbiBzZXQgdGhlIHZlcnRpY2VzIGFyZSB0cmFuc2xhdGVkIHN1Y2ggdGhhdCBgYm9keS5wb3NpdGlvbmAgaXMgYXQgdGhlIGNlbnRyZSBvZiBtYXNzLlxuICAgICAqIE1hbnkgb3RoZXIgYm9keSBwcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgZnJvbSB0aGVzZSB2ZXJ0aWNlcyB3aGVuIHNldCBpbmNsdWRpbmcgYGRlbnNpdHlgLCBgYXJlYWAgYW5kIGBpbmVydGlhYC5cbiAgICAgKiBcbiAgICAgKiBUaGUgbW9kdWxlIGBNYXR0ZXIuVmVydGljZXNgIGNvbnRhaW5zIHVzZWZ1bCBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgdmVydGljZXNcbiAgICAgKiBAdHlwZSB2ZWN0b3JbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRQb3NpdGlvbmAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBjdXJyZW50IHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvblxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgYWNjdW11bGF0ZXMgdGhlIHRvdGFsIGZvcmNlIGFwcGxpZWQgdG8gdGhlIGJvZHkgZm9yIGEgc2luZ2xlIHVwZGF0ZS5cbiAgICAgKiBGb3JjZSBpcyB6ZXJvZWQgYWZ0ZXIgZXZlcnkgYEVuZ2luZS51cGRhdGVgLCBzbyBjb25zdGFudCBmb3JjZXMgc2hvdWxkIGJlIGFwcGxpZWQgZm9yIGV2ZXJ5IHVwZGF0ZSB0aGV5IGFyZSBuZWVkZWQuIFNlZSBhbHNvIGBCb2R5LmFwcGx5Rm9yY2VgLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBmb3JjZVxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgYWNjdW11bGF0ZXMgdGhlIHRvdGFsIHRvcnF1ZSAodHVybmluZyBmb3JjZSkgYXBwbGllZCB0byB0aGUgYm9keSBmb3IgYSBzaW5nbGUgdXBkYXRlLiBTZWUgYWxzbyBgQm9keS5hcHBseUZvcmNlYC5cbiAgICAgKiBUb3JxdWUgaXMgemVyb2VkIGFmdGVyIGV2ZXJ5IGBFbmdpbmUudXBkYXRlYCwgc28gY29uc3RhbnQgdG9ycXVlcyBzaG91bGQgYmUgYXBwbGllZCBmb3IgZXZlcnkgdXBkYXRlIHRoZXkgYXJlIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFRvcnF1ZXMgcmVzdWx0IGluIGFuZ3VsYXIgYWNjZWxlcmF0aW9uIG9uIGV2ZXJ5IHVwZGF0ZSwgd2hpY2ggZGVwZW5kcyBvbiBib2R5IGluZXJ0aWEgYW5kIHRoZSBlbmdpbmUgdXBkYXRlIGRlbHRhLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSB0b3JxdWVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFNwZWVkYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIFNlZSBgQm9keS5nZXRTcGVlZGAgZm9yIGRldGFpbHMuXG4gICAgICogXG4gICAgICogRXF1aXZhbGVudCB0byB0aGUgbWFnbml0dWRlIG9mIGBib2R5LnZlbG9jaXR5YCAoYWx3YXlzIHBvc2l0aXZlKS5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgc3BlZWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFZlbG9jaXR5YCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIFNlZSBgQm9keS5nZXRWZWxvY2l0eWAgZm9yIGRldGFpbHMuXG4gICAgICogXG4gICAgICogRXF1aXZhbGVudCB0byB0aGUgbWFnbml0dWRlIG9mIGBib2R5LmFuZ3VsYXJWZWxvY2l0eWAgKGFsd2F5cyBwb3NpdGl2ZSkuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHZlbG9jaXR5XG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0QW5ndWxhclNwZWVkYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIFNlZSBgQm9keS5nZXRBbmd1bGFyU3BlZWRgIGZvciBkZXRhaWxzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyU3BlZWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eWAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYEJvZHkuZ2V0QW5ndWxhclZlbG9jaXR5YCBmb3IgZGV0YWlscy5cbiAgICAgKiBcbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFN0YXRpY2AgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBhIGJvZHkgaXMgY29uc2lkZXJlZCBzdGF0aWMuIEEgc3RhdGljIGJvZHkgY2FuIG5ldmVyIGNoYW5nZSBwb3NpdGlvbiBvciBhbmdsZSBhbmQgaXMgY29tcGxldGVseSBmaXhlZC5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBpc1N0YXRpY1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBib2R5IGlzIGEgc2Vuc29yLiBTZW5zb3IgdHJpZ2dlcnMgY29sbGlzaW9uIGV2ZW50cywgYnV0IGRvZXNuJ3QgcmVhY3Qgd2l0aCBjb2xsaWRpbmcgYm9keSBwaHlzaWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlzU2Vuc29yXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBTbGVlcGluZy5zZXRgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJvZHkgaXMgY29uc2lkZXJlZCBzbGVlcGluZy4gQSBzbGVlcGluZyBib2R5IGFjdHMgc2ltaWxhciB0byBhIHN0YXRpYyBib2R5LCBleGNlcHQgaXQgaXMgb25seSB0ZW1wb3JhcnkgYW5kIGNhbiBiZSBhd29rZW4uXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgaXNTbGVlcGluZ1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIENhbGN1bGF0ZWQgZHVyaW5nIGVuZ2luZSB1cGRhdGUgb25seSB3aGVuIHNsZWVwaW5nIGlzIGVuYWJsZWQuXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGxvb3NlbHkgbWVhc3VyZXMgdGhlIGFtb3VudCBvZiBtb3ZlbWVudCBhIGJvZHkgY3VycmVudGx5IGhhcy5cbiAgICAgKlxuICAgICAqIERlcml2ZWQgZnJvbSBgYm9keS5zcGVlZF4yICsgYm9keS5hbmd1bGFyU3BlZWReMmAuIFNlZSBgU2xlZXBpbmcudXBkYXRlYC5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgbW90aW9uXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGxlbmd0aCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGlzIGJvZHkgbXVzdCBoYXZlIG5lYXItemVybyB2ZWxvY2l0eSBiZWZvcmUgaXQgaXMgc2V0IGFzIHNsZWVwaW5nIGJ5IHRoZSBgTWF0dGVyLlNsZWVwaW5nYCBtb2R1bGUgKGlmIHNsZWVwaW5nIGlzIGVuYWJsZWQgYnkgdGhlIGVuZ2luZSkuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IHNsZWVwVGhyZXNob2xkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgNjBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0RGVuc2l0eWAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgZGVuc2l0eSBvZiB0aGUgYm9keSAobWFzcyBwZXIgdW5pdCBhcmVhKS5cbiAgICAgKiBcbiAgICAgKiBNYXNzIHdpbGwgYWxzbyBiZSB1cGRhdGVkIHdoZW4gc2V0LlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGRlbnNpdHlcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjAwMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRNYXNzYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBtYXNzIG9mIHRoZSBib2R5LlxuICAgICAqIFxuICAgICAqIERlbnNpdHkgd2lsbCBhbHNvIGJlIHVwZGF0ZWQgd2hlbiBzZXQuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IG1hc3NcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0TWFzc2AgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgaW52ZXJzZSBtYXNzIG9mIHRoZSBib2R5IChgMSAvIG1hc3NgKS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBpbnZlcnNlTWFzc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIEF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCB3aGVuIHZlcnRpY2VzLCBtYXNzIG9yIGRlbnNpdHkgYXJlIHNldCBvciBzZXQgdGhyb3VnaCBgQm9keS5zZXRJbmVydGlhYC5cbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIGJvZHkuIFRoaXMgaXMgdGhlIHNlY29uZCBtb21lbnQgb2YgYXJlYSBpbiB0d28gZGltZW5zaW9ucy5cbiAgICAgKiBcbiAgICAgKiBDYW4gYmUgbWFudWFsbHkgc2V0IHRvIGBJbmZpbml0eWAgdG8gcHJldmVudCByb3RhdGlvbiBvZiB0aGUgYm9keS4gU2VlIGBCb2R5LnNldEluZXJ0aWFgLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBpbmVydGlhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gQXV0b21hdGljYWxseSBjYWxjdWxhdGVkIHdoZW4gdmVydGljZXMsIG1hc3Mgb3IgZGVuc2l0eSBhcmUgc2V0IG9yIGNhbGN1bGF0ZWQgYnkgYEJvZHkuc2V0SW5lcnRpYWAuXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGludmVyc2UgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIGJvZHkgKGAxIC8gaW5lcnRpYWApLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBpbnZlcnNlSW5lcnRpYVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHJlc3RpdHV0aW9uIChlbGFzdGljaXR5KSBvZiB0aGUgYm9keS4gVGhlIHZhbHVlIGlzIGFsd2F5cyBwb3NpdGl2ZSBhbmQgaXMgaW4gdGhlIHJhbmdlIGAoMCwgMSlgLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIGNvbGxpc2lvbnMgbWF5IGJlIHBlcmZlY3RseSBpbmVsYXN0aWMgYW5kIG5vIGJvdW5jaW5nIG1heSBvY2N1ci4gXG4gICAgICogQSB2YWx1ZSBvZiBgMC44YCBtZWFucyB0aGUgYm9keSBtYXkgYm91bmNlIGJhY2sgd2l0aCBhcHByb3hpbWF0ZWx5IDgwJSBvZiBpdHMga2luZXRpYyBlbmVyZ3kuXG4gICAgICogTm90ZSB0aGF0IGNvbGxpc2lvbiByZXNwb25zZSBpcyBiYXNlZCBvbiBfcGFpcnNfIG9mIGJvZGllcywgYW5kIHRoYXQgYHJlc3RpdHV0aW9uYCB2YWx1ZXMgYXJlIF9jb21iaW5lZF8gd2l0aCB0aGUgZm9sbG93aW5nIGZvcm11bGE6XG4gICAgICpcbiAgICAgKiBgTWF0aC5tYXgoYm9keUEucmVzdGl0dXRpb24sIGJvZHlCLnJlc3RpdHV0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZXN0aXR1dGlvblxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBmcmljdGlvbiBvZiB0aGUgYm9keS4gVGhlIHZhbHVlIGlzIGFsd2F5cyBwb3NpdGl2ZSBhbmQgaXMgaW4gdGhlIHJhbmdlIGAoMCwgMSlgLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoYXQgdGhlIGJvZHkgbWF5IHNsaWRlIGluZGVmaW5pdGVseS5cbiAgICAgKiBBIHZhbHVlIG9mIGAxYCBtZWFucyB0aGUgYm9keSBtYXkgY29tZSB0byBhIHN0b3AgYWxtb3N0IGluc3RhbnRseSBhZnRlciBhIGZvcmNlIGlzIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgZWZmZWN0cyBvZiB0aGUgdmFsdWUgbWF5IGJlIG5vbi1saW5lYXIuIFxuICAgICAqIEhpZ2ggdmFsdWVzIG1heSBiZSB1bnN0YWJsZSBkZXBlbmRpbmcgb24gdGhlIGJvZHkuXG4gICAgICogVGhlIGVuZ2luZSB1c2VzIGEgQ291bG9tYiBmcmljdGlvbiBtb2RlbCBpbmNsdWRpbmcgc3RhdGljIGFuZCBraW5ldGljIGZyaWN0aW9uLlxuICAgICAqIE5vdGUgdGhhdCBjb2xsaXNpb24gcmVzcG9uc2UgaXMgYmFzZWQgb24gX3BhaXJzXyBvZiBib2RpZXMsIGFuZCB0aGF0IGBmcmljdGlvbmAgdmFsdWVzIGFyZSBfY29tYmluZWRfIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtdWxhOlxuICAgICAqXG4gICAgICogYE1hdGgubWluKGJvZHlBLmZyaWN0aW9uLCBib2R5Qi5mcmljdGlvbilgXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBzdGF0aWMgZnJpY3Rpb24gb2YgdGhlIGJvZHkgKGluIHRoZSBDb3Vsb21iIGZyaWN0aW9uIG1vZGVsKS4gXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgdGhlIGJvZHkgd2lsbCBuZXZlciAnc3RpY2snIHdoZW4gaXQgaXMgbmVhcmx5IHN0YXRpb25hcnkgYW5kIG9ubHkgZHluYW1pYyBgZnJpY3Rpb25gIGlzIHVzZWQuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUgKGUuZy4gYDEwYCksIHRoZSBtb3JlIGZvcmNlIGl0IHdpbGwgdGFrZSB0byBpbml0aWFsbHkgZ2V0IHRoZSBib2R5IG1vdmluZyB3aGVuIG5lYXJseSBzdGF0aW9uYXJ5LlxuICAgICAqIFRoaXMgdmFsdWUgaXMgbXVsdGlwbGllZCB3aXRoIHRoZSBgZnJpY3Rpb25gIHByb3BlcnR5IHRvIG1ha2UgaXQgZWFzaWVyIHRvIGNoYW5nZSBgZnJpY3Rpb25gIGFuZCBtYWludGFpbiBhbiBhcHByb3ByaWF0ZSBhbW91bnQgb2Ygc3RhdGljIGZyaWN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZyaWN0aW9uU3RhdGljXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgYWlyIGZyaWN0aW9uIG9mIHRoZSBib2R5IChhaXIgcmVzaXN0YW5jZSkuIFxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoZSBib2R5IHdpbGwgbmV2ZXIgc2xvdyBhcyBpdCBtb3ZlcyB0aHJvdWdoIHNwYWNlLlxuICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlLCB0aGUgZmFzdGVyIGEgYm9keSBzbG93cyB3aGVuIG1vdmluZyB0aHJvdWdoIHNwYWNlLlxuICAgICAqIFRoZSBlZmZlY3RzIG9mIHRoZSB2YWx1ZSBhcmUgbm9uLWxpbmVhci4gXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25BaXJcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGZpbHRlcmluZyBwcm9wZXJ0aWVzIG9mIHRoaXMgYm9keS5cbiAgICAgKlxuICAgICAqIENvbGxpc2lvbnMgYmV0d2VlbiB0d28gYm9kaWVzIHdpbGwgb2JleSB0aGUgZm9sbG93aW5nIHJ1bGVzOlxuICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSB0aGUgc2FtZSBub24temVybyB2YWx1ZSBvZiBgY29sbGlzaW9uRmlsdGVyLmdyb3VwYCxcbiAgICAgKiAgIHRoZXkgd2lsbCBhbHdheXMgY29sbGlkZSBpZiB0aGUgdmFsdWUgaXMgcG9zaXRpdmUsIGFuZCB0aGV5IHdpbGwgbmV2ZXIgY29sbGlkZVxuICAgICAqICAgaWYgdGhlIHZhbHVlIGlzIG5lZ2F0aXZlLlxuICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSBkaWZmZXJlbnQgdmFsdWVzIG9mIGBjb2xsaXNpb25GaWx0ZXIuZ3JvdXBgIG9yIGlmIG9uZVxuICAgICAqICAgKG9yIGJvdGgpIG9mIHRoZSBib2RpZXMgaGFzIGEgdmFsdWUgb2YgMCwgdGhlbiB0aGUgY2F0ZWdvcnkvbWFzayBydWxlcyBhcHBseSBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogRWFjaCBib2R5IGJlbG9uZ3MgdG8gYSBjb2xsaXNpb24gY2F0ZWdvcnksIGdpdmVuIGJ5IGBjb2xsaXNpb25GaWx0ZXIuY2F0ZWdvcnlgLiBUaGlzXG4gICAgICogdmFsdWUgaXMgdXNlZCBhcyBhIGJpdCBmaWVsZCBhbmQgdGhlIGNhdGVnb3J5IHNob3VsZCBoYXZlIG9ubHkgb25lIGJpdCBzZXQsIG1lYW5pbmcgdGhhdFxuICAgICAqIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgcG93ZXIgb2YgdHdvIGluIHRoZSByYW5nZSBbMSwgMl4zMV0uIFRodXMsIHRoZXJlIGFyZSAzMlxuICAgICAqIGRpZmZlcmVudCBjb2xsaXNpb24gY2F0ZWdvcmllcyBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBFYWNoIGJvZHkgYWxzbyBkZWZpbmVzIGEgY29sbGlzaW9uIGJpdG1hc2ssIGdpdmVuIGJ5IGBjb2xsaXNpb25GaWx0ZXIubWFza2Agd2hpY2ggc3BlY2lmaWVzXG4gICAgICogdGhlIGNhdGVnb3JpZXMgaXQgY29sbGlkZXMgd2l0aCAodGhlIHZhbHVlIGlzIHRoZSBiaXR3aXNlIEFORCB2YWx1ZSBvZiBhbGwgdGhlc2UgY2F0ZWdvcmllcykuXG4gICAgICpcbiAgICAgKiBVc2luZyB0aGUgY2F0ZWdvcnkvbWFzayBydWxlcywgdHdvIGJvZGllcyBgQWAgYW5kIGBCYCBjb2xsaWRlIGlmIGVhY2ggaW5jbHVkZXMgdGhlIG90aGVyJ3NcbiAgICAgKiBjYXRlZ29yeSBpbiBpdHMgbWFzaywgaS5lLiBgKGNhdGVnb3J5QSAmIG1hc2tCKSAhPT0gMGAgYW5kIGAoY2F0ZWdvcnlCICYgbWFza0EpICE9PSAwYFxuICAgICAqIGFyZSBib3RoIHRydWUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBJbnRlZ2VyIGBOdW1iZXJgLCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGdyb3VwIHRoaXMgYm9keSBiZWxvbmdzIHRvLlxuICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkZpbHRlci5ncm91cFxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYml0IGZpZWxkIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gY2F0ZWdvcnkgdGhpcyBib2R5IGJlbG9uZ3MgdG8uXG4gICAgICogVGhlIGNhdGVnb3J5IHZhbHVlIHNob3VsZCBoYXZlIG9ubHkgb25lIGJpdCBzZXQsIGZvciBleGFtcGxlIGAweDAwMDFgLlxuICAgICAqIFRoaXMgbWVhbnMgdGhlcmUgYXJlIHVwIHRvIDMyIHVuaXF1ZSBjb2xsaXNpb24gY2F0ZWdvcmllcyBhdmFpbGFibGUuXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyLmNhdGVnb3J5XG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiaXQgbWFzayB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGNhdGVnb3JpZXMgdGhpcyBib2R5IG1heSBjb2xsaWRlIHdpdGguXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyLm1hc2tcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyBhIHRoaW4gYm91bmRhcnkgYXJvdW5kIHRoZSBib2R5IHdoZXJlIGl0IGlzIGFsbG93ZWQgdG8gc2xpZ2h0bHkgc2luayBpbnRvIG90aGVyIGJvZGllcy5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHJlcXVpcmVkIGZvciBwcm9wZXIgY29sbGlzaW9uIHJlc3BvbnNlLCBpbmNsdWRpbmcgZnJpY3Rpb24gYW5kIHJlc3RpdHV0aW9uIGVmZmVjdHMuXG4gICAgICogXG4gICAgICogVGhlIGRlZmF1bHQgc2hvdWxkIGdlbmVyYWxseSBzdWZmaWNlIGluIG1vc3QgY2FzZXMuIFlvdSBtYXkgbmVlZCB0byBkZWNyZWFzZSB0aGlzIHZhbHVlIGZvciB2ZXJ5IHNtYWxsIGJvZGllcyB0aGF0IGFyZSBuZWFyaW5nIHRoZSBkZWZhdWx0IHZhbHVlIGluIHNjYWxlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHNsb3BcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjA1XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHBlci1ib2R5IHRpbWUgc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0aW1lU2NhbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXBkYXRlZCBkdXJpbmcgZW5naW5lIHVwZGF0ZS5cbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgcmVjb3JkcyB0aGUgbGFzdCBkZWx0YSB0aW1lIHZhbHVlIHVzZWQgdG8gdXBkYXRlIHRoaXMgYm9keS5cbiAgICAgKiBVc2VkIHRvIGNhbGN1bGF0ZSBzcGVlZCBhbmQgdmVsb2NpdHkuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgZGVsdGFUaW1lXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMTAwMCAvIDYwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IGRlZmluZXMgdGhlIHJlbmRlcmluZyBwcm9wZXJ0aWVzIHRvIGJlIGNvbnN1bWVkIGJ5IHRoZSBtb2R1bGUgYE1hdHRlci5SZW5kZXJgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlclxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBib2R5IHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIudmlzaWJsZVxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBvcGFjaXR5IHRvIHVzZSB3aGVuIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIub3BhY2l0eVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgdGhhdCBkZWZpbmVzIHRoZSBzcHJpdGUgcHJvcGVydGllcyB0byB1c2Ugd2hlbiByZW5kZXJpbmcsIGlmIGFueS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIHBhdGggdG8gdGhlIGltYWdlIHRvIHVzZSBhcyB0aGUgc3ByaXRlIHRleHR1cmUsIGlmIGFueS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnRleHR1cmVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICAgXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHNjYWxpbmcgaW4gdGhlIHgtYXhpcyBmb3IgdGhlIHNwcml0ZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueFNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHNjYWxpbmcgaW4gdGhlIHktYXhpcyBmb3IgdGhlIHNwcml0ZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueVNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHgtYXhpcyBmb3IgdGhlIHNwcml0ZSAobm9ybWFsaXNlZCBieSB0ZXh0dXJlIHdpZHRoKS5cbiAgICAgICpcbiAgICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueE9mZnNldFxuICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICogQGRlZmF1bHQgMFxuICAgICAgKi9cblxuICAgIC8qKlxuICAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB5LWF4aXMgZm9yIHRoZSBzcHJpdGUgKG5vcm1hbGlzZWQgYnkgdGV4dHVyZSBoZWlnaHQpLlxuICAgICAgKlxuICAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS55T2Zmc2V0XG4gICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGxpbmUgd2lkdGggdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IG91dGxpbmUgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyBubyBvdXRsaW5lIHdpbGwgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmxpbmVXaWR0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBmaWxsIHN0eWxlIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgYm9keSAoaWYgYSBzcHJpdGUgaXMgbm90IGRlZmluZWQpLlxuICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuZmlsbFN0eWxlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgYSByYW5kb20gY29sb3VyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgc3Ryb2tlIHN0eWxlIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgYm9keSBvdXRsaW5lIChpZiBhIHNwcml0ZSBpcyBub3QgZGVmaW5lZCkuXG4gICAgICogSXQgaXMgdGhlIHNhbWUgYXMgd2hlbiB1c2luZyBhIGNhbnZhcywgc28gaXQgYWNjZXB0cyBDU1Mgc3R5bGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zdHJva2VTdHlsZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IGEgcmFuZG9tIGNvbG91clxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIENhbGN1bGF0ZWQgYXV0b21hdGljYWxseSB3aGVuIHZlcnRpY2VzIGFyZSBzZXQuXG4gICAgICogXG4gICAgICogQW4gYXJyYXkgb2YgdW5pcXVlIGF4aXMgdmVjdG9ycyAoZWRnZSBub3JtYWxzKSB1c2VkIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICAgICAqIFRoZXNlIGFyZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgd2hlbiB2ZXJ0aWNlcyBhcmUgc2V0LlxuICAgICAqIFRoZXkgYXJlIGNvbnN0YW50bHkgdXBkYXRlZCBieSBgQm9keS51cGRhdGVgIGR1cmluZyB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBheGVzXG4gICAgICogQHR5cGUgdmVjdG9yW11cbiAgICAgKi9cbiAgICAgXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIENhbGN1bGF0ZWQgYXV0b21hdGljYWxseSB3aGVuIHZlcnRpY2VzIGFyZSBzZXQuXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IG1lYXN1cmVzIHRoZSBhcmVhIG9mIHRoZSBib2R5J3MgY29udmV4IGh1bGwuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGFyZWFcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgZGVmaW5lcyB0aGUgQUFCQiByZWdpb24gZm9yIHRoZSBib2R5LlxuICAgICAqIEl0IGlzIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCB3aGVuIHZlcnRpY2VzIGFyZSBzZXQgYW5kIGNvbnN0YW50bHkgdXBkYXRlZCBieSBgQm9keS51cGRhdGVgIGR1cmluZyBzaW11bGF0aW9uLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBib3VuZHNcbiAgICAgKiBAdHlwZSBib3VuZHNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyaWx5IG1heSBob2xkIHBhcmFtZXRlcnMgdG8gYmUgcGFzc2VkIHRvIGBWZXJ0aWNlcy5jaGFtZmVyYCB3aGVyZSBzdXBwb3J0ZWQgYnkgZXh0ZXJuYWwgZnVuY3Rpb25zLlxuICAgICAqIFxuICAgICAqIFNlZSBgVmVydGljZXMuY2hhbWZlcmAgZm9yIHBvc3NpYmxlIHBhcmFtZXRlcnMgdGhpcyBvYmplY3QgbWF5IGhvbGQuXG4gICAgICogXG4gICAgICogQ3VycmVudGx5IG9ubHkgZnVuY3Rpb25zIGluc2lkZSBgTWF0dGVyLkJvZGllc2AgcHJvdmlkZSBhIHV0aWxpdHkgdXNpbmcgdGhpcyBwcm9wZXJ0eSBhcyBhIHZlcnRpY2VzIHByZS1wcm9jZXNzaW5nIG9wdGlvbi5cbiAgICAgKiBcbiAgICAgKiBBbHRlcm5hdGl2ZWx5IGNvbnNpZGVyIHVzaW5nIGBWZXJ0aWNlcy5jaGFtZmVyYCBkaXJlY3RseSBvbiB2ZXJ0aWNlcyBiZWZvcmUgcGFzc2luZyB0aGVtIHRvIGEgYm9keSBjcmVhdGlvbiBmdW5jdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgY2hhbWZlclxuICAgICAqIEB0eXBlIG9iamVjdHxudWxsfHVuZGVmaW5lZFxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuRXZlbnRzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyB0byBmaXJlIGFuZCBsaXN0ZW4gdG8gZXZlbnRzIG9uIG90aGVyIG9iamVjdHMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBFdmVudHNcbiovXG5cbnZhciBFdmVudHMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudHM7XG5cbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLlxuICAgICAqIEBtZXRob2Qgb25cbiAgICAgKiBAcGFyYW0ge30gb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG9iamVjdCwgZXZlbnROYW1lcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgnICcpLFxuICAgICAgICAgICAgbmFtZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzID0gb2JqZWN0LmV2ZW50cyB8fCB7fTtcbiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZV0gPSBvYmplY3QuZXZlbnRzW25hbWVdIHx8IFtdO1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gZXZlbnQgY2FsbGJhY2suIElmIG5vIGNhbGxiYWNrLCBjbGVhcnMgYWxsIGNhbGxiYWNrcyBpbiBgZXZlbnROYW1lc2AuIElmIG5vIGBldmVudE5hbWVzYCwgY2xlYXJzIGFsbCBldmVudHMuXG4gICAgICogQG1ldGhvZCBvZmZcbiAgICAgKiBAcGFyYW0ge30gb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIEV2ZW50cy5vZmYgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghZXZlbnROYW1lcykge1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50cyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIEV2ZW50cy5vZmYob2JqZWN0LCBjYWxsYmFjaylcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGV2ZW50TmFtZXM7XG4gICAgICAgICAgICBldmVudE5hbWVzID0gQ29tbW9uLmtleXMob2JqZWN0LmV2ZW50cykuam9pbignICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBvYmplY3QuZXZlbnRzW25hbWVzW2ldXSxcbiAgICAgICAgICAgICAgICBuZXdDYWxsYmFja3MgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3Nbal0gIT09IGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2tzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZXNbaV1dID0gbmV3Q2FsbGJhY2tzO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIGFsbCB0aGUgY2FsbGJhY2tzIHN1YnNjcmliZWQgdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLCBpbiB0aGUgb3JkZXIgdGhleSBzdWJzY3JpYmVkLCBpZiBhbnkuXG4gICAgICogQG1ldGhvZCB0cmlnZ2VyXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVzXG4gICAgICogQHBhcmFtIHt9IGV2ZW50XG4gICAgICovXG4gICAgRXZlbnRzLnRyaWdnZXIgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGV2ZW50KSB7XG4gICAgICAgIHZhciBuYW1lcyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgICAgICBldmVudENsb25lO1xuXG4gICAgICAgIHZhciBldmVudHMgPSBvYmplY3QuZXZlbnRzO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50cyAmJiBDb21tb24ua2V5cyhldmVudHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghZXZlbnQpXG4gICAgICAgICAgICAgICAgZXZlbnQgPSB7fTtcblxuICAgICAgICAgICAgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gZXZlbnRzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgICAgICBldmVudENsb25lID0gQ29tbW9uLmNsb25lKGV2ZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUuc291cmNlID0gb2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Nbal0uYXBwbHkob2JqZWN0LCBbZXZlbnRDbG9uZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIEEgY29tcG9zaXRlIGlzIGEgY29sbGVjdGlvbiBvZiBgTWF0dGVyLkJvZHlgLCBgTWF0dGVyLkNvbnN0cmFpbnRgIGFuZCBvdGhlciBgTWF0dGVyLkNvbXBvc2l0ZWAgb2JqZWN0cy5cbipcbiogVGhleSBhcmUgYSBjb250YWluZXIgdGhhdCBjYW4gcmVwcmVzZW50IGNvbXBsZXggb2JqZWN0cyBtYWRlIG9mIG11bHRpcGxlIHBhcnRzLCBldmVuIGlmIHRoZXkgYXJlIG5vdCBwaHlzaWNhbGx5IGNvbm5lY3RlZC5cbiogQSBjb21wb3NpdGUgY291bGQgY29udGFpbiBhbnl0aGluZyBmcm9tIGEgc2luZ2xlIGJvZHkgYWxsIHRoZSB3YXkgdXAgdG8gYSB3aG9sZSB3b3JsZC5cbiogXG4qIFdoZW4gbWFraW5nIGFueSBjaGFuZ2VzIHRvIGNvbXBvc2l0ZXMsIHVzZSB0aGUgaW5jbHVkZWQgZnVuY3Rpb25zIHJhdGhlciB0aGFuIGNoYW5naW5nIHRoZWlyIHByb3BlcnRpZXMgZGlyZWN0bHkuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBDb21wb3NpdGVcbiovXG5cbnZhciBDb21wb3NpdGUgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGU7XG5cbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb21wb3NpdGUuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVyaXRlcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGVcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZCh7IFxuICAgICAgICAgICAgaWQ6IENvbW1vbi5uZXh0SWQoKSxcbiAgICAgICAgICAgIHR5cGU6ICdjb21wb3NpdGUnLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgaXNNb2RpZmllZDogZmFsc2UsXG4gICAgICAgICAgICBib2RpZXM6IFtdLCBcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbXSwgXG4gICAgICAgICAgICBjb21wb3NpdGVzOiBbXSxcbiAgICAgICAgICAgIGxhYmVsOiAnQ29tcG9zaXRlJyxcbiAgICAgICAgICAgIHBsdWdpbjoge30sXG4gICAgICAgICAgICBjYWNoZToge1xuICAgICAgICAgICAgICAgIGFsbEJvZGllczogbnVsbCxcbiAgICAgICAgICAgICAgICBhbGxDb25zdHJhaW50czogbnVsbCxcbiAgICAgICAgICAgICAgICBhbGxDb21wb3NpdGVzOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wb3NpdGUncyBgaXNNb2RpZmllZGAgZmxhZy4gXG4gICAgICogSWYgYHVwZGF0ZVBhcmVudHNgIGlzIHRydWUsIGFsbCBwYXJlbnRzIHdpbGwgYmUgc2V0IChkZWZhdWx0OiBmYWxzZSkuXG4gICAgICogSWYgYHVwZGF0ZUNoaWxkcmVuYCBpcyB0cnVlLCBhbGwgY2hpbGRyZW4gd2lsbCBiZSBzZXQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc2V0TW9kaWZpZWRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc01vZGlmaWVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlUGFyZW50cz1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVDaGlsZHJlbj1mYWxzZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5pc01vZGlmaWVkID0gaXNNb2RpZmllZDtcblxuICAgICAgICBpZiAoaXNNb2RpZmllZCAmJiBjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxCb2RpZXMgPSBudWxsO1xuICAgICAgICAgICAgY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzID0gbnVsbDtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cGRhdGVQYXJlbnRzICYmIGNvbXBvc2l0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUucGFyZW50LCBpc01vZGlmaWVkLCB1cGRhdGVQYXJlbnRzLCB1cGRhdGVDaGlsZHJlbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXBkYXRlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb21wb3NpdGUgPSBjb21wb3NpdGUuY29tcG9zaXRlc1tpXTtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY2hpbGRDb21wb3NpdGUsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIHNpbmdsZSBvciBtdWx0aS1hZGQgZnVuY3Rpb24uIEFkZHMgYSBzaW5nbGUgb3IgYW4gYXJyYXkgb2YgYm9keShzKSwgY29uc3RyYWludChzKSBvciBjb21wb3NpdGUocykgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlQWRkYCBhbmQgYGFmdGVyQWRkYCBldmVudHMgb24gdGhlIGBjb21wb3NpdGVgLlxuICAgICAqIEBtZXRob2QgYWRkXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBvYmplY3QgQSBzaW5nbGUgb3IgYW4gYXJyYXkgb2YgYm9keShzKSwgY29uc3RyYWludChzKSBvciBjb21wb3NpdGUocylcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgb2JqZWN0cyBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGQgPSBmdW5jdGlvbihjb21wb3NpdGUsIG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqZWN0cyA9IFtdLmNvbmNhdChvYmplY3QpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGNvbXBvc2l0ZSwgJ2JlZm9yZUFkZCcsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gb2JqZWN0c1tpXTtcblxuICAgICAgICAgICAgc3dpdGNoIChvYmoudHlwZSkge1xuXG4gICAgICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgICAgICAgICAvLyBza2lwIGFkZGluZyBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgICAgIGlmIChvYmoucGFyZW50ICE9PSBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ0NvbXBvc2l0ZS5hZGQ6IHNraXBwZWQgYWRkaW5nIGEgY29tcG91bmQgYm9keSBwYXJ0ICh5b3UgbXVzdCBhZGQgaXRzIHBhcmVudCBpbnN0ZWFkKScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25zdHJhaW50JzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb21wb3NpdGUnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb21wb3NpdGUoY29tcG9zaXRlLCBvYmopO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW91c2VDb25zdHJhaW50JzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIG9iai5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYWZ0ZXJBZGQnLCB7IG9iamVjdDogb2JqZWN0IH0pO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgcmVtb3ZlIGZ1bmN0aW9uLiBSZW1vdmVzIG9uZSBvciBtYW55IGJvZHkocyksIGNvbnN0cmFpbnQocykgb3IgYSBjb21wb3NpdGUocykgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBPcHRpb25hbGx5IHNlYXJjaGluZyBpdHMgY2hpbGRyZW4gcmVjdXJzaXZlbHkuXG4gICAgICogVHJpZ2dlcnMgYGJlZm9yZVJlbW92ZWAgYW5kIGBhZnRlclJlbW92ZWAgZXZlbnRzIG9uIHRoZSBgY29tcG9zaXRlYC5cbiAgICAgKiBAbWV0aG9kIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdHxhcnJheX0gb2JqZWN0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgb2JqZWN0cyByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgb2JqZWN0LCBkZWVwKSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gW10uY29uY2F0KG9iamVjdCk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYmVmb3JlUmVtb3ZlJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBvYmplY3RzW2ldO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZShjb21wb3NpdGUsIG9iaiwgZGVlcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb3VzZUNvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlclJlbW92ZScsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNvbXBvc2l0ZSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBhZGRDb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVCXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlQSB3aXRoIHRoZSBvYmplY3RzIGZyb20gY29tcG9zaXRlQiBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGRDb21wb3NpdGUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBjb21wb3NpdGVCKSB7XG4gICAgICAgIGNvbXBvc2l0ZUEuY29tcG9zaXRlcy5wdXNoKGNvbXBvc2l0ZUIpO1xuICAgICAgICBjb21wb3NpdGVCLnBhcmVudCA9IGNvbXBvc2l0ZUE7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGVBLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUFcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlQSB3aXRoIHRoZSBjb21wb3NpdGUgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBjb21wb3NpdGVCLCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZUEuY29tcG9zaXRlcywgY29tcG9zaXRlQik7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlQik7XG5cbiAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGVBdChjb21wb3NpdGVBLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYm9kaWVzW2ldLnNsZWVwQ291bnRlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGVBLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGUoY29tcG9zaXRlQS5jb21wb3NpdGVzW2ldLCBjb21wb3NpdGVCLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29tcG9zaXRlQXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbXBvc2l0ZSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29tcG9zaXRlcy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBib2R5IHRvIHRoZSBnaXZlbiBjb21wb3NpdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGFkZEJvZHlcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgYWRkZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWRkQm9keSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgYm9keSkge1xuICAgICAgICBjb21wb3NpdGUuYm9kaWVzLnB1c2goYm9keSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVCb2R5XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBib2R5LCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZS5ib2RpZXMsIGJvZHkpO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5QXQoY29tcG9zaXRlLCBwb3NpdGlvbik7XG4gICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUJvZHkoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGJvZHksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVCb2R5QXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5QXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29uc3RyYWludCB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBhZGRDb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGNvbnN0cmFpbnQpIHtcbiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLnB1c2goY29uc3RyYWludCk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnQgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbnN0cmFpbnQgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBjb25zdHJhaW50LCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZS5jb25zdHJhaW50cywgY29uc3RyYWludCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBjb25zdHJhaW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludEF0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29uc3RyYWludHMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBjb21wb3NpdGVzIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBPcHRpb25hbGx5IGNsZWFyaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2VlcFN0YXRpY1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmNsZWFyID0gZnVuY3Rpb24oY29tcG9zaXRlLCBrZWVwU3RhdGljLCBkZWVwKSB7XG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuY2xlYXIoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGtlZXBTdGF0aWMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoa2VlcFN0YXRpYykge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXMuZmlsdGVyKGZ1bmN0aW9uKGJvZHkpIHsgcmV0dXJuIGJvZHkuaXNTdGF0aWM7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGJvZGllcyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQm9kaWVzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge2JvZHlbXX0gQWxsIHRoZSBib2RpZXNcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWxsQm9kaWVzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUgJiYgY29tcG9zaXRlLmNhY2hlLmFsbEJvZGllcykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZS5jYWNoZS5hbGxCb2RpZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm9kaWVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5ib2RpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBib2RpZXMgPSBib2RpZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTtcblxuICAgICAgICBpZiAoY29tcG9zaXRlLmNhY2hlKSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuY2FjaGUuYWxsQm9kaWVzID0gYm9kaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvZGllcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgY29uc3RyYWludHMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIGFsbCBjb25zdHJhaW50cyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQ29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHJldHVybiB7Y29uc3RyYWludFtdfSBBbGwgdGhlIGNvbnN0cmFpbnRzXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUgJiYgY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb25zdHJhaW50cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBjb21wb3NpdGVzIGluIHRoZSBnaXZlbiBjb21wb3NpdGUsIGluY2x1ZGluZyBhbGwgY29tcG9zaXRlcyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQ29tcG9zaXRlc1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGVbXX0gQWxsIHRoZSBjb21wb3NpdGVzXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5jYWNoZSAmJiBjb21wb3NpdGUuY2FjaGUuYWxsQ29tcG9zaXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbXBvc2l0ZXMgPSBbXS5jb25jYXQoY29tcG9zaXRlLmNvbXBvc2l0ZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBjb21wb3NpdGVzID0gY29tcG9zaXRlcy5jb25jYXQoQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTtcblxuICAgICAgICBpZiAoY29tcG9zaXRlLmNhY2hlKSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuY2FjaGUuYWxsQ29tcG9zaXRlcyA9IGNvbXBvc2l0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgdGhlIGNvbXBvc2l0ZSByZWN1cnNpdmVseSBmb3IgYW4gb2JqZWN0IG1hdGNoaW5nIHRoZSB0eXBlIGFuZCBpZCBzdXBwbGllZCwgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICogQG1ldGhvZCBnZXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSByZXF1ZXN0ZWQgb2JqZWN0LCBpZiBmb3VuZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5nZXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGlkLCB0eXBlKSB7XG4gICAgICAgIHZhciBvYmplY3RzLFxuICAgICAgICAgICAgb2JqZWN0O1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG4gICAgICAgICAgICBvYmplY3RzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKGNvbXBvc2l0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29tcG9zaXRlJzpcbiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUpLmNvbmNhdChjb21wb3NpdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9iamVjdHMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBvYmplY3QgPSBvYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmplY3QpIHsgXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlkLnRvU3RyaW5nKCkgPT09IGlkLnRvU3RyaW5nKCk7IFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqZWN0Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiBvYmplY3RbMF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBnaXZlbiBvYmplY3QocykgZnJvbSBjb21wb3NpdGVBIHRvIGNvbXBvc2l0ZUIgKGVxdWFsIHRvIGEgcmVtb3ZlIGZvbGxvd2VkIGJ5IGFuIGFkZCkuXG4gICAgICogQG1ldGhvZCBtb3ZlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGVBfSBjb21wb3NpdGVBXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlQn0gY29tcG9zaXRlQlxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gUmV0dXJucyBjb21wb3NpdGVBXG4gICAgICovXG4gICAgQ29tcG9zaXRlLm1vdmUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBvYmplY3RzLCBjb21wb3NpdGVCKSB7XG4gICAgICAgIENvbXBvc2l0ZS5yZW1vdmUoY29tcG9zaXRlQSwgb2JqZWN0cyk7XG4gICAgICAgIENvbXBvc2l0ZS5hZGQoY29tcG9zaXRlQiwgb2JqZWN0cyk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG5ldyBpZHMgZm9yIGFsbCBvYmplY3RzIGluIHRoZSBjb21wb3NpdGUsIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgcmViYXNlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gUmV0dXJucyBjb21wb3NpdGVcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmViYXNlID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpXG4gICAgICAgICAgICAuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUpKVxuICAgICAgICAgICAgLmNvbmNhdChDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUpKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG9iamVjdHNbaV0uaWQgPSBDb21tb24ubmV4dElkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIHRoZWlyIGN1cnJlbnQgcG9zaXRpb25zLCBcbiAgICAgKiB3aXRob3V0IGltcGFydGluZyBhbnkgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtib29sfSBbcmVjdXJzaXZlPXRydWVdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgdHJhbnNsYXRpb24sIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQm9keS50cmFuc2xhdGUoYm9kaWVzW2ldLCB0cmFuc2xhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIGdpdmVuIHBvaW50LCB3aXRob3V0IGltcGFydGluZyBhbnkgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUucm90YXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCByb3RhdGlvbiwgcG9pbnQsIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocm90YXRpb24pLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4ocm90YXRpb24pLFxuICAgICAgICAgICAgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAoZHggKiBjb3MgLSBkeSAqIHNpbiksXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEJvZHkucm90YXRlKGJvZHksIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbGwgY2hpbGRyZW4gaW4gdGhlIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIHVwZGF0aW5nIHBoeXNpY2FsIHByb3BlcnRpZXMgKG1hc3MsIGFyZWEsIGF4ZXMsIGluZXJ0aWEpLCBmcm9tIGEgd29ybGQtc3BhY2UgcG9pbnQuXG4gICAgICogQG1ldGhvZCBzY2FsZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW3JlY3Vyc2l2ZT10cnVlXVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5zY2FsZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgc2NhbGVYLCBzY2FsZVksIHBvaW50LCByZWN1cnNpdmUpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IHJlY3Vyc2l2ZSA/IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSA6IGNvbXBvc2l0ZS5ib2RpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGR4ID0gYm9keS5wb3NpdGlvbi54IC0gcG9pbnQueCxcbiAgICAgICAgICAgICAgICBkeSA9IGJvZHkucG9zaXRpb24ueSAtIHBvaW50Lnk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC54ICsgZHggKiBzY2FsZVgsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIGR5ICogc2NhbGVZXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgQm9keS5zY2FsZShib2R5LCBzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmlvbiBvZiB0aGUgYm91bmRzIG9mIGFsbCBvZiB0aGUgY29tcG9zaXRlJ3MgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgYm91bmRzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZSBUaGUgY29tcG9zaXRlLlxuICAgICAqIEByZXR1cm5zIHtib3VuZHN9IFRoZSBjb21wb3NpdGUgYm91bmRzLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5ib3VuZHMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSxcbiAgICAgICAgICAgIHZlcnRpY2VzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgdmVydGljZXMucHVzaChib2R5LmJvdW5kcy5taW4sIGJvZHkuYm91bmRzLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm91bmRzLmNyZWF0ZSh2ZXJ0aWNlcyk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gYSBjYWxsIHRvIGBDb21wb3NpdGUuYWRkYCBpcyBtYWRlLCBiZWZvcmUgb2JqZWN0cyBoYXZlIGJlZW4gYWRkZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZUFkZFxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRvIGJlIGFkZGVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5hZGRgIGlzIG1hZGUsIGFmdGVyIG9iamVjdHMgaGF2ZSBiZWVuIGFkZGVkLlxuICAgICpcbiAgICAqIEBldmVudCBhZnRlckFkZFxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5yZW1vdmVgIGlzIG1hZGUsIGJlZm9yZSBvYmplY3RzIGhhdmUgYmVlbiByZW1vdmVkLlxuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVSZW1vdmVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5vYmplY3QgVGhlIG9iamVjdChzKSB0byBiZSByZW1vdmVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5yZW1vdmVgIGlzIG1hZGUsIGFmdGVyIG9iamVjdHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyUmVtb3ZlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCAobWF5IGJlIGEgc2luZ2xlIGJvZHksIGNvbnN0cmFpbnQsIGNvbXBvc2l0ZSBvciBhIG1peGVkIGFycmF5IG9mIHRoZXNlKVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJjb21wb3NpdGVcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJiaXRyYXJ5IGBTdHJpbmdgIG5hbWUgdG8gaGVscCB0aGUgdXNlciBpZGVudGlmeSBhbmQgbWFuYWdlIGNvbXBvc2l0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGFiZWxcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcIkNvbXBvc2l0ZVwiXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBzcGVjaWZpZXMgd2hldGhlciB0aGUgY29tcG9zaXRlIGhhcyBiZWVuIG1vZGlmaWVkIGR1cmluZyB0aGUgY3VycmVudCBzdGVwLlxuICAgICAqIFRoaXMgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkIHdoZW4gYm9kaWVzLCBjb25zdHJhaW50cyBvciBjb21wb3NpdGVzIGFyZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlzTW9kaWZpZWRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBgQ29tcG9zaXRlYCB0aGF0IGlzIHRoZSBwYXJlbnQgb2YgdGhpcyBjb21wb3NpdGUuIEl0IGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZCBieSB0aGUgYE1hdHRlci5Db21wb3NpdGVgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50XG4gICAgICogQHR5cGUgY29tcG9zaXRlXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYEJvZHlgIHRoYXQgYXJlIF9kaXJlY3RfIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9zaXRlLlxuICAgICAqIFRvIGFkZCBvciByZW1vdmUgYm9kaWVzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICogSWYgeW91IHdpc2ggdG8gcmVjdXJzaXZlbHkgZmluZCBhbGwgZGVzY2VuZGFudHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgQ29tcG9zaXRlLmFsbEJvZGllc2AgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvZGllc1xuICAgICAqIEB0eXBlIGJvZHlbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBgQ29uc3RyYWludGAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuXG4gICAgICogVG8gYWRkIG9yIHJlbW92ZSBjb25zdHJhaW50cyB5b3Ugc2hvdWxkIHVzZSBgQ29tcG9zaXRlLmFkZGAgYW5kIGBDb21wb3NpdGUucmVtb3ZlYCBtZXRob2RzIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxDb25zdHJhaW50c2AgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbnN0cmFpbnRzXG4gICAgICogQHR5cGUgY29uc3RyYWludFtdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGBDb21wb3NpdGVgIHRoYXQgYXJlIF9kaXJlY3RfIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9zaXRlLlxuICAgICAqIFRvIGFkZCBvciByZW1vdmUgY29tcG9zaXRlcyB5b3Ugc2hvdWxkIHVzZSBgQ29tcG9zaXRlLmFkZGAgYW5kIGBDb21wb3NpdGUucmVtb3ZlYCBtZXRob2RzIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29tcG9zaXRlc1xuICAgICAqIEB0eXBlIGNvbXBvc2l0ZVtdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHVzZWQgZm9yIHN0b3JpbmcgY2FjaGVkIHJlc3VsdHMgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICogVGhpcyBpcyB1c2VkIGludGVybmFsbHkgb25seSBhbmQgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkgY2FjaGVcbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuU2xlZXBpbmdgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIHRvIG1hbmFnZSB0aGUgc2xlZXBpbmcgc3RhdGUgb2YgYm9kaWVzLlxuKlxuKiBAY2xhc3MgU2xlZXBpbmdcbiovXG5cbnZhciBTbGVlcGluZyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNsZWVwaW5nO1xuXG52YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBTbGVlcGluZy5fbW90aW9uV2FrZVRocmVzaG9sZCA9IDAuMTg7XG4gICAgU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkID0gMC4wODtcbiAgICBTbGVlcGluZy5fbWluQmlhcyA9IDAuOTtcblxuICAgIC8qKlxuICAgICAqIFB1dHMgYm9kaWVzIHRvIHNsZWVwIG9yIHdha2VzIHRoZW0gdXAgZGVwZW5kaW5nIG9uIHRoZWlyIG1vdGlvbi5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKi9cbiAgICBTbGVlcGluZy51cGRhdGUgPSBmdW5jdGlvbihib2RpZXMsIGRlbHRhKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLFxuICAgICAgICAgICAgbW90aW9uU2xlZXBUaHJlc2hvbGQgPSBTbGVlcGluZy5fbW90aW9uU2xlZXBUaHJlc2hvbGQ7XG4gICAgICAgIFxuICAgICAgICAvLyB1cGRhdGUgYm9kaWVzIHNsZWVwaW5nIHN0YXR1c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgc3BlZWQgPSBCb2R5LmdldFNwZWVkKGJvZHkpLFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJTcGVlZCA9IEJvZHkuZ2V0QW5ndWxhclNwZWVkKGJvZHkpLFxuICAgICAgICAgICAgICAgIG1vdGlvbiA9IHNwZWVkICogc3BlZWQgKyBhbmd1bGFyU3BlZWQgKiBhbmd1bGFyU3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIHdha2UgdXAgYm9kaWVzIGlmIHRoZXkgaGF2ZSBhIGZvcmNlIGFwcGxpZWRcbiAgICAgICAgICAgIGlmIChib2R5LmZvcmNlLnggIT09IDAgfHwgYm9keS5mb3JjZS55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1pbk1vdGlvbiA9IE1hdGgubWluKGJvZHkubW90aW9uLCBtb3Rpb24pLFxuICAgICAgICAgICAgICAgIG1heE1vdGlvbiA9IE1hdGgubWF4KGJvZHkubW90aW9uLCBtb3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIGJpYXNlZCBhdmVyYWdlIG1vdGlvbiBlc3RpbWF0aW9uIGJldHdlZW4gZnJhbWVzXG4gICAgICAgICAgICBib2R5Lm1vdGlvbiA9IFNsZWVwaW5nLl9taW5CaWFzICogbWluTW90aW9uICsgKDEgLSBTbGVlcGluZy5fbWluQmlhcykgKiBtYXhNb3Rpb247XG5cbiAgICAgICAgICAgIGlmIChib2R5LnNsZWVwVGhyZXNob2xkID4gMCAmJiBib2R5Lm1vdGlvbiA8IG1vdGlvblNsZWVwVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYm9keS5zbGVlcENvdW50ZXIgPj0gYm9keS5zbGVlcFRocmVzaG9sZCAvIHRpbWVTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChib2R5LnNsZWVwQ291bnRlciA+IDApIHtcbiAgICAgICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIGNvbGxpZGluZyBwYWlycywgd2FrZXMgdGhlIHNsZWVwaW5nIGJvZGllcyBpbnZvbHZlZC5cbiAgICAgKiBAbWV0aG9kIGFmdGVyQ29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFNsZWVwaW5nLmFmdGVyQ29sbGlzaW9ucyA9IGZ1bmN0aW9uKHBhaXJzKSB7XG4gICAgICAgIHZhciBtb3Rpb25TbGVlcFRocmVzaG9sZCA9IFNsZWVwaW5nLl9tb3Rpb25TbGVlcFRocmVzaG9sZDtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaW5hY3RpdmUgcGFpcnNcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBLnBhcmVudCwgXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUIucGFyZW50O1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaWYgYXQgbGVhc3Qgb25lIGJvZHkgaXMgc3RhdGljXG4gICAgICAgICAgICBpZiAoKGJvZHlBLmlzU2xlZXBpbmcgJiYgYm9keUIuaXNTbGVlcGluZykgfHwgYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU2xlZXBpbmcgfHwgYm9keUIuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbGVlcGluZ0JvZHkgPSAoYm9keUEuaXNTbGVlcGluZyAmJiAhYm9keUEuaXNTdGF0aWMpID8gYm9keUEgOiBib2R5QixcbiAgICAgICAgICAgICAgICAgICAgbW92aW5nQm9keSA9IHNsZWVwaW5nQm9keSA9PT0gYm9keUEgPyBib2R5QiA6IGJvZHlBO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzbGVlcGluZ0JvZHkuaXNTdGF0aWMgJiYgbW92aW5nQm9keS5tb3Rpb24gPiBtb3Rpb25TbGVlcFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoc2xlZXBpbmdCb2R5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgXG4gICAgLyoqXG4gICAgICogU2V0IGEgYm9keSBhcyBzbGVlcGluZyBvciBhd2FrZS5cbiAgICAgKiBAbWV0aG9kIHNldFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTbGVlcGluZ1xuICAgICAqL1xuICAgIFNsZWVwaW5nLnNldCA9IGZ1bmN0aW9uKGJvZHksIGlzU2xlZXBpbmcpIHtcbiAgICAgICAgdmFyIHdhc1NsZWVwaW5nID0gYm9keS5pc1NsZWVwaW5nO1xuXG4gICAgICAgIGlmIChpc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICBib2R5LmlzU2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgPSBib2R5LnNsZWVwVGhyZXNob2xkO1xuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS54ID0gMDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnkgPSAwO1xuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gYm9keS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlO1xuICAgICAgICAgICAgYm9keS5zcGVlZCA9IDA7XG4gICAgICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IDA7XG4gICAgICAgICAgICBib2R5Lm1vdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIGlmICghd2FzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihib2R5LCAnc2xlZXBTdGFydCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5pc1NsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciA9IDA7XG5cbiAgICAgICAgICAgIGlmICh3YXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGJvZHksICdzbGVlcEVuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkNvbGxpc2lvbmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGRldGVjdGluZyBjb2xsaXNpb25zIGJldHdlZW4gYSBnaXZlbiBwYWlyIG9mIGJvZGllcy5cbipcbiogRm9yIGVmZmljaWVudCBkZXRlY3Rpb24gYmV0d2VlbiBhIGxpc3Qgb2YgYm9kaWVzLCBzZWUgYE1hdHRlci5EZXRlY3RvcmAgYW5kIGBNYXR0ZXIuUXVlcnlgLlxuKlxuKiBTZWUgYE1hdHRlci5FbmdpbmVgIGZvciBjb2xsaXNpb24gZXZlbnRzLlxuKlxuKiBAY2xhc3MgQ29sbGlzaW9uXG4qL1xuXG52YXIgQ29sbGlzaW9uID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGlzaW9uO1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIFBhaXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9zdXBwb3J0cyA9IFtdO1xuXG4gICAgdmFyIF9vdmVybGFwQUIgPSB7XG4gICAgICAgIG92ZXJsYXA6IDAsXG4gICAgICAgIGF4aXM6IG51bGxcbiAgICB9O1xuXG4gICAgdmFyIF9vdmVybGFwQkEgPSB7XG4gICAgICAgIG92ZXJsYXA6IDAsXG4gICAgICAgIGF4aXM6IG51bGxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaXNpb24gcmVjb3JkLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QSBUaGUgZmlyc3QgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gcmVjb3JkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QiBUaGUgc2Vjb25kIGJvZHkgcGFydCByZXByZXNlbnRlZCBieSB0aGUgY29sbGlzaW9uIHJlY29yZFxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbn0gQSBuZXcgY29sbGlzaW9uIHJlY29yZFxuICAgICAqL1xuICAgIENvbGxpc2lvbi5jcmVhdGUgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpIHtcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBwYWlyOiBudWxsLFxuICAgICAgICAgICAgY29sbGlkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYm9keUE6IGJvZHlBLFxuICAgICAgICAgICAgYm9keUI6IGJvZHlCLFxuICAgICAgICAgICAgcGFyZW50QTogYm9keUEucGFyZW50LFxuICAgICAgICAgICAgcGFyZW50QjogYm9keUIucGFyZW50LFxuICAgICAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgICAgICBub3JtYWw6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgdGFuZ2VudDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBwZW5ldHJhdGlvbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBzdXBwb3J0czogW251bGwsIG51bGxdLFxuICAgICAgICAgICAgc3VwcG9ydENvdW50OiAwXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBjb2xsaXNpb24gYmV0d2VlbiB0d28gYm9kaWVzLlxuICAgICAqIEBtZXRob2QgY29sbGlkZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QlxuICAgICAqIEBwYXJhbSB7cGFpcnN9IFtwYWlyc10gT3B0aW9uYWxseSByZXVzZSBjb2xsaXNpb24gcmVjb3JkcyBmcm9tIGV4aXN0aW5nIHBhaXJzLlxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbnxudWxsfSBBIGNvbGxpc2lvbiByZWNvcmQgaWYgZGV0ZWN0ZWQsIG90aGVyd2lzZSBudWxsXG4gICAgICovXG4gICAgQ29sbGlzaW9uLmNvbGxpZGVzID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBwYWlycykge1xuICAgICAgICBDb2xsaXNpb24uX292ZXJsYXBBeGVzKF9vdmVybGFwQUIsIGJvZHlBLnZlcnRpY2VzLCBib2R5Qi52ZXJ0aWNlcywgYm9keUEuYXhlcyk7XG5cbiAgICAgICAgaWYgKF9vdmVybGFwQUIub3ZlcmxhcCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIENvbGxpc2lvbi5fb3ZlcmxhcEF4ZXMoX292ZXJsYXBCQSwgYm9keUIudmVydGljZXMsIGJvZHlBLnZlcnRpY2VzLCBib2R5Qi5heGVzKTtcblxuICAgICAgICBpZiAoX292ZXJsYXBCQS5vdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV1c2UgY29sbGlzaW9uIHJlY29yZHMgZm9yIGdjIGVmZmljaWVuY3lcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlycyAmJiBwYWlycy50YWJsZVtQYWlyLmlkKGJvZHlBLCBib2R5QildLFxuICAgICAgICAgICAgY29sbGlzaW9uO1xuXG4gICAgICAgIGlmICghcGFpcikge1xuICAgICAgICAgICAgY29sbGlzaW9uID0gQ29sbGlzaW9uLmNyZWF0ZShib2R5QSwgYm9keUIpO1xuICAgICAgICAgICAgY29sbGlzaW9uLmNvbGxpZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5ib2R5QSA9IGJvZHlBLmlkIDwgYm9keUIuaWQgPyBib2R5QSA6IGJvZHlCO1xuICAgICAgICAgICAgY29sbGlzaW9uLmJvZHlCID0gYm9keUEuaWQgPCBib2R5Qi5pZCA/IGJvZHlCIDogYm9keUE7XG4gICAgICAgICAgICBjb2xsaXNpb24ucGFyZW50QSA9IGNvbGxpc2lvbi5ib2R5QS5wYXJlbnQ7XG4gICAgICAgICAgICBjb2xsaXNpb24ucGFyZW50QiA9IGNvbGxpc2lvbi5ib2R5Qi5wYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBO1xuICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5QjtcblxuICAgICAgICB2YXIgbWluT3ZlcmxhcDtcblxuICAgICAgICBpZiAoX292ZXJsYXBBQi5vdmVybGFwIDwgX292ZXJsYXBCQS5vdmVybGFwKSB7XG4gICAgICAgICAgICBtaW5PdmVybGFwID0gX292ZXJsYXBBQjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbk92ZXJsYXAgPSBfb3ZlcmxhcEJBO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWwsXG4gICAgICAgICAgICB0YW5nZW50ID0gY29sbGlzaW9uLnRhbmdlbnQsXG4gICAgICAgICAgICBwZW5ldHJhdGlvbiA9IGNvbGxpc2lvbi5wZW5ldHJhdGlvbixcbiAgICAgICAgICAgIHN1cHBvcnRzID0gY29sbGlzaW9uLnN1cHBvcnRzLFxuICAgICAgICAgICAgZGVwdGggPSBtaW5PdmVybGFwLm92ZXJsYXAsXG4gICAgICAgICAgICBtaW5BeGlzID0gbWluT3ZlcmxhcC5heGlzLFxuICAgICAgICAgICAgbm9ybWFsWCA9IG1pbkF4aXMueCxcbiAgICAgICAgICAgIG5vcm1hbFkgPSBtaW5BeGlzLnksXG4gICAgICAgICAgICBkZWx0YVggPSBib2R5Qi5wb3NpdGlvbi54IC0gYm9keUEucG9zaXRpb24ueCxcbiAgICAgICAgICAgIGRlbHRhWSA9IGJvZHlCLnBvc2l0aW9uLnkgLSBib2R5QS5wb3NpdGlvbi55O1xuXG4gICAgICAgIC8vIGVuc3VyZSBub3JtYWwgaXMgZmFjaW5nIGF3YXkgZnJvbSBib2R5QVxuICAgICAgICBpZiAobm9ybWFsWCAqIGRlbHRhWCArIG5vcm1hbFkgKiBkZWx0YVkgPj0gMCkge1xuICAgICAgICAgICAgbm9ybWFsWCA9IC1ub3JtYWxYO1xuICAgICAgICAgICAgbm9ybWFsWSA9IC1ub3JtYWxZO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9ybWFsLnggPSBub3JtYWxYO1xuICAgICAgICBub3JtYWwueSA9IG5vcm1hbFk7XG4gICAgICAgIFxuICAgICAgICB0YW5nZW50LnggPSAtbm9ybWFsWTtcbiAgICAgICAgdGFuZ2VudC55ID0gbm9ybWFsWDtcblxuICAgICAgICBwZW5ldHJhdGlvbi54ID0gbm9ybWFsWCAqIGRlcHRoO1xuICAgICAgICBwZW5ldHJhdGlvbi55ID0gbm9ybWFsWSAqIGRlcHRoO1xuXG4gICAgICAgIGNvbGxpc2lvbi5kZXB0aCA9IGRlcHRoO1xuXG4gICAgICAgIC8vIGZpbmQgc3VwcG9ydCBwb2ludHMsIHRoZXJlIGlzIGFsd2F5cyBlaXRoZXIgZXhhY3RseSBvbmUgb3IgdHdvXG4gICAgICAgIHZhciBzdXBwb3J0c0IgPSBDb2xsaXNpb24uX2ZpbmRTdXBwb3J0cyhib2R5QSwgYm9keUIsIG5vcm1hbCwgMSksXG4gICAgICAgICAgICBzdXBwb3J0Q291bnQgPSAwO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHN1cHBvcnRzIGZyb20gYm9keUIgdGhhdCBhcmUgaW5zaWRlIGJvZHlBXG4gICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5QS52ZXJ0aWNlcywgc3VwcG9ydHNCWzBdKSkge1xuICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNCWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlBLnZlcnRpY2VzLCBzdXBwb3J0c0JbMV0pKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1tzdXBwb3J0Q291bnQrK10gPSBzdXBwb3J0c0JbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIHRoZSBzdXBwb3J0cyBmcm9tIGJvZHlBIHRoYXQgYXJlIGluc2lkZSBib2R5QlxuICAgICAgICBpZiAoc3VwcG9ydENvdW50IDwgMikge1xuICAgICAgICAgICAgdmFyIHN1cHBvcnRzQSA9IENvbGxpc2lvbi5fZmluZFN1cHBvcnRzKGJvZHlCLCBib2R5QSwgbm9ybWFsLCAtMSk7XG5cbiAgICAgICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5Qi52ZXJ0aWNlcywgc3VwcG9ydHNBWzBdKSkge1xuICAgICAgICAgICAgICAgIHN1cHBvcnRzW3N1cHBvcnRDb3VudCsrXSA9IHN1cHBvcnRzQVswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN1cHBvcnRDb3VudCA8IDIgJiYgVmVydGljZXMuY29udGFpbnMoYm9keUIudmVydGljZXMsIHN1cHBvcnRzQVsxXSkpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0c1tzdXBwb3J0Q291bnQrK10gPSBzdXBwb3J0c0FbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY2NvdW50IGZvciB0aGUgZWRnZSBjYXNlIG9mIG92ZXJsYXBwaW5nIGJ1dCBubyB2ZXJ0ZXggY29udGFpbm1lbnRcbiAgICAgICAgaWYgKHN1cHBvcnRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNCWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHN1cHBvcnQgY291bnRcbiAgICAgICAgY29sbGlzaW9uLnN1cHBvcnRDb3VudCA9IHN1cHBvcnRDb3VudDtcblxuICAgICAgICByZXR1cm4gY29sbGlzaW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBvdmVybGFwIGJldHdlZW4gdHdvIHNldHMgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBfb3ZlcmxhcEF4ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXN1bHRcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc0FcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc0JcbiAgICAgKiBAcGFyYW0ge2F4ZXN9IGF4ZXNcbiAgICAgKi9cbiAgICBDb2xsaXNpb24uX292ZXJsYXBBeGVzID0gZnVuY3Rpb24ocmVzdWx0LCB2ZXJ0aWNlc0EsIHZlcnRpY2VzQiwgYXhlcykge1xuICAgICAgICB2YXIgdmVydGljZXNBTGVuZ3RoID0gdmVydGljZXNBLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRpY2VzQkxlbmd0aCA9IHZlcnRpY2VzQi5sZW5ndGgsXG4gICAgICAgICAgICB2ZXJ0aWNlc0FYID0gdmVydGljZXNBWzBdLngsXG4gICAgICAgICAgICB2ZXJ0aWNlc0FZID0gdmVydGljZXNBWzBdLnksXG4gICAgICAgICAgICB2ZXJ0aWNlc0JYID0gdmVydGljZXNCWzBdLngsXG4gICAgICAgICAgICB2ZXJ0aWNlc0JZID0gdmVydGljZXNCWzBdLnksXG4gICAgICAgICAgICBheGVzTGVuZ3RoID0gYXhlcy5sZW5ndGgsXG4gICAgICAgICAgICBvdmVybGFwTWluID0gTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICAgIG92ZXJsYXBBeGlzTnVtYmVyID0gMCxcbiAgICAgICAgICAgIG92ZXJsYXAsXG4gICAgICAgICAgICBvdmVybGFwQUIsXG4gICAgICAgICAgICBvdmVybGFwQkEsXG4gICAgICAgICAgICBkb3QsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXhlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXhpcyA9IGF4ZXNbaV0sXG4gICAgICAgICAgICAgICAgYXhpc1ggPSBheGlzLngsXG4gICAgICAgICAgICAgICAgYXhpc1kgPSBheGlzLnksXG4gICAgICAgICAgICAgICAgbWluQSA9IHZlcnRpY2VzQVggKiBheGlzWCArIHZlcnRpY2VzQVkgKiBheGlzWSxcbiAgICAgICAgICAgICAgICBtaW5CID0gdmVydGljZXNCWCAqIGF4aXNYICsgdmVydGljZXNCWSAqIGF4aXNZLFxuICAgICAgICAgICAgICAgIG1heEEgPSBtaW5BLFxuICAgICAgICAgICAgICAgIG1heEIgPSBtaW5CO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgdmVydGljZXNBTGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSB2ZXJ0aWNlc0Fbal0ueCAqIGF4aXNYICsgdmVydGljZXNBW2pdLnkgKiBheGlzWTtcblxuICAgICAgICAgICAgICAgIGlmIChkb3QgPiBtYXhBKSB7IFxuICAgICAgICAgICAgICAgICAgICBtYXhBID0gZG90O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG90IDwgbWluQSkgeyBcbiAgICAgICAgICAgICAgICAgICAgbWluQSA9IGRvdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCB2ZXJ0aWNlc0JMZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IHZlcnRpY2VzQltqXS54ICogYXhpc1ggKyB2ZXJ0aWNlc0Jbal0ueSAqIGF4aXNZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvdCA+IG1heEIpIHsgXG4gICAgICAgICAgICAgICAgICAgIG1heEIgPSBkb3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb3QgPCBtaW5CKSB7IFxuICAgICAgICAgICAgICAgICAgICBtaW5CID0gZG90O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3ZlcmxhcEFCID0gbWF4QSAtIG1pbkI7XG4gICAgICAgICAgICBvdmVybGFwQkEgPSBtYXhCIC0gbWluQTtcbiAgICAgICAgICAgIG92ZXJsYXAgPSBvdmVybGFwQUIgPCBvdmVybGFwQkEgPyBvdmVybGFwQUIgOiBvdmVybGFwQkE7XG5cbiAgICAgICAgICAgIGlmIChvdmVybGFwIDwgb3ZlcmxhcE1pbikge1xuICAgICAgICAgICAgICAgIG92ZXJsYXBNaW4gPSBvdmVybGFwO1xuICAgICAgICAgICAgICAgIG92ZXJsYXBBeGlzTnVtYmVyID0gaTtcblxuICAgICAgICAgICAgICAgIGlmIChvdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIG5vdCBiZSBpbnRlcnNlY3RpbmdcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdC5heGlzID0gYXhlc1tvdmVybGFwQXhpc051bWJlcl07XG4gICAgICAgIHJlc3VsdC5vdmVybGFwID0gb3ZlcmxhcE1pbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgc3VwcG9ydGluZyB2ZXJ0aWNlcyBnaXZlbiB0d28gYm9kaWVzIGFsb25nIGEgZ2l2ZW4gZGlyZWN0aW9uIHVzaW5nIGhpbGwtY2xpbWJpbmcuXG4gICAgICogQG1ldGhvZCBfZmluZFN1cHBvcnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBub3JtYWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uXG4gICAgICogQHJldHVybiBbdmVjdG9yXVxuICAgICAqL1xuICAgIENvbGxpc2lvbi5fZmluZFN1cHBvcnRzID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBub3JtYWwsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgdmVydGljZXMgPSBib2R5Qi52ZXJ0aWNlcyxcbiAgICAgICAgICAgIHZlcnRpY2VzTGVuZ3RoID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgYm9keUFQb3NpdGlvblggPSBib2R5QS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgYm9keUFQb3NpdGlvblkgPSBib2R5QS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgbm9ybWFsWCA9IG5vcm1hbC54ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgbm9ybWFsWSA9IG5vcm1hbC55ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgdmVydGV4QSA9IHZlcnRpY2VzWzBdLFxuICAgICAgICAgICAgdmVydGV4QiA9IHZlcnRleEEsXG4gICAgICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBub3JtYWxYICogKGJvZHlBUG9zaXRpb25YIC0gdmVydGV4Qi54KSArIG5vcm1hbFkgKiAoYm9keUFQb3NpdGlvblkgLSB2ZXJ0ZXhCLnkpLFxuICAgICAgICAgICAgdmVydGV4QyxcbiAgICAgICAgICAgIGRpc3RhbmNlLFxuICAgICAgICAgICAgajtcblxuICAgICAgICAvLyBmaW5kIGRlZXBlc3QgdmVydGV4IHJlbGF0aXZlIHRvIHRoZSBheGlzXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCB2ZXJ0aWNlc0xlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCID0gdmVydGljZXNbal07XG4gICAgICAgICAgICBkaXN0YW5jZSA9IG5vcm1hbFggKiAoYm9keUFQb3NpdGlvblggLSB2ZXJ0ZXhCLngpICsgbm9ybWFsWSAqIChib2R5QVBvc2l0aW9uWSAtIHZlcnRleEIueSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnZleCBoaWxsLWNsaW1iaW5nXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBuZWFyZXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBID0gdmVydGV4QjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1lYXN1cmUgbmV4dCB2ZXJ0ZXhcbiAgICAgICAgdmVydGV4QyA9IHZlcnRpY2VzWyh2ZXJ0aWNlc0xlbmd0aCArIHZlcnRleEEuaW5kZXggLSAxKSAlIHZlcnRpY2VzTGVuZ3RoXTtcbiAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gbm9ybWFsWCAqIChib2R5QVBvc2l0aW9uWCAtIHZlcnRleEMueCkgKyBub3JtYWxZICogKGJvZHlBUG9zaXRpb25ZIC0gdmVydGV4Qy55KTtcblxuICAgICAgICAvLyBjb21wYXJlIHdpdGggcHJldmlvdXMgdmVydGV4XG4gICAgICAgIHZlcnRleEIgPSB2ZXJ0aWNlc1sodmVydGV4QS5pbmRleCArIDEpICUgdmVydGljZXNMZW5ndGhdO1xuICAgICAgICBpZiAobm9ybWFsWCAqIChib2R5QVBvc2l0aW9uWCAtIHZlcnRleEIueCkgKyBub3JtYWxZICogKGJvZHlBUG9zaXRpb25ZIC0gdmVydGV4Qi55KSA8IG5lYXJlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgX3N1cHBvcnRzWzBdID0gdmVydGV4QTtcbiAgICAgICAgICAgIF9zdXBwb3J0c1sxXSA9IHZlcnRleEI7XG5cbiAgICAgICAgICAgIHJldHVybiBfc3VwcG9ydHM7XG4gICAgICAgIH1cblxuICAgICAgICBfc3VwcG9ydHNbMF0gPSB2ZXJ0ZXhBO1xuICAgICAgICBfc3VwcG9ydHNbMV0gPSB2ZXJ0ZXhDO1xuXG4gICAgICAgIHJldHVybiBfc3VwcG9ydHM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIHBhaXIgdXNpbmcgdGhpcyBjb2xsaXNpb24gcmVjb3JkLCBpZiB0aGVyZSBpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGFpclxuICAgICAqIEB0eXBlIHtwYWlyfG51bGx9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBib2RpZXMgd2VyZSBjb2xsaWRpbmcgd2hlbiB0aGUgY29sbGlzaW9uIHdhcyBsYXN0IHVwZGF0ZWQuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGNvbGxpZGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlyc3QgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKHNlZSBhbHNvIGBjb2xsaXNpb24ucGFyZW50QWApLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZWNvbmQgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKHNlZSBhbHNvIGBjb2xsaXNpb24ucGFyZW50QmApLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBib2R5QlxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBib2R5IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKGkuZS4gYGNvbGxpc2lvbi5ib2R5QS5wYXJlbnRgKS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZWNvbmQgYm9keSByZXByZXNlbnRlZCBieSB0aGUgY29sbGlzaW9uIChpLmUuIGBjb2xsaXNpb24uYm9keUIucGFyZW50YCkuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IHBhcmVudEJcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgcmVwcmVzZW50cyB0aGUgbWluaW11bSBzZXBhcmF0aW5nIGRpc3RhbmNlIGJldHdlZW4gdGhlIGJvZGllcyBhbG9uZyB0aGUgY29sbGlzaW9uIG5vcm1hbC5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBkZXB0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgbm9ybWFsaXNlZCBgVmVjdG9yYCB0aGF0IHJlcHJlc2VudHMgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHRoZSBib2RpZXMgdGhhdCBwcm92aWRlcyB0aGUgbWluaW11bSBzZXBhcmF0aW5nIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG5vcm1hbFxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIG5vcm1hbGlzZWQgYFZlY3RvcmAgdGhhdCBpcyB0aGUgdGFuZ2VudCBkaXJlY3Rpb24gdG8gdGhlIGNvbGxpc2lvbiBub3JtYWwuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGFuZ2VudFxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgcmVwcmVzZW50cyB0aGUgZGlyZWN0aW9uIGFuZCBkZXB0aCBvZiB0aGUgY29sbGlzaW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBlbmV0cmF0aW9uXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGJvZHkgdmVydGljZXMgdGhhdCByZXByZXNlbnQgdGhlIHN1cHBvcnQgcG9pbnRzIGluIHRoZSBjb2xsaXNpb24uXG4gICAgICogXG4gICAgICogX05vdGU6XyBPbmx5IHRoZSBmaXJzdCBgY29sbGlzaW9uLnN1cHBvcnRDb3VudGAgaXRlbXMgb2YgYGNvbGxpc2lvbi5zdXBwb3J0c2AgYXJlIGFjdGl2ZS5cbiAgICAgKiBUaGVyZWZvcmUgdXNlIGBjb2xsaXNpb24uc3VwcG9ydENvdW50YCBpbnN0ZWFkIG9mIGBjb2xsaXNpb24uc3VwcG9ydHMubGVuZ3RoYCB3aGVuIGl0ZXJhdGluZyB0aGUgYWN0aXZlIHN1cHBvcnRzLlxuICAgICAqIFxuICAgICAqIFRoZXNlIGFyZSB0aGUgZGVlcGVzdCB2ZXJ0aWNlcyAoYWxvbmcgdGhlIGNvbGxpc2lvbiBub3JtYWwpIG9mIGVhY2ggYm9keSB0aGF0IGFyZSBjb250YWluZWQgYnkgdGhlIG90aGVyIGJvZHkncyB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzdXBwb3J0c1xuICAgICAqIEB0eXBlIHZlY3RvcltdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYWN0aXZlIHN1cHBvcnRzIGZvciB0aGlzIGNvbGxpc2lvbiBmb3VuZCBpbiBgY29sbGlzaW9uLnN1cHBvcnRzYC5cbiAgICAgKiBcbiAgICAgKiBfTm90ZTpfIE9ubHkgdGhlIGZpcnN0IGBjb2xsaXNpb24uc3VwcG9ydENvdW50YCBpdGVtcyBvZiBgY29sbGlzaW9uLnN1cHBvcnRzYCBhcmUgYWN0aXZlLlxuICAgICAqIFRoZXJlZm9yZSB1c2UgYGNvbGxpc2lvbi5zdXBwb3J0Q291bnRgIGluc3RlYWQgb2YgYGNvbGxpc2lvbi5zdXBwb3J0cy5sZW5ndGhgIHdoZW4gaXRlcmF0aW5nIHRoZSBhY3RpdmUgc3VwcG9ydHMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3VwcG9ydENvdW50XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUGFpcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXJzLlxuKlxuKiBAY2xhc3MgUGFpclxuKi9cblxudmFyIFBhaXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWlyO1xuXG52YXIgQ29udGFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBhaXIuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqIEByZXR1cm4ge3BhaXJ9IEEgbmV3IHBhaXJcbiAgICAgKi9cbiAgICBQYWlyLmNyZWF0ZSA9IGZ1bmN0aW9uKGNvbGxpc2lvbiwgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QSxcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCO1xuXG4gICAgICAgIHZhciBwYWlyID0ge1xuICAgICAgICAgICAgaWQ6IFBhaXIuaWQoYm9keUEsIGJvZHlCKSxcbiAgICAgICAgICAgIGJvZHlBOiBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCOiBib2R5QixcbiAgICAgICAgICAgIGNvbGxpc2lvbjogY29sbGlzaW9uLFxuICAgICAgICAgICAgY29udGFjdHM6IFtDb250YWN0LmNyZWF0ZSgpLCBDb250YWN0LmNyZWF0ZSgpXSxcbiAgICAgICAgICAgIGNvbnRhY3RDb3VudDogMCxcbiAgICAgICAgICAgIHNlcGFyYXRpb246IDAsXG4gICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlzU2Vuc29yOiBib2R5QS5pc1NlbnNvciB8fCBib2R5Qi5pc1NlbnNvcixcbiAgICAgICAgICAgIHRpbWVDcmVhdGVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICB0aW1lVXBkYXRlZDogdGltZXN0YW1wLFxuICAgICAgICAgICAgaW52ZXJzZU1hc3M6IDAsXG4gICAgICAgICAgICBmcmljdGlvbjogMCxcbiAgICAgICAgICAgIGZyaWN0aW9uU3RhdGljOiAwLFxuICAgICAgICAgICAgcmVzdGl0dXRpb246IDAsXG4gICAgICAgICAgICBzbG9wOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgUGFpci51cGRhdGUocGFpciwgY29sbGlzaW9uLCB0aW1lc3RhbXApO1xuXG4gICAgICAgIHJldHVybiBwYWlyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGEgcGFpciBnaXZlbiBhIGNvbGxpc2lvbi5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7cGFpcn0gcGFpclxuICAgICAqIEBwYXJhbSB7Y29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG4gICAgUGFpci51cGRhdGUgPSBmdW5jdGlvbihwYWlyLCBjb2xsaXNpb24sIHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgc3VwcG9ydHMgPSBjb2xsaXNpb24uc3VwcG9ydHMsXG4gICAgICAgICAgICBzdXBwb3J0Q291bnQgPSBjb2xsaXNpb24uc3VwcG9ydENvdW50LFxuICAgICAgICAgICAgY29udGFjdHMgPSBwYWlyLmNvbnRhY3RzLFxuICAgICAgICAgICAgcGFyZW50QSA9IGNvbGxpc2lvbi5wYXJlbnRBLFxuICAgICAgICAgICAgcGFyZW50QiA9IGNvbGxpc2lvbi5wYXJlbnRCO1xuICAgICAgICBcbiAgICAgICAgcGFpci5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHBhaXIudGltZVVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgIHBhaXIuY29sbGlzaW9uID0gY29sbGlzaW9uO1xuICAgICAgICBwYWlyLnNlcGFyYXRpb24gPSBjb2xsaXNpb24uZGVwdGg7XG4gICAgICAgIHBhaXIuaW52ZXJzZU1hc3MgPSBwYXJlbnRBLmludmVyc2VNYXNzICsgcGFyZW50Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgcGFpci5mcmljdGlvbiA9IHBhcmVudEEuZnJpY3Rpb24gPCBwYXJlbnRCLmZyaWN0aW9uID8gcGFyZW50QS5mcmljdGlvbiA6IHBhcmVudEIuZnJpY3Rpb247XG4gICAgICAgIHBhaXIuZnJpY3Rpb25TdGF0aWMgPSBwYXJlbnRBLmZyaWN0aW9uU3RhdGljID4gcGFyZW50Qi5mcmljdGlvblN0YXRpYyA/IHBhcmVudEEuZnJpY3Rpb25TdGF0aWMgOiBwYXJlbnRCLmZyaWN0aW9uU3RhdGljO1xuICAgICAgICBwYWlyLnJlc3RpdHV0aW9uID0gcGFyZW50QS5yZXN0aXR1dGlvbiA+IHBhcmVudEIucmVzdGl0dXRpb24gPyBwYXJlbnRBLnJlc3RpdHV0aW9uIDogcGFyZW50Qi5yZXN0aXR1dGlvbjtcbiAgICAgICAgcGFpci5zbG9wID0gcGFyZW50QS5zbG9wID4gcGFyZW50Qi5zbG9wID8gcGFyZW50QS5zbG9wIDogcGFyZW50Qi5zbG9wO1xuXG4gICAgICAgIHBhaXIuY29udGFjdENvdW50ID0gc3VwcG9ydENvdW50O1xuICAgICAgICBjb2xsaXNpb24ucGFpciA9IHBhaXI7XG5cbiAgICAgICAgdmFyIHN1cHBvcnRBID0gc3VwcG9ydHNbMF0sXG4gICAgICAgICAgICBjb250YWN0QSA9IGNvbnRhY3RzWzBdLFxuICAgICAgICAgICAgc3VwcG9ydEIgPSBzdXBwb3J0c1sxXSxcbiAgICAgICAgICAgIGNvbnRhY3RCID0gY29udGFjdHNbMV07XG5cbiAgICAgICAgLy8gbWF0Y2ggY29udGFjdHMgdG8gc3VwcG9ydHNcbiAgICAgICAgaWYgKGNvbnRhY3RCLnZlcnRleCA9PT0gc3VwcG9ydEEgfHwgY29udGFjdEEudmVydGV4ID09PSBzdXBwb3J0Qikge1xuICAgICAgICAgICAgY29udGFjdHNbMV0gPSBjb250YWN0QTtcbiAgICAgICAgICAgIGNvbnRhY3RzWzBdID0gY29udGFjdEEgPSBjb250YWN0QjtcbiAgICAgICAgICAgIGNvbnRhY3RCID0gY29udGFjdHNbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgY29udGFjdHNcbiAgICAgICAgY29udGFjdEEudmVydGV4ID0gc3VwcG9ydEE7XG4gICAgICAgIGNvbnRhY3RCLnZlcnRleCA9IHN1cHBvcnRCO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0IGEgcGFpciBhcyBhY3RpdmUgb3IgaW5hY3RpdmUuXG4gICAgICogQG1ldGhvZCBzZXRBY3RpdmVcbiAgICAgKiBAcGFyYW0ge3BhaXJ9IHBhaXJcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzQWN0aXZlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqL1xuICAgIFBhaXIuc2V0QWN0aXZlID0gZnVuY3Rpb24ocGFpciwgaXNBY3RpdmUsIHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHBhaXIuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgcGFpci50aW1lVXBkYXRlZCA9IHRpbWVzdGFtcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhaXIuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhaXIuY29udGFjdENvdW50ID0gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkIGZvciB0aGUgZ2l2ZW4gcGFpci5cbiAgICAgKiBAbWV0aG9kIGlkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVuaXF1ZSBwYWlySWRcbiAgICAgKi9cbiAgICBQYWlyLmlkID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKSB7XG4gICAgICAgIHJldHVybiBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUEuaWQudG9TdHJpbmcoMzYpICsgJzonICsgYm9keUIuaWQudG9TdHJpbmcoMzYpIFxuICAgICAgICAgICAgOiBib2R5Qi5pZC50b1N0cmluZygzNikgKyAnOicgKyBib2R5QS5pZC50b1N0cmluZygzNik7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Db25zdHJhaW50YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb25zdHJhaW50cy5cbiogQ29uc3RyYWludHMgYXJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhhdCBhIGZpeGVkIGRpc3RhbmNlIG11c3QgYmUgbWFpbnRhaW5lZCBiZXR3ZWVuIHR3byBib2RpZXMgKG9yIGEgYm9keSBhbmQgYSBmaXhlZCB3b3JsZC1zcGFjZSBwb3NpdGlvbikuXG4qIFRoZSBzdGlmZm5lc3Mgb2YgY29uc3RyYWludHMgY2FuIGJlIG1vZGlmaWVkIHRvIGNyZWF0ZSBzcHJpbmdzIG9yIGVsYXN0aWMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBDb25zdHJhaW50XG4qL1xuXG52YXIgQ29uc3RyYWludCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnN0cmFpbnQ7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBTbGVlcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBBeGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgQ29uc3RyYWludC5fd2FybWluZyA9IDAuNDtcbiAgICBDb25zdHJhaW50Ll90b3JxdWVEYW1wZW4gPSAxO1xuICAgIENvbnN0cmFpbnQuX21pbkxlbmd0aCA9IDAuMDAwMDAxO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb25zdHJhaW50LlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogVG8gc2ltdWxhdGUgYSByZXZvbHV0ZSBjb25zdHJhaW50IChvciBwaW4gam9pbnQpIHNldCBgbGVuZ3RoOiAwYCBhbmQgYSBoaWdoIGBzdGlmZm5lc3NgIHZhbHVlIChlLmcuIGAwLjdgIG9yIGFib3ZlKS5cbiAgICAgKiBJZiB0aGUgY29uc3RyYWludCBpcyB1bnN0YWJsZSwgdHJ5IGxvd2VyaW5nIHRoZSBgc3RpZmZuZXNzYCB2YWx1ZSBhbmQgLyBvciBpbmNyZWFzaW5nIGBlbmdpbmUuY29uc3RyYWludEl0ZXJhdGlvbnNgLlxuICAgICAqIEZvciBjb21wb3VuZCBib2RpZXMsIGNvbnN0cmFpbnRzIG11c3QgYmUgYXBwbGllZCB0byB0aGUgcGFyZW50IGJvZHkgKG5vdCBvbmUgb2YgaXRzIHBhcnRzKS5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtjb25zdHJhaW50fSBjb25zdHJhaW50XG4gICAgICovXG4gICAgQ29uc3RyYWludC5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb25zdHJhaW50ID0gb3B0aW9ucztcblxuICAgICAgICAvLyBpZiBib2RpZXMgZGVmaW5lZCBidXQgbm8gcG9pbnRzLCB1c2UgYm9keSBjZW50cmVcbiAgICAgICAgaWYgKGNvbnN0cmFpbnQuYm9keUEgJiYgIWNvbnN0cmFpbnQucG9pbnRBKVxuICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgaWYgKGNvbnN0cmFpbnQuYm9keUIgJiYgIWNvbnN0cmFpbnQucG9pbnRCKVxuICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEIgPSB7IHg6IDAsIHk6IDAgfTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgc3RhdGljIGxlbmd0aCB1c2luZyBpbml0aWFsIHdvcmxkIHNwYWNlIHBvaW50c1xuICAgICAgICB2YXIgaW5pdGlhbFBvaW50QSA9IGNvbnN0cmFpbnQuYm9keUEgPyBWZWN0b3IuYWRkKGNvbnN0cmFpbnQuYm9keUEucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRBKSA6IGNvbnN0cmFpbnQucG9pbnRBLFxuICAgICAgICAgICAgaW5pdGlhbFBvaW50QiA9IGNvbnN0cmFpbnQuYm9keUIgPyBWZWN0b3IuYWRkKGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKSA6IGNvbnN0cmFpbnQucG9pbnRCLFxuICAgICAgICAgICAgbGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShWZWN0b3Iuc3ViKGluaXRpYWxQb2ludEEsIGluaXRpYWxQb2ludEIpKTtcbiAgICBcbiAgICAgICAgY29uc3RyYWludC5sZW5ndGggPSB0eXBlb2YgY29uc3RyYWludC5sZW5ndGggIT09ICd1bmRlZmluZWQnID8gY29uc3RyYWludC5sZW5ndGggOiBsZW5ndGg7XG5cbiAgICAgICAgLy8gb3B0aW9uIGRlZmF1bHRzXG4gICAgICAgIGNvbnN0cmFpbnQuaWQgPSBjb25zdHJhaW50LmlkIHx8IENvbW1vbi5uZXh0SWQoKTtcbiAgICAgICAgY29uc3RyYWludC5sYWJlbCA9IGNvbnN0cmFpbnQubGFiZWwgfHwgJ0NvbnN0cmFpbnQnO1xuICAgICAgICBjb25zdHJhaW50LnR5cGUgPSAnY29uc3RyYWludCc7XG4gICAgICAgIGNvbnN0cmFpbnQuc3RpZmZuZXNzID0gY29uc3RyYWludC5zdGlmZm5lc3MgfHwgKGNvbnN0cmFpbnQubGVuZ3RoID4gMCA/IDEgOiAwLjcpO1xuICAgICAgICBjb25zdHJhaW50LmRhbXBpbmcgPSBjb25zdHJhaW50LmRhbXBpbmcgfHwgMDtcbiAgICAgICAgY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzID0gY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzIHx8IDA7XG4gICAgICAgIGNvbnN0cmFpbnQuYW5nbGVBID0gY29uc3RyYWludC5ib2R5QSA/IGNvbnN0cmFpbnQuYm9keUEuYW5nbGUgOiBjb25zdHJhaW50LmFuZ2xlQTtcbiAgICAgICAgY29uc3RyYWludC5hbmdsZUIgPSBjb25zdHJhaW50LmJvZHlCID8gY29uc3RyYWludC5ib2R5Qi5hbmdsZSA6IGNvbnN0cmFpbnQuYW5nbGVCO1xuICAgICAgICBjb25zdHJhaW50LnBsdWdpbiA9IHt9O1xuXG4gICAgICAgIC8vIHJlbmRlclxuICAgICAgICB2YXIgcmVuZGVyID0ge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMixcbiAgICAgICAgICAgIHN0cm9rZVN0eWxlOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgICAgICBhbmNob3JzOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNvbnN0cmFpbnQubGVuZ3RoID09PSAwICYmIGNvbnN0cmFpbnQuc3RpZmZuZXNzID4gMC4xKSB7XG4gICAgICAgICAgICByZW5kZXIudHlwZSA9ICdwaW4nO1xuICAgICAgICAgICAgcmVuZGVyLmFuY2hvcnMgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zdHJhaW50LnN0aWZmbmVzcyA8IDAuOSkge1xuICAgICAgICAgICAgcmVuZGVyLnR5cGUgPSAnc3ByaW5nJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cmFpbnQucmVuZGVyID0gQ29tbW9uLmV4dGVuZChyZW5kZXIsIGNvbnN0cmFpbnQucmVuZGVyKTtcblxuICAgICAgICByZXR1cm4gY29uc3RyYWludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgZm9yIHNvbHZpbmcgYnkgY29uc3RyYWludCB3YXJtaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBwcmVTb2x2ZUFsbFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnByZVNvbHZlQWxsID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBpbXB1bHNlID0gYm9keS5jb25zdHJhaW50SW1wdWxzZTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgKGltcHVsc2UueCA9PT0gMCAmJiBpbXB1bHNlLnkgPT09IDAgJiYgaW1wdWxzZS5hbmdsZSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi54ICs9IGltcHVsc2UueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueSArPSBpbXB1bHNlLnk7XG4gICAgICAgICAgICBib2R5LmFuZ2xlICs9IGltcHVsc2UuYW5nbGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU29sdmVzIGFsbCBjb25zdHJhaW50cyBpbiBhIGxpc3Qgb2YgY29sbGlzaW9ucy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc29sdmVBbGxcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnRbXX0gY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnNvbHZlQWxsID0gZnVuY3Rpb24oY29uc3RyYWludHMsIGRlbHRhKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBDb21tb24uY2xhbXAoZGVsdGEgLyBDb21tb24uX2Jhc2VEZWx0YSwgMCwgMSk7XG5cbiAgICAgICAgLy8gU29sdmUgZml4ZWQgY29uc3RyYWludHMgZmlyc3QuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gY29uc3RyYWludHNbaV0sXG4gICAgICAgICAgICAgICAgZml4ZWRBID0gIWNvbnN0cmFpbnQuYm9keUEgfHwgKGNvbnN0cmFpbnQuYm9keUEgJiYgY29uc3RyYWludC5ib2R5QS5pc1N0YXRpYyksXG4gICAgICAgICAgICAgICAgZml4ZWRCID0gIWNvbnN0cmFpbnQuYm9keUIgfHwgKGNvbnN0cmFpbnQuYm9keUIgJiYgY29uc3RyYWludC5ib2R5Qi5pc1N0YXRpYyk7XG5cbiAgICAgICAgICAgIGlmIChmaXhlZEEgfHwgZml4ZWRCKSB7XG4gICAgICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZShjb25zdHJhaW50c1tpXSwgdGltZVNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbHZlIGZyZWUgY29uc3RyYWludHMgbGFzdC5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdHJhaW50ID0gY29uc3RyYWludHNbaV07XG4gICAgICAgICAgICBmaXhlZEEgPSAhY29uc3RyYWludC5ib2R5QSB8fCAoY29uc3RyYWludC5ib2R5QSAmJiBjb25zdHJhaW50LmJvZHlBLmlzU3RhdGljKTtcbiAgICAgICAgICAgIGZpeGVkQiA9ICFjb25zdHJhaW50LmJvZHlCIHx8IChjb25zdHJhaW50LmJvZHlCICYmIGNvbnN0cmFpbnQuYm9keUIuaXNTdGF0aWMpO1xuXG4gICAgICAgICAgICBpZiAoIWZpeGVkQSAmJiAhZml4ZWRCKSB7XG4gICAgICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZShjb25zdHJhaW50c1tpXSwgdGltZVNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb2x2ZXMgYSBkaXN0YW5jZSBjb25zdHJhaW50IHdpdGggR2F1c3MtU2llZGVsIG1ldGhvZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc29sdmVcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVNjYWxlXG4gICAgICovXG4gICAgQ29uc3RyYWludC5zb2x2ZSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQsIHRpbWVTY2FsZSkge1xuICAgICAgICB2YXIgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLFxuICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgcG9pbnRBID0gY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICBwb2ludEIgPSBjb25zdHJhaW50LnBvaW50QjtcblxuICAgICAgICBpZiAoIWJvZHlBICYmICFib2R5QilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyB1cGRhdGUgcmVmZXJlbmNlIGFuZ2xlXG4gICAgICAgIGlmIChib2R5QSAmJiAhYm9keUEuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIFZlY3Rvci5yb3RhdGUocG9pbnRBLCBib2R5QS5hbmdsZSAtIGNvbnN0cmFpbnQuYW5nbGVBLCBwb2ludEEpO1xuICAgICAgICAgICAgY29uc3RyYWludC5hbmdsZUEgPSBib2R5QS5hbmdsZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gdXBkYXRlIHJlZmVyZW5jZSBhbmdsZVxuICAgICAgICBpZiAoYm9keUIgJiYgIWJvZHlCLmlzU3RhdGljKSB7XG4gICAgICAgICAgICBWZWN0b3Iucm90YXRlKHBvaW50QiwgYm9keUIuYW5nbGUgLSBjb25zdHJhaW50LmFuZ2xlQiwgcG9pbnRCKTtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keUIuYW5nbGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRBV29ybGQgPSBwb2ludEEsXG4gICAgICAgICAgICBwb2ludEJXb3JsZCA9IHBvaW50QjtcblxuICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgcG9pbnRBKTtcbiAgICAgICAgaWYgKGJvZHlCKSBwb2ludEJXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIHBvaW50Qik7XG5cbiAgICAgICAgaWYgKCFwb2ludEFXb3JsZCB8fCAhcG9pbnRCV29ybGQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGRlbHRhID0gVmVjdG9yLnN1Yihwb2ludEFXb3JsZCwgcG9pbnRCV29ybGQpLFxuICAgICAgICAgICAgY3VycmVudExlbmd0aCA9IFZlY3Rvci5tYWduaXR1ZGUoZGVsdGEpO1xuXG4gICAgICAgIC8vIHByZXZlbnQgc2luZ3VsYXJpdHlcbiAgICAgICAgaWYgKGN1cnJlbnRMZW5ndGggPCBDb25zdHJhaW50Ll9taW5MZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRMZW5ndGggPSBDb25zdHJhaW50Ll9taW5MZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzb2x2ZSBkaXN0YW5jZSBjb25zdHJhaW50IHdpdGggR2F1c3MtU2llZGVsIG1ldGhvZFxuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IChjdXJyZW50TGVuZ3RoIC0gY29uc3RyYWludC5sZW5ndGgpIC8gY3VycmVudExlbmd0aCxcbiAgICAgICAgICAgIGlzUmlnaWQgPSBjb25zdHJhaW50LnN0aWZmbmVzcyA+PSAxIHx8IGNvbnN0cmFpbnQubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgc3RpZmZuZXNzID0gaXNSaWdpZCA/IGNvbnN0cmFpbnQuc3RpZmZuZXNzICogdGltZVNjYWxlIFxuICAgICAgICAgICAgICAgIDogY29uc3RyYWludC5zdGlmZm5lc3MgKiB0aW1lU2NhbGUgKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICBkYW1waW5nID0gY29uc3RyYWludC5kYW1waW5nICogdGltZVNjYWxlLFxuICAgICAgICAgICAgZm9yY2UgPSBWZWN0b3IubXVsdChkZWx0YSwgZGlmZmVyZW5jZSAqIHN0aWZmbmVzcyksXG4gICAgICAgICAgICBtYXNzVG90YWwgPSAoYm9keUEgPyBib2R5QS5pbnZlcnNlTWFzcyA6IDApICsgKGJvZHlCID8gYm9keUIuaW52ZXJzZU1hc3MgOiAwKSxcbiAgICAgICAgICAgIGluZXJ0aWFUb3RhbCA9IChib2R5QSA/IGJvZHlBLmludmVyc2VJbmVydGlhIDogMCkgKyAoYm9keUIgPyBib2R5Qi5pbnZlcnNlSW5lcnRpYSA6IDApLFxuICAgICAgICAgICAgcmVzaXN0YW5jZVRvdGFsID0gbWFzc1RvdGFsICsgaW5lcnRpYVRvdGFsLFxuICAgICAgICAgICAgdG9ycXVlLFxuICAgICAgICAgICAgc2hhcmUsXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICBub3JtYWxWZWxvY2l0eSxcbiAgICAgICAgICAgIHJlbGF0aXZlVmVsb2NpdHk7XG4gICAgXG4gICAgICAgIGlmIChkYW1waW5nID4gMCkge1xuICAgICAgICAgICAgdmFyIHplcm8gPSBWZWN0b3IuY3JlYXRlKCk7XG4gICAgICAgICAgICBub3JtYWwgPSBWZWN0b3IuZGl2KGRlbHRhLCBjdXJyZW50TGVuZ3RoKTtcblxuICAgICAgICAgICAgcmVsYXRpdmVWZWxvY2l0eSA9IFZlY3Rvci5zdWIoXG4gICAgICAgICAgICAgICAgYm9keUIgJiYgVmVjdG9yLnN1Yihib2R5Qi5wb3NpdGlvbiwgYm9keUIucG9zaXRpb25QcmV2KSB8fCB6ZXJvLFxuICAgICAgICAgICAgICAgIGJvZHlBICYmIFZlY3Rvci5zdWIoYm9keUEucG9zaXRpb24sIGJvZHlBLnBvc2l0aW9uUHJldikgfHwgemVyb1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbm9ybWFsVmVsb2NpdHkgPSBWZWN0b3IuZG90KG5vcm1hbCwgcmVsYXRpdmVWZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm9keUEgJiYgIWJvZHlBLmlzU3RhdGljKSB7XG4gICAgICAgICAgICBzaGFyZSA9IGJvZHlBLmludmVyc2VNYXNzIC8gbWFzc1RvdGFsO1xuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGFwcGxpZWQgaW1wdWxzZXMgZm9yIHBvc3Qgc29sdmluZ1xuICAgICAgICAgICAgYm9keUEuY29uc3RyYWludEltcHVsc2UueCAtPSBmb3JjZS54ICogc2hhcmU7XG4gICAgICAgICAgICBib2R5QS5jb25zdHJhaW50SW1wdWxzZS55IC09IGZvcmNlLnkgKiBzaGFyZTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgZm9yY2VzXG4gICAgICAgICAgICBib2R5QS5wb3NpdGlvbi54IC09IGZvcmNlLnggKiBzaGFyZTtcbiAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uLnkgLT0gZm9yY2UueSAqIHNoYXJlO1xuXG4gICAgICAgICAgICAvLyBhcHBseSBkYW1waW5nXG4gICAgICAgICAgICBpZiAoZGFtcGluZyA+IDApIHtcbiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueCAtPSBkYW1waW5nICogbm9ybWFsLnggKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi55IC09IGRhbXBpbmcgKiBub3JtYWwueSAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IHRvcnF1ZVxuICAgICAgICAgICAgdG9ycXVlID0gKFZlY3Rvci5jcm9zcyhwb2ludEEsIGZvcmNlKSAvIHJlc2lzdGFuY2VUb3RhbCkgKiBDb25zdHJhaW50Ll90b3JxdWVEYW1wZW4gKiBib2R5QS5pbnZlcnNlSW5lcnRpYSAqICgxIC0gY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzKTtcbiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLmFuZ2xlIC09IHRvcnF1ZTtcbiAgICAgICAgICAgIGJvZHlBLmFuZ2xlIC09IHRvcnF1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIHNoYXJlID0gYm9keUIuaW52ZXJzZU1hc3MgLyBtYXNzVG90YWw7XG5cbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgYXBwbGllZCBpbXB1bHNlcyBmb3IgcG9zdCBzb2x2aW5nXG4gICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS54ICs9IGZvcmNlLnggKiBzaGFyZTtcbiAgICAgICAgICAgIGJvZHlCLmNvbnN0cmFpbnRJbXB1bHNlLnkgKz0gZm9yY2UueSAqIHNoYXJlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBhcHBseSBmb3JjZXNcbiAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uLnggKz0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUIucG9zaXRpb24ueSArPSBmb3JjZS55ICogc2hhcmU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGRhbXBpbmdcbiAgICAgICAgICAgIGlmIChkYW1waW5nID4gMCkge1xuICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi54ICs9IGRhbXBpbmcgKiBub3JtYWwueCAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnkgKz0gZGFtcGluZyAqIG5vcm1hbC55ICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXBwbHkgdG9ycXVlXG4gICAgICAgICAgICB0b3JxdWUgPSAoVmVjdG9yLmNyb3NzKHBvaW50QiwgZm9yY2UpIC8gcmVzaXN0YW5jZVRvdGFsKSAqIENvbnN0cmFpbnQuX3RvcnF1ZURhbXBlbiAqIGJvZHlCLmludmVyc2VJbmVydGlhICogKDEgLSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MpO1xuICAgICAgICAgICAgYm9keUIuY29uc3RyYWludEltcHVsc2UuYW5nbGUgKz0gdG9ycXVlO1xuICAgICAgICAgICAgYm9keUIuYW5nbGUgKz0gdG9ycXVlO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYm9keSB1cGRhdGVzIHJlcXVpcmVkIGFmdGVyIHNvbHZpbmcgY29uc3RyYWludHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHBvc3RTb2x2ZUFsbFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnBvc3RTb2x2ZUFsbCA9IGZ1bmN0aW9uKGJvZGllcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgaW1wdWxzZSA9IGJvZHkuY29uc3RyYWludEltcHVsc2U7XG5cbiAgICAgICAgICAgIGlmIChib2R5LmlzU3RhdGljIHx8IChpbXB1bHNlLnggPT09IDAgJiYgaW1wdWxzZS55ID09PSAwICYmIGltcHVsc2UuYW5nbGUgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBnZW9tZXRyeSBhbmQgcmVzZXRcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgaW1wdWxzZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGltcHVsc2UueDtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ICs9IGltcHVsc2UueTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1wdWxzZS5hbmdsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBWZXJ0aWNlcy5yb3RhdGUocGFydC52ZXJ0aWNlcywgaW1wdWxzZS5hbmdsZSwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEF4ZXMucm90YXRlKHBhcnQuYXhlcywgaW1wdWxzZS5hbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZUFib3V0KHBhcnQucG9zaXRpb24sIGltcHVsc2UuYW5nbGUsIGJvZHkucG9zaXRpb24sIHBhcnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRhbXBlbiB0aGUgY2FjaGVkIGltcHVsc2UgZm9yIHdhcm1pbmcgbmV4dCBzdGVwXG4gICAgICAgICAgICBpbXB1bHNlLmFuZ2xlICo9IENvbnN0cmFpbnQuX3dhcm1pbmc7XG4gICAgICAgICAgICBpbXB1bHNlLnggKj0gQ29uc3RyYWludC5fd2FybWluZztcbiAgICAgICAgICAgIGltcHVsc2UueSAqPSBDb25zdHJhaW50Ll93YXJtaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIGBjb25zdHJhaW50LnBvaW50QWAsIGFjY291bnRpbmcgZm9yIGBjb25zdHJhaW50LmJvZHlBYC5cbiAgICAgKiBAbWV0aG9kIHBvaW50QVdvcmxkXG4gICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50XG4gICAgICogQHJldHVybnMge3ZlY3Rvcn0gdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uXG4gICAgICovXG4gICAgQ29uc3RyYWludC5wb2ludEFXb3JsZCA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IChjb25zdHJhaW50LmJvZHlBID8gY29uc3RyYWludC5ib2R5QS5wb3NpdGlvbi54IDogMCkgXG4gICAgICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEEgPyBjb25zdHJhaW50LnBvaW50QS54IDogMCksXG4gICAgICAgICAgICB5OiAoY29uc3RyYWludC5ib2R5QSA/IGNvbnN0cmFpbnQuYm9keUEucG9zaXRpb24ueSA6IDApIFxuICAgICAgICAgICAgICAgICsgKGNvbnN0cmFpbnQucG9pbnRBID8gY29uc3RyYWludC5wb2ludEEueSA6IDApXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIGBjb25zdHJhaW50LnBvaW50QmAsIGFjY291bnRpbmcgZm9yIGBjb25zdHJhaW50LmJvZHlCYC5cbiAgICAgKiBAbWV0aG9kIHBvaW50QldvcmxkXG4gICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50XG4gICAgICogQHJldHVybnMge3ZlY3Rvcn0gdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uXG4gICAgICovXG4gICAgQ29uc3RyYWludC5wb2ludEJXb3JsZCA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IChjb25zdHJhaW50LmJvZHlCID8gY29uc3RyYWludC5ib2R5Qi5wb3NpdGlvbi54IDogMCkgXG4gICAgICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEIgPyBjb25zdHJhaW50LnBvaW50Qi54IDogMCksXG4gICAgICAgICAgICB5OiAoY29uc3RyYWludC5ib2R5QiA/IGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24ueSA6IDApIFxuICAgICAgICAgICAgICAgICsgKGNvbnN0cmFpbnQucG9pbnRCID8gY29uc3RyYWludC5wb2ludEIueSA6IDApXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbGVuZ3RoIG9mIHRoZSBjb25zdHJhaW50LiBcbiAgICAgKiBUaGlzIGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGJvdGggb2YgdGhlIGNvbnN0cmFpbnQncyBlbmQgcG9pbnRzLlxuICAgICAqIFNlZSBgY29uc3RyYWludC5sZW5ndGhgIGZvciB0aGUgdGFyZ2V0IHJlc3QgbGVuZ3RoLlxuICAgICAqIEBtZXRob2QgY3VycmVudExlbmd0aFxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjdXJyZW50IGxlbmd0aFxuICAgICAqL1xuICAgIENvbnN0cmFpbnQuY3VycmVudExlbmd0aCA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQpIHtcbiAgICAgICAgdmFyIHBvaW50QVggPSAoY29uc3RyYWludC5ib2R5QSA/IGNvbnN0cmFpbnQuYm9keUEucG9zaXRpb24ueCA6IDApIFxuICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEEgPyBjb25zdHJhaW50LnBvaW50QS54IDogMCk7XG5cbiAgICAgICAgdmFyIHBvaW50QVkgPSAoY29uc3RyYWludC5ib2R5QSA/IGNvbnN0cmFpbnQuYm9keUEucG9zaXRpb24ueSA6IDApIFxuICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEEgPyBjb25zdHJhaW50LnBvaW50QS55IDogMCk7XG5cbiAgICAgICAgdmFyIHBvaW50QlggPSAoY29uc3RyYWludC5ib2R5QiA/IGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24ueCA6IDApIFxuICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEIgPyBjb25zdHJhaW50LnBvaW50Qi54IDogMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyIHBvaW50QlkgPSAoY29uc3RyYWludC5ib2R5QiA/IGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24ueSA6IDApIFxuICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEIgPyBjb25zdHJhaW50LnBvaW50Qi55IDogMCk7XG5cbiAgICAgICAgdmFyIGRlbHRhWCA9IHBvaW50QVggLSBwb2ludEJYO1xuICAgICAgICB2YXIgZGVsdGFZID0gcG9pbnRBWSAtIHBvaW50Qlk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJjb25zdHJhaW50XCJcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFyYml0cmFyeSBgU3RyaW5nYCBuYW1lIHRvIGhlbHAgdGhlIHVzZXIgaWRlbnRpZnkgYW5kIG1hbmFnZSBib2RpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGFiZWxcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcIkNvbnN0cmFpbnRcIlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgdGhhdCBkZWZpbmVzIHRoZSByZW5kZXJpbmcgcHJvcGVydGllcyB0byBiZSBjb25zdW1lZCBieSB0aGUgbW9kdWxlIGBNYXR0ZXIuUmVuZGVyYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyBpZiB0aGUgY29uc3RyYWludCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnZpc2libGVcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGxpbmUgd2lkdGggdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBjb25zdHJhaW50IG91dGxpbmUuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgbm8gb3V0bGluZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5saW5lV2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgc3Ryb2tlIHN0eWxlIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgY29uc3RyYWludCBvdXRsaW5lLlxuICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3Ryb2tlU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBjb25zdHJhaW50IHJlbmRlcmluZyB0eXBlLiBcbiAgICAgKiBUaGUgcG9zc2libGUgdmFsdWVzIGFyZSAnbGluZScsICdwaW4nLCAnc3ByaW5nJy5cbiAgICAgKiBBbiBhcHByb3ByaWF0ZSByZW5kZXIgdHlwZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY2hvc2VuIHVubGVzcyBvbmUgaXMgZ2l2ZW4gaW4gb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIudHlwZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdsaW5lJ1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgQm9vbGVhbmAgdGhhdCBkZWZpbmVzIGlmIHRoZSBjb25zdHJhaW50J3MgYW5jaG9yIHBvaW50cyBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmFuY2hvcnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IHBvc3NpYmxlIGBCb2R5YCB0aGF0IHRoaXMgY29uc3RyYWludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2Vjb25kIHBvc3NpYmxlIGBCb2R5YCB0aGF0IHRoaXMgY29uc3RyYWludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QlxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBvZmZzZXQgb2YgdGhlIGNvbnN0cmFpbnQgZnJvbSBjZW50ZXIgb2YgdGhlIGBjb25zdHJhaW50LmJvZHlBYCBpZiBkZWZpbmVkLCBvdGhlcndpc2UgYSB3b3JsZC1zcGFjZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwb2ludEFcbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb25zdHJhaW50IGZyb20gY2VudGVyIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QmAgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGEgd29ybGQtc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcG9pbnRCXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHN0aWZmbmVzcyBvZiB0aGUgY29uc3RyYWludCwgaS5lLiB0aGUgcmF0ZSBhdCB3aGljaCBpdCByZXR1cm5zIHRvIGl0cyByZXN0aW5nIGBjb25zdHJhaW50Lmxlbmd0aGAuXG4gICAgICogQSB2YWx1ZSBvZiBgMWAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHZlcnkgc3RpZmYuXG4gICAgICogQSB2YWx1ZSBvZiBgMC4yYCBtZWFucyB0aGUgY29uc3RyYWludCBhY3RzIGxpa2UgYSBzb2Z0IHNwcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzdGlmZm5lc3NcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBkYW1waW5nIG9mIHRoZSBjb25zdHJhaW50LCBcbiAgICAgKiBpLmUuIHRoZSBhbW91bnQgb2YgcmVzaXN0YW5jZSBhcHBsaWVkIHRvIGVhY2ggYm9keSBiYXNlZCBvbiB0aGVpciB2ZWxvY2l0aWVzIHRvIGxpbWl0IHRoZSBhbW91bnQgb2Ygb3NjaWxsYXRpb24uXG4gICAgICogRGFtcGluZyB3aWxsIG9ubHkgYmUgYXBwYXJlbnQgd2hlbiB0aGUgY29uc3RyYWludCBhbHNvIGhhcyBhIHZlcnkgbG93IGBzdGlmZm5lc3NgLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgd2lsbCBhcHBseSBoZWF2eSBkYW1waW5nLCByZXN1bHRpbmcgaW4gbGl0dGxlIHRvIG5vIG9zY2lsbGF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoZSBjb25zdHJhaW50IHdpbGwgYXBwbHkgbm8gZGFtcGluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkYW1waW5nXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgdGFyZ2V0IHJlc3RpbmcgbGVuZ3RoIG9mIHRoZSBjb25zdHJhaW50LiBcbiAgICAgKiBJdCBpcyBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgaW4gYENvbnN0cmFpbnQuY3JlYXRlYCBmcm9tIGluaXRpYWwgcG9zaXRpb25zIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QWAgYW5kIGBjb25zdHJhaW50LmJvZHlCYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsZW5ndGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkF4ZXNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHNldHMgb2YgYXhlcy5cbipcbiogQGNsYXNzIEF4ZXNcbiovXG5cbnZhciBBeGVzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQXhlcztcblxudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzZXQgb2YgYXhlcyBmcm9tIHRoZSBnaXZlbiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGZyb21WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7YXhlc30gQSBuZXcgYXhlcyBmcm9tIHRoZSBnaXZlbiB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIEF4ZXMuZnJvbVZlcnRpY2VzID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGF4ZXMgPSB7fTtcblxuICAgICAgICAvLyBmaW5kIHRoZSB1bmlxdWUgYXhlcywgdXNpbmcgZWRnZSBub3JtYWwgZ3JhZGllbnRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBqID0gKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aCwgXG4gICAgICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IFxuICAgICAgICAgICAgICAgICAgICB4OiB2ZXJ0aWNlc1tqXS55IC0gdmVydGljZXNbaV0ueSwgXG4gICAgICAgICAgICAgICAgICAgIHk6IHZlcnRpY2VzW2ldLnggLSB2ZXJ0aWNlc1tqXS54XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQgPSAobm9ybWFsLnkgPT09IDApID8gSW5maW5pdHkgOiAobm9ybWFsLnggLyBub3JtYWwueSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGxpbWl0IHByZWNpc2lvblxuICAgICAgICAgICAgZ3JhZGllbnQgPSBncmFkaWVudC50b0ZpeGVkKDMpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBheGVzW2dyYWRpZW50XSA9IG5vcm1hbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb21tb24udmFsdWVzKGF4ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGEgc2V0IG9mIGF4ZXMgYnkgdGhlIGdpdmVuIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHtheGVzfSBheGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgQXhlcy5yb3RhdGUgPSBmdW5jdGlvbihheGVzLCBhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF4aXMgPSBheGVzW2ldLFxuICAgICAgICAgICAgICAgIHh4O1xuICAgICAgICAgICAgeHggPSBheGlzLnggKiBjb3MgLSBheGlzLnkgKiBzaW47XG4gICAgICAgICAgICBheGlzLnkgPSBheGlzLnggKiBzaW4gKyBheGlzLnkgKiBjb3M7XG4gICAgICAgICAgICBheGlzLnggPSB4eDtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQm9kaWVzYCBtb2R1bGUgY29udGFpbnMgZmFjdG9yeSBtZXRob2RzIGZvciBjcmVhdGluZyByaWdpZCBib2R5IG1vZGVscyBcbiogd2l0aCBjb21tb25seSB1c2VkIGJvZHkgY29uZmlndXJhdGlvbnMgKHN1Y2ggYXMgcmVjdGFuZ2xlcywgY2lyY2xlcyBhbmQgb3RoZXIgcG9seWdvbnMpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQm9kaWVzXG4qL1xuXG4vLyBUT0RPOiB0cnVlIGNpcmNsZSBib2RpZXNcblxudmFyIEJvZGllcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvZGllcztcblxudmFyIFZlcnRpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWN0YW5nbGUgaHVsbC4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyByZWN0YW5nbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5yZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciByZWN0YW5nbGUgPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdSZWN0YW5nbGUgQm9keScsXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgoJ0wgMCAwIEwgJyArIHdpZHRoICsgJyAwIEwgJyArIHdpZHRoICsgJyAnICsgaGVpZ2h0ICsgJyBMIDAgJyArIGhlaWdodClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaGFtZmVyKSB7XG4gICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgICAgIHJlY3RhbmdsZS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocmVjdGFuZ2xlLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgXG4gICAgICAgICAgICAgICAgY2hhbWZlci5xdWFsaXR5LCBjaGFtZmVyLnF1YWxpdHlNaW4sIGNoYW1mZXIucXVhbGl0eU1heCk7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoe30sIHJlY3RhbmdsZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSB0cmFwZXpvaWQgaHVsbC4gXG4gICAgICogVGhlIGBzbG9wZWAgaXMgcGFyYW1ldGVyaXNlZCBhcyBhIGZyYWN0aW9uIG9mIGB3aWR0aGAgYW5kIG11c3QgYmUgPCAxIHRvIGZvcm0gYSB2YWxpZCB0cmFwZXpvaWQuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgdHJhcGV6b2lkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2xvcGUgTXVzdCBiZSBhIG51bWJlciA8IDEuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IHRyYXBlem9pZCBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLnRyYXBlem9pZCA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIHNsb3BlLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmIChzbG9wZSA+PSAxKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignQm9kaWVzLnRyYXBlem9pZDogc2xvcGUgcGFyYW1ldGVyIG11c3QgYmUgPCAxLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xvcGUgKj0gMC41O1xuICAgICAgICB2YXIgcm9vZiA9ICgxIC0gKHNsb3BlICogMikpICogd2lkdGg7XG4gICAgICAgIFxuICAgICAgICB2YXIgeDEgPSB3aWR0aCAqIHNsb3BlLFxuICAgICAgICAgICAgeDIgPSB4MSArIHJvb2YsXG4gICAgICAgICAgICB4MyA9IHgyICsgeDEsXG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGg7XG5cbiAgICAgICAgaWYgKHNsb3BlIDwgMC41KSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGggPSAnTCAwIDAgTCAnICsgeDEgKyAnICcgKyAoLWhlaWdodCkgKyAnIEwgJyArIHgyICsgJyAnICsgKC1oZWlnaHQpICsgJyBMICcgKyB4MyArICcgMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGggPSAnTCAwIDAgTCAnICsgeDIgKyAnICcgKyAoLWhlaWdodCkgKyAnIEwgJyArIHgzICsgJyAwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFwZXpvaWQgPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdUcmFwZXpvaWQgQm9keScsXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgodmVydGljZXNQYXRoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHtcbiAgICAgICAgICAgIHZhciBjaGFtZmVyID0gb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICAgICAgdHJhcGV6b2lkLnZlcnRpY2VzID0gVmVydGljZXMuY2hhbWZlcih0cmFwZXpvaWQudmVydGljZXMsIGNoYW1mZXIucmFkaXVzLCBcbiAgICAgICAgICAgICAgICBjaGFtZmVyLnF1YWxpdHksIGNoYW1mZXIucXVhbGl0eU1pbiwgY2hhbWZlci5xdWFsaXR5TWF4KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7fSwgdHJhcGV6b2lkLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgY2lyY2xlIGh1bGwuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaWRlc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyBjaXJjbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5jaXJjbGUgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIG9wdGlvbnMsIG1heFNpZGVzKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBjaXJjbGUgPSB7XG4gICAgICAgICAgICBsYWJlbDogJ0NpcmNsZSBCb2R5JyxcbiAgICAgICAgICAgIGNpcmNsZVJhZGl1czogcmFkaXVzXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBhcHByb3hpbWF0ZSBjaXJjbGVzIHdpdGggcG9seWdvbnMgdW50aWwgdHJ1ZSBjaXJjbGVzIGltcGxlbWVudGVkIGluIFNBVFxuICAgICAgICBtYXhTaWRlcyA9IG1heFNpZGVzIHx8IDI1O1xuICAgICAgICB2YXIgc2lkZXMgPSBNYXRoLmNlaWwoTWF0aC5tYXgoMTAsIE1hdGgubWluKG1heFNpZGVzLCByYWRpdXMpKSk7XG5cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uOiBhbHdheXMgdXNlIGV2ZW4gbnVtYmVyIG9mIHNpZGVzIChoYWxmIHRoZSBudW1iZXIgb2YgdW5pcXVlIGF4ZXMpXG4gICAgICAgIGlmIChzaWRlcyAlIDIgPT09IDEpXG4gICAgICAgICAgICBzaWRlcyArPSAxO1xuXG4gICAgICAgIHJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBDb21tb24uZXh0ZW5kKHt9LCBjaXJjbGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWd1bGFyIHBvbHlnb24gaHVsbCB3aXRoIHRoZSBnaXZlbiBudW1iZXIgb2Ygc2lkZXMuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgcG9seWdvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lkZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IHJlZ3VsYXIgcG9seWdvbiBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLnBvbHlnb24gPSBmdW5jdGlvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmIChzaWRlcyA8IDMpXG4gICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCByYWRpdXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gc2lkZXMsXG4gICAgICAgICAgICBwYXRoID0gJycsXG4gICAgICAgICAgICBvZmZzZXQgPSB0aGV0YSAqIDAuNTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IG9mZnNldCArIChpICogdGhldGEpLFxuICAgICAgICAgICAgICAgIHh4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHl5ID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgICAgICBwYXRoICs9ICdMICcgKyB4eC50b0ZpeGVkKDMpICsgJyAnICsgeXkudG9GaXhlZCgzKSArICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2x5Z29uID0geyBcbiAgICAgICAgICAgIGxhYmVsOiAnUG9seWdvbiBCb2R5JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aChwYXRoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHtcbiAgICAgICAgICAgIHZhciBjaGFtZmVyID0gb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICAgICAgcG9seWdvbi52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocG9seWdvbi52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIFxuICAgICAgICAgICAgICAgIGNoYW1mZXIucXVhbGl0eSwgY2hhbWZlci5xdWFsaXR5TWluLCBjaGFtZmVyLnF1YWxpdHlNYXgpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHt9LCBwb2x5Z29uLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgdG8gY3JlYXRlIGEgY29tcG91bmQgYm9keSBiYXNlZCBvbiBzZXQocykgb2YgdmVydGljZXMuXG4gICAgICogXG4gICAgICogX05vdGU6XyBUbyBvcHRpb25hbGx5IGVuYWJsZSBhdXRvbWF0aWMgY29uY2F2ZSB2ZXJ0aWNlcyBkZWNvbXBvc2l0aW9uIHRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgXG4gICAgICogcGFja2FnZSBtdXN0IGJlIGZpcnN0IGluc3RhbGxlZCBhbmQgcHJvdmlkZWQgc2VlIGBDb21tb24uc2V0RGVjb21wYCwgb3RoZXJ3aXNlIHRoZSBjb252ZXggaHVsbCBvZiBlYWNoIHZlcnRleCBzZXQgd2lsbCBiZSB1c2VkLlxuICAgICAqIFxuICAgICAqIFRoZSByZXN1bHRpbmcgdmVydGljZXMgYXJlIHJlb3JpZW50YXRlZCBhYm91dCB0aGVpciBjZW50cmUgb2YgbWFzcyxcbiAgICAgKiBhbmQgb2Zmc2V0IHN1Y2ggdGhhdCBgYm9keS5wb3NpdGlvbmAgY29ycmVzcG9uZHMgdG8gdGhpcyBwb2ludC5cbiAgICAgKiBcbiAgICAgKiBUaGUgcmVzdWx0aW5nIG9mZnNldCBtYXkgYmUgZm91bmQgaWYgbmVlZGVkIGJ5IHN1YnRyYWN0aW5nIGBib2R5LmJvdW5kc2AgZnJvbSB0aGUgb3JpZ2luYWwgaW5wdXQgYm91bmRzLlxuICAgICAqIFRvIGxhdGVyIG1vdmUgdGhlIGNlbnRyZSBvZiBtYXNzIHNlZSBgQm9keS5zZXRDZW50cmVgLlxuICAgICAqIFxuICAgICAqIE5vdGUgdGhhdCBhdXRvbWF0aWMgY29uY29uY2F2ZSBkZWNvbXBvc2l0aW9uIHJlc3VsdHMgYXJlIG5vdCBhbHdheXMgb3B0aW1hbC4gXG4gICAgICogRm9yIGJlc3QgcmVzdWx0cywgc2ltcGxpZnkgdGhlIGlucHV0IHZlcnRpY2VzIGFzIG11Y2ggYXMgcG9zc2libGUgZmlyc3QuXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGZ1bmN0aW9uIGFwcGxpZXMgc29tZSBhZGR0aW9uYWwgc2ltcGxpZmljYXRpb24gdG8gaGVscC5cbiAgICAgKiBcbiAgICAgKiBTb21lIG91dHB1dHMgbWF5IGFsc28gcmVxdWlyZSBmdXJ0aGVyIG1hbnVhbCBwcm9jZXNzaW5nIGFmdGVyd2FyZHMgdG8gYmUgcm9idXN0LlxuICAgICAqIEluIHBhcnRpY3VsYXIgc29tZSBwYXJ0cyBtYXkgbmVlZCB0byBiZSBvdmVybGFwcGVkIHRvIGF2b2lkIGNvbGxpc2lvbiBnYXBzLlxuICAgICAqIFRoaW4gcGFydHMgYW5kIHNoYXJwIHBvaW50cyBzaG91bGQgYmUgYXZvaWRlZCBvciByZW1vdmVkIHdoZXJlIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIG9iamVjdCBzcGVjaWZpZXMgYW55IGBNYXR0ZXIuQm9keWAgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBmcm9tVmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHthcnJheX0gdmVydGV4U2V0cyBPbmUgb3IgbW9yZSBhcnJheXMgb2YgdmVydGV4IHBvaW50cyBlLmcuIGBbW3sgeDogMCwgeTogMCB9Li4uXSwgLi4uXWAuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBUaGUgYm9keSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2ZsYWdJbnRlcm5hbD1mYWxzZV0gT3B0aW9uYWxseSBtYXJrcyBpbnRlcm5hbCBlZGdlcyB3aXRoIGBpc0ludGVybmFsYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JlbW92ZUNvbGxpbmVhcj0wLjAxXSBUaHJlc2hvbGQgd2hlbiBzaW1wbGlmeWluZyB2ZXJ0aWNlcyBhbG9uZyB0aGUgc2FtZSBlZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluaW11bUFyZWE9MTBdIFRocmVzaG9sZCB3aGVuIHJlbW92aW5nIHNtYWxsIHBhcnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVtb3ZlRHVwbGljYXRlUG9pbnRzPTAuMDFdIFRocmVzaG9sZCB3aGVuIHNpbXBsaWZ5aW5nIG5lYXJieSB2ZXJ0aWNlcy5cbiAgICAgKiBAcmV0dXJuIHtib2R5fVxuICAgICAqL1xuICAgIEJvZGllcy5mcm9tVmVydGljZXMgPSBmdW5jdGlvbih4LCB5LCB2ZXJ0ZXhTZXRzLCBvcHRpb25zLCBmbGFnSW50ZXJuYWwsIHJlbW92ZUNvbGxpbmVhciwgbWluaW11bUFyZWEsIHJlbW92ZUR1cGxpY2F0ZVBvaW50cykge1xuICAgICAgICB2YXIgZGVjb21wID0gQ29tbW9uLmdldERlY29tcCgpLFxuICAgICAgICAgICAgY2FuRGVjb21wLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnRzLFxuICAgICAgICAgICAgaXNDb252ZXgsXG4gICAgICAgICAgICBpc0NvbmNhdmUsXG4gICAgICAgICAgICB2ZXJ0aWNlcyxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICB6O1xuXG4gICAgICAgIC8vIGNoZWNrIGRlY29tcCBpcyBhcyBleHBlY3RlZFxuICAgICAgICBjYW5EZWNvbXAgPSBCb29sZWFuKGRlY29tcCAmJiBkZWNvbXAucXVpY2tEZWNvbXApO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJ0cyA9IFtdO1xuXG4gICAgICAgIGZsYWdJbnRlcm5hbCA9IHR5cGVvZiBmbGFnSW50ZXJuYWwgIT09ICd1bmRlZmluZWQnID8gZmxhZ0ludGVybmFsIDogZmFsc2U7XG4gICAgICAgIHJlbW92ZUNvbGxpbmVhciA9IHR5cGVvZiByZW1vdmVDb2xsaW5lYXIgIT09ICd1bmRlZmluZWQnID8gcmVtb3ZlQ29sbGluZWFyIDogMC4wMTtcbiAgICAgICAgbWluaW11bUFyZWEgPSB0eXBlb2YgbWluaW11bUFyZWEgIT09ICd1bmRlZmluZWQnID8gbWluaW11bUFyZWEgOiAxMDtcbiAgICAgICAgcmVtb3ZlRHVwbGljYXRlUG9pbnRzID0gdHlwZW9mIHJlbW92ZUR1cGxpY2F0ZVBvaW50cyAhPT0gJ3VuZGVmaW5lZCcgPyByZW1vdmVEdXBsaWNhdGVQb2ludHMgOiAwLjAxO1xuXG4gICAgICAgIC8vIGVuc3VyZSB2ZXJ0ZXhTZXRzIGlzIGFuIGFycmF5IG9mIGFycmF5c1xuICAgICAgICBpZiAoIUNvbW1vbi5pc0FycmF5KHZlcnRleFNldHNbMF0pKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhTZXRzID0gW3ZlcnRleFNldHNdO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2ID0gMDsgdiA8IHZlcnRleFNldHMubGVuZ3RoOyB2ICs9IDEpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gdmVydGV4U2V0c1t2XTtcbiAgICAgICAgICAgIGlzQ29udmV4ID0gVmVydGljZXMuaXNDb252ZXgodmVydGljZXMpO1xuICAgICAgICAgICAgaXNDb25jYXZlID0gIWlzQ29udmV4O1xuXG4gICAgICAgICAgICBpZiAoaXNDb25jYXZlICYmICFjYW5EZWNvbXApIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgICAgICdCb2RpZXMuZnJvbVZlcnRpY2VzOiBJbnN0YWxsIHRoZSBcXCdwb2x5LWRlY29tcFxcJyBsaWJyYXJ5IGFuZCB1c2UgQ29tbW9uLnNldERlY29tcCBvciBwcm92aWRlIFxcJ2RlY29tcFxcJyBhcyBhIGdsb2JhbCB0byBkZWNvbXBvc2UgY29uY2F2ZSB2ZXJ0aWNlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQ29udmV4IHx8ICFjYW5EZWNvbXApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb252ZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMgPSBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0KHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFjayB0byBjb252ZXggaHVsbCB3aGVuIGRlY29tcG9zaXRpb24gaXMgbm90IHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gVmVydGljZXMuaHVsbCh2ZXJ0aWNlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpc2UgYSBkZWNvbXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGNvbmNhdmUgPSB2ZXJ0aWNlcy5tYXAoZnVuY3Rpb24odmVydGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmVydGV4LngsIHZlcnRleC55XTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHZlcnRpY2VzIGFyZSBjb25jYXZlIGFuZCBzaW1wbGUsIHdlIGNhbiBkZWNvbXBvc2UgaW50byBwYXJ0c1xuICAgICAgICAgICAgICAgIGRlY29tcC5tYWtlQ0NXKGNvbmNhdmUpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVDb2xsaW5lYXIgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBkZWNvbXAucmVtb3ZlQ29sbGluZWFyUG9pbnRzKGNvbmNhdmUsIHJlbW92ZUNvbGxpbmVhcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZUR1cGxpY2F0ZVBvaW50cyAhPT0gZmFsc2UgJiYgZGVjb21wLnJlbW92ZUR1cGxpY2F0ZVBvaW50cylcbiAgICAgICAgICAgICAgICAgICAgZGVjb21wLnJlbW92ZUR1cGxpY2F0ZVBvaW50cyhjb25jYXZlLCByZW1vdmVEdXBsaWNhdGVQb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBxdWljayBkZWNvbXBvc2l0aW9uIGFsZ29yaXRobSAoQmF5YXppdClcbiAgICAgICAgICAgICAgICB2YXIgZGVjb21wb3NlZCA9IGRlY29tcC5xdWlja0RlY29tcChjb25jYXZlKTtcblxuICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGRlY29tcG9zZWQgY2h1bmtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVjb21wb3NlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBkZWNvbXBvc2VkW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdmVydGljZXMgaW50byB0aGUgY29ycmVjdCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNodW5rVmVydGljZXMgPSBjaHVuay5tYXAoZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdmVydGljZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdmVydGljZXNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgc21hbGwgY2h1bmtzXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW5pbXVtQXJlYSA+IDAgJiYgVmVydGljZXMuYXJlYShjaHVua1ZlcnRpY2VzKSA8IG1pbmltdW1BcmVhKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgY29tcG91bmQgcGFydFxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBWZXJ0aWNlcy5jZW50cmUoY2h1bmtWZXJ0aWNlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogY2h1bmtWZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgYm9keSBwYXJ0c1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhcnRzW2ldID0gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZChwYXJ0c1tpXSwgb3B0aW9ucykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyBpbnRlcm5hbCBlZGdlcyAoY29pbmNpZGVudCBwYXJ0IGVkZ2VzKVxuICAgICAgICBpZiAoZmxhZ0ludGVybmFsKSB7XG4gICAgICAgICAgICB2YXIgY29pbmNpZGVudF9tYXhfZGlzdCA9IDU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0QSA9IHBhcnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEIgPSBwYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKHBhcnRBLmJvdW5kcywgcGFydEIuYm91bmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdiA9IHBhcnRBLnZlcnRpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBidiA9IHBhcnRCLnZlcnRpY2VzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIHZlcnRpY2VzIG9mIGJvdGggcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwYXJ0QS52ZXJ0aWNlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeiA9IDA7IHogPCBwYXJ0Qi52ZXJ0aWNlcy5sZW5ndGg7IHorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGEgPSBWZWN0b3IubWFnbml0dWRlU3F1YXJlZChWZWN0b3Iuc3ViKHBhdlsoayArIDEpICUgcGF2Lmxlbmd0aF0sIHBidlt6XSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIgPSBWZWN0b3IubWFnbml0dWRlU3F1YXJlZChWZWN0b3Iuc3ViKHBhdltrXSwgcGJ2Wyh6ICsgMSkgJSBwYnYubGVuZ3RoXSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGJvdGggdmVydGljZXMgYXJlIHZlcnkgY2xvc2UsIGNvbnNpZGVyIHRoZSBlZGdlIGNvbmNpZGVudCAoaW50ZXJuYWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYSA8IGNvaW5jaWRlbnRfbWF4X2Rpc3QgJiYgZGIgPCBjb2luY2lkZW50X21heF9kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXZba10uaXNJbnRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYnZbel0uaXNJbnRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHBhcmVudCBib2R5IHRvIGJlIHJldHVybmVkLCB0aGF0IGNvbnRhaW5zIGdlbmVyYXRlZCBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgYm9keSA9IEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBwYXJ0czogcGFydHMuc2xpY2UoMCkgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAvLyBvZmZzZXQgc3VjaCB0aGF0IGJvZHkucG9zaXRpb24gaXMgYXQgdGhlIGNlbnRyZSBvZmYgbWFzc1xuICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7IHg6IHgsIHk6IHkgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRzWzBdO1xuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5EZXRlY3RvcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGVmZmljaWVudGx5IGRldGVjdGluZyBjb2xsaXNpb25zIGJldHdlZW4gYSBsaXN0IG9mIGJvZGllcyB1c2luZyBhIGJyb2FkcGhhc2UgYWxnb3JpdGhtLlxuKlxuKiBAY2xhc3MgRGV0ZWN0b3JcbiovXG5cbnZhciBEZXRlY3RvciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERldGVjdG9yO1xuXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBDb2xsaXNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpc2lvbiBkZXRlY3Rvci5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7ZGV0ZWN0b3J9IEEgbmV3IGNvbGxpc2lvbiBkZXRlY3RvclxuICAgICAqL1xuICAgIERldGVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgYm9kaWVzOiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbnM6IFtdLFxuICAgICAgICAgICAgcGFpcnM6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3Qgb2YgYm9kaWVzIGluIHRoZSBkZXRlY3Rvci5cbiAgICAgKiBAbWV0aG9kIHNldEJvZGllc1xuICAgICAqIEBwYXJhbSB7ZGV0ZWN0b3J9IGRldGVjdG9yXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIERldGVjdG9yLnNldEJvZGllcyA9IGZ1bmN0aW9uKGRldGVjdG9yLCBib2RpZXMpIHtcbiAgICAgICAgZGV0ZWN0b3IuYm9kaWVzID0gYm9kaWVzLnNsaWNlKDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGRldGVjdG9yIGluY2x1ZGluZyBpdHMgbGlzdCBvZiBib2RpZXMuXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7ZGV0ZWN0b3J9IGRldGVjdG9yXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY2xlYXIgPSBmdW5jdGlvbihkZXRlY3Rvcikge1xuICAgICAgICBkZXRlY3Rvci5ib2RpZXMgPSBbXTtcbiAgICAgICAgZGV0ZWN0b3IuY29sbGlzaW9ucyA9IFtdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFZmZpY2llbnRseSBmaW5kcyBhbGwgY29sbGlzaW9ucyBhbW9uZyBhbGwgdGhlIGJvZGllcyBpbiBgZGV0ZWN0b3IuYm9kaWVzYCB1c2luZyBhIGJyb2FkcGhhc2UgYWxnb3JpdGhtLlxuICAgICAqIFxuICAgICAqIF9Ob3RlOl8gVGhlIHNwZWNpZmljIG9yZGVyaW5nIG9mIGNvbGxpc2lvbnMgcmV0dXJuZWQgaXMgbm90IGd1YXJhbnRlZWQgYmV0d2VlbiByZWxlYXNlcyBhbmQgbWF5IGNoYW5nZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgKiBJZiBhIHNwZWNpZmljIG9yZGVyaW5nIGlzIHJlcXVpcmVkIHRoZW4gYXBwbHkgYSBzb3J0IHRvIHRoZSByZXN1bHRpbmcgYXJyYXkuXG4gICAgICogQG1ldGhvZCBjb2xsaXNpb25zXG4gICAgICogQHBhcmFtIHtkZXRlY3Rvcn0gZGV0ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtjb2xsaXNpb25bXX0gY29sbGlzaW9uc1xuICAgICAqL1xuICAgIERldGVjdG9yLmNvbGxpc2lvbnMgPSBmdW5jdGlvbihkZXRlY3Rvcikge1xuICAgICAgICB2YXIgcGFpcnMgPSBkZXRlY3Rvci5wYWlycyxcbiAgICAgICAgICAgIGJvZGllcyA9IGRldGVjdG9yLmJvZGllcyxcbiAgICAgICAgICAgIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGgsXG4gICAgICAgICAgICBjYW5Db2xsaWRlID0gRGV0ZWN0b3IuY2FuQ29sbGlkZSxcbiAgICAgICAgICAgIGNvbGxpZGVzID0gQ29sbGlzaW9uLmNvbGxpZGVzLFxuICAgICAgICAgICAgY29sbGlzaW9ucyA9IGRldGVjdG9yLmNvbGxpc2lvbnMsXG4gICAgICAgICAgICBjb2xsaXNpb25JbmRleCA9IDAsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBib2RpZXMuc29ydChEZXRlY3Rvci5fY29tcGFyZUJvdW5kc1gpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGJvdW5kc0EgPSBib2R5QS5ib3VuZHMsXG4gICAgICAgICAgICAgICAgYm91bmRYTWF4ID0gYm9keUEuYm91bmRzLm1heC54LFxuICAgICAgICAgICAgICAgIGJvdW5kWU1heCA9IGJvZHlBLmJvdW5kcy5tYXgueSxcbiAgICAgICAgICAgICAgICBib3VuZFlNaW4gPSBib2R5QS5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgYm9keUFTdGF0aWMgPSBib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nLFxuICAgICAgICAgICAgICAgIHBhcnRzQUxlbmd0aCA9IGJvZHlBLnBhcnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBwYXJ0c0FTaW5nbGUgPSBwYXJ0c0FMZW5ndGggPT09IDE7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgYm9kaWVzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keUIgPSBib2RpZXNbal0sXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kc0IgPSBib2R5Qi5ib3VuZHM7XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmRzQi5taW4ueCA+IGJvdW5kWE1heCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmRZTWF4IDwgYm91bmRzQi5taW4ueSB8fCBib3VuZFlNaW4gPiBib3VuZHNCLm1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChib2R5QVN0YXRpYyAmJiAoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjYW5Db2xsaWRlKGJvZHlBLmNvbGxpc2lvbkZpbHRlciwgYm9keUIuY29sbGlzaW9uRmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFydHNCTGVuZ3RoID0gYm9keUIucGFydHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzQVNpbmdsZSAmJiBwYXJ0c0JMZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IGNvbGxpZGVzKGJvZHlBLCBib2R5QiwgcGFpcnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnNbY29sbGlzaW9uSW5kZXgrK10gPSBjb2xsaXNpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHNBU3RhcnQgPSBwYXJ0c0FMZW5ndGggPiAxID8gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0JTdGFydCA9IHBhcnRzQkxlbmd0aCA+IDEgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBwYXJ0c0FTdGFydDsgayA8IHBhcnRzQUxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEEgPSBib2R5QS5wYXJ0c1trXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNBID0gcGFydEEuYm91bmRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gcGFydHNCU3RhcnQ7IHogPCBwYXJ0c0JMZW5ndGg7IHorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0QiA9IGJvZHlCLnBhcnRzW3pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNCID0gcGFydEIuYm91bmRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kc0EubWluLnggPiBib3VuZHNCLm1heC54IHx8IGJvdW5kc0EubWF4LnggPCBib3VuZHNCLm1pbi54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGJvdW5kc0EubWF4LnkgPCBib3VuZHNCLm1pbi55IHx8IGJvdW5kc0EubWluLnkgPiBib3VuZHNCLm1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaWRlcyhwYXJ0QSwgcGFydEIsIHBhaXJzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uc1tjb2xsaXNpb25JbmRleCsrXSA9IGNvbGxpc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sbGlzaW9ucy5sZW5ndGggIT09IGNvbGxpc2lvbkluZGV4KSB7XG4gICAgICAgICAgICBjb2xsaXNpb25zLmxlbmd0aCA9IGNvbGxpc2lvbkluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGJvdGggc3VwcGxpZWQgY29sbGlzaW9uIGZpbHRlcnMgd2lsbCBhbGxvdyBhIGNvbGxpc2lvbiB0byBvY2N1ci5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIGNhbkNvbGxpZGVcbiAgICAgKiBAcGFyYW0ge30gZmlsdGVyQVxuICAgICAqIEBwYXJhbSB7fSBmaWx0ZXJCXG4gICAgICogQHJldHVybiB7Ym9vbH0gYHRydWVgIGlmIGNvbGxpc2lvbiBjYW4gb2NjdXJcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5jYW5Db2xsaWRlID0gZnVuY3Rpb24oZmlsdGVyQSwgZmlsdGVyQikge1xuICAgICAgICBpZiAoZmlsdGVyQS5ncm91cCA9PT0gZmlsdGVyQi5ncm91cCAmJiBmaWx0ZXJBLmdyb3VwICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckEuZ3JvdXAgPiAwO1xuXG4gICAgICAgIHJldHVybiAoZmlsdGVyQS5tYXNrICYgZmlsdGVyQi5jYXRlZ29yeSkgIT09IDAgJiYgKGZpbHRlckIubWFzayAmIGZpbHRlckEuY2F0ZWdvcnkpICE9PSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcGFyaXNvbiBmdW5jdGlvbiB1c2VkIGluIHRoZSBicm9hZHBoYXNlIGFsZ29yaXRobS5cbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgZGVsdGEgb2YgdGhlIGJvZGllcyBib3VuZHMgb24gdGhlIHgtYXhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgX3NvcnRDb21wYXJlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzaWduZWQgZGVsdGEgdXNlZCBmb3Igc29ydGluZ1xuICAgICAqL1xuICAgIERldGVjdG9yLl9jb21wYXJlQm91bmRzWCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qikge1xuICAgICAgICByZXR1cm4gYm9keUEuYm91bmRzLm1pbi54IC0gYm9keUIuYm91bmRzLm1pbi54O1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBgTWF0dGVyLkJvZHlgIGJldHdlZW4gd2hpY2ggdGhlIGRldGVjdG9yIGZpbmRzIGNvbGxpc2lvbnMuXG4gICAgICogXG4gICAgICogX05vdGU6XyBUaGUgb3JkZXIgb2YgYm9kaWVzIGluIHRoaXMgYXJyYXkgX2lzIG5vdCBmaXhlZF8gYW5kIHdpbGwgYmUgY29udGludWFsbHkgbWFuYWdlZCBieSB0aGUgZGV0ZWN0b3IuXG4gICAgICogQHByb3BlcnR5IGJvZGllc1xuICAgICAqIEB0eXBlIGJvZHlbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgYE1hdHRlci5Db2xsaXNpb25gIGZvdW5kIGluIHRoZSBsYXN0IGNhbGwgdG8gYERldGVjdG9yLmNvbGxpc2lvbnNgIG9uIHRoaXMgZGV0ZWN0b3IuXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbnNcbiAgICAgKiBAdHlwZSBjb2xsaXNpb25bXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbC4gQSBgTWF0dGVyLlBhaXJzYCBvYmplY3QgZnJvbSB3aGljaCBwcmV2aW91cyBjb2xsaXNpb24gb2JqZWN0cyBtYXkgYmUgcmV1c2VkLiBJbnRlbmRlZCBmb3IgaW50ZXJuYWwgYE1hdHRlci5FbmdpbmVgIHVzYWdlLlxuICAgICAqIEBwcm9wZXJ0eSBwYWlyc1xuICAgICAqIEB0eXBlIHtwYWlyc3xudWxsfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Nb3VzZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgbW91c2UgaW5wdXRzLlxuKlxuKiBAY2xhc3MgTW91c2VcbiovXG5cbnZhciBNb3VzZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlO1xuXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1vdXNlIGlucHV0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm4ge21vdXNlfSBBIG5ldyBtb3VzZVxuICAgICAqL1xuICAgIE1vdXNlLmNyZWF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1vdXNlID0ge307XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICBDb21tb24ubG9nKCdNb3VzZS5jcmVhdGU6IGVsZW1lbnQgd2FzIHVuZGVmaW5lZCwgZGVmYXVsdGluZyB0byBkb2N1bWVudC5ib2R5JywgJ3dhcm4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbW91c2UuZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgbW91c2UuYWJzb2x1dGUgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UucG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLm9mZnNldCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuICAgICAgICBtb3VzZS53aGVlbERlbHRhID0gMDtcbiAgICAgICAgbW91c2UuYnV0dG9uID0gLTE7XG4gICAgICAgIG1vdXNlLnBpeGVsUmF0aW8gPSBwYXJzZUludChtb3VzZS5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1waXhlbC1yYXRpbycpLCAxMCkgfHwgMTtcblxuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMgPSB7XG4gICAgICAgICAgICBtb3VzZW1vdmU6IG51bGwsXG4gICAgICAgICAgICBtb3VzZWRvd246IG51bGwsXG4gICAgICAgICAgICBtb3VzZXVwOiBudWxsLFxuICAgICAgICAgICAgbW91c2V3aGVlbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgbW91c2UubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHsgXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3VzZS5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgICAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZWRvd25Qb3NpdGlvbi55ID0gbW91c2UucG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNldXAgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gTW91c2UuX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IC0xO1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V1cCA9IGV2ZW50O1xuICAgICAgICB9O1xuXG4gICAgICAgIG1vdXNlLm1vdXNld2hlZWwgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBldmVudC53aGVlbERlbHRhIHx8IC1ldmVudC5kZXRhaWwpKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V3aGVlbCA9IGV2ZW50O1xuICAgICAgICB9O1xuXG4gICAgICAgIE1vdXNlLnNldEVsZW1lbnQobW91c2UsIG1vdXNlLmVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiBtb3VzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZWxlbWVudCB0aGUgbW91c2UgaXMgYm91bmQgdG8gKGFuZCByZWxhdGl2ZSB0bykuXG4gICAgICogQG1ldGhvZCBzZXRFbGVtZW50XG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgTW91c2Uuc2V0RWxlbWVudCA9IGZ1bmN0aW9uKG1vdXNlLCBlbGVtZW50KSB7XG4gICAgICAgIG1vdXNlLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2UubW91c2Vtb3ZlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2UubW91c2Vkb3duLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlLm1vdXNldXAsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBtb3VzZS5tb3VzZXdoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBtb3VzZS5tb3VzZW1vdmUsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vdXNlLm1vdXNlZG93biwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG1vdXNlLm1vdXNldXAsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY2FwdHVyZWQgc291cmNlIGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIGNsZWFyU291cmNlRXZlbnRzXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKi9cbiAgICBNb3VzZS5jbGVhclNvdXJjZUV2ZW50cyA9IGZ1bmN0aW9uKG1vdXNlKSB7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2Vkb3duID0gbnVsbDtcbiAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNldXAgPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V3aGVlbCA9IG51bGw7XG4gICAgICAgIG1vdXNlLndoZWVsRGVsdGEgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiBvZmZzZXQuXG4gICAgICogQG1ldGhvZCBzZXRPZmZzZXRcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBvZmZzZXRcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRPZmZzZXQgPSBmdW5jdGlvbihtb3VzZSwgb2Zmc2V0KSB7XG4gICAgICAgIG1vdXNlLm9mZnNldC54ID0gb2Zmc2V0Lng7XG4gICAgICAgIG1vdXNlLm9mZnNldC55ID0gb2Zmc2V0Lnk7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbW91c2UgcG9zaXRpb24gc2NhbGUuXG4gICAgICogQG1ldGhvZCBzZXRTY2FsZVxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHNjYWxlXG4gICAgICovXG4gICAgTW91c2Uuc2V0U2NhbGUgPSBmdW5jdGlvbihtb3VzZSwgc2NhbGUpIHtcbiAgICAgICAgbW91c2Uuc2NhbGUueCA9IHNjYWxlLng7XG4gICAgICAgIG1vdXNlLnNjYWxlLnkgPSBzY2FsZS55O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBhbiBlbGVtZW50IGdpdmVuIGEgc2NyZWVuIHBpeGVsIHJhdGlvLlxuICAgICAqIEBtZXRob2QgX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGV2ZW50XG4gICAgICogQHBhcmFtIHt9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpb1xuICAgICAqIEByZXR1cm4ge31cbiAgICAgKi9cbiAgICBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQsIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIGVsZW1lbnRCb3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgcm9vdE5vZGUgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgIHNjcm9sbFggPSAod2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VYT2Zmc2V0IDogcm9vdE5vZGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHNjcm9sbFkgPSAod2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogcm9vdE5vZGUuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICAgICAgeCwgeTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICB4ID0gdG91Y2hlc1swXS5wYWdlWCAtIGVsZW1lbnRCb3VuZHMubGVmdCAtIHNjcm9sbFg7XG4gICAgICAgICAgICB5ID0gdG91Y2hlc1swXS5wYWdlWSAtIGVsZW1lbnRCb3VuZHMudG9wIC0gc2Nyb2xsWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBldmVudC5wYWdlWCAtIGVsZW1lbnRCb3VuZHMubGVmdCAtIHNjcm9sbFg7XG4gICAgICAgICAgICB5ID0gZXZlbnQucGFnZVkgLSBlbGVtZW50Qm91bmRzLnRvcCAtIHNjcm9sbFk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIHg6IHggLyAoZWxlbWVudC5jbGllbnRXaWR0aCAvIChlbGVtZW50LndpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGgpICogcGl4ZWxSYXRpbyksXG4gICAgICAgICAgICB5OiB5IC8gKGVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gKGVsZW1lbnQuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0KSAqIHBpeGVsUmF0aW8pXG4gICAgICAgIH07XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5QbHVnaW5gIG1vZHVsZSBjb250YWlucyBmdW5jdGlvbnMgZm9yIHJlZ2lzdGVyaW5nIGFuZCBpbnN0YWxsaW5nIHBsdWdpbnMgb24gbW9kdWxlcy5cbipcbiogQGNsYXNzIFBsdWdpblxuKi9cblxudmFyIFBsdWdpbiA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBsdWdpbjtcblxudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIFBsdWdpbi5fcmVnaXN0cnkgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHBsdWdpbiBvYmplY3Qgc28gaXQgY2FuIGJlIHJlc29sdmVkIGxhdGVyIGJ5IG5hbWUuXG4gICAgICogQG1ldGhvZCByZWdpc3RlclxuICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUGx1Z2luLnJlZ2lzdGVyID0gZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgIGlmICghUGx1Z2luLmlzUGx1Z2luKHBsdWdpbikpIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdkb2VzIG5vdCBpbXBsZW1lbnQgYWxsIHJlcXVpcmVkIGZpZWxkcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbHVnaW4ubmFtZSBpbiBQbHVnaW4uX3JlZ2lzdHJ5KSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZCA9IFBsdWdpbi5fcmVnaXN0cnlbcGx1Z2luLm5hbWVdLFxuICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb24gPSBQbHVnaW4udmVyc2lvblBhcnNlKHBsdWdpbi52ZXJzaW9uKS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZFZlcnNpb24gPSBQbHVnaW4udmVyc2lvblBhcnNlKHJlZ2lzdGVyZWQudmVyc2lvbikubnVtYmVyO1xuXG4gICAgICAgICAgICBpZiAocGx1Z2luVmVyc2lvbiA+IHJlZ2lzdGVyZWRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocmVnaXN0ZXJlZCksICd3YXMgdXBncmFkZWQgdG8nLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICAgICAgUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0gPSBwbHVnaW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsdWdpblZlcnNpb24gPCByZWdpc3RlcmVkVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHJlZ2lzdGVyZWQpLCAnY2FuIG5vdCBiZSBkb3duZ3JhZGVkIHRvJywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gIT09IHJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnJlZ2lzdGVyOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnaXMgYWxyZWFkeSByZWdpc3RlcmVkIHRvIGRpZmZlcmVudCBwbHVnaW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBQbHVnaW4uX3JlZ2lzdHJ5W3BsdWdpbi5uYW1lXSA9IHBsdWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbHVnaW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGEgZGVwZW5kZW5jeSB0byBhIHBsdWdpbiBvYmplY3QgZnJvbSB0aGUgcmVnaXN0cnkgaWYgaXQgZXhpc3RzLiBcbiAgICAgKiBUaGUgYGRlcGVuZGVuY3lgIG1heSBjb250YWluIGEgdmVyc2lvbiwgYnV0IG9ubHkgdGhlIG5hbWUgbWF0dGVycyB3aGVuIHJlc29sdmluZy5cbiAgICAgKiBAbWV0aG9kIHJlc29sdmVcbiAgICAgKiBAcGFyYW0gZGVwZW5kZW5jeSB7c3RyaW5nfSBUaGUgZGVwZW5kZW5jeS5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBwbHVnaW4gaWYgcmVzb2x2ZWQsIG90aGVyd2lzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBQbHVnaW4ucmVzb2x2ZSA9IGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgcmV0dXJuIFBsdWdpbi5fcmVnaXN0cnlbUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShkZXBlbmRlbmN5KS5uYW1lXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByZXR0eSBwcmludGVkIHBsdWdpbiBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgICAqIEBtZXRob2QgdG9TdHJpbmdcbiAgICAgKiBAcGFyYW0gcGx1Z2luIHt9IFRoZSBwbHVnaW4uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBQcmV0dHkgcHJpbnRlZCBwbHVnaW4gbmFtZSBhbmQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBQbHVnaW4udG9TdHJpbmcgPSBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwbHVnaW4gPT09ICdzdHJpbmcnID8gcGx1Z2luIDogKHBsdWdpbi5uYW1lIHx8ICdhbm9ueW1vdXMnKSArICdAJyArIChwbHVnaW4udmVyc2lvbiB8fCBwbHVnaW4ucmFuZ2UgfHwgJzAuMC4wJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgbWVldHMgdGhlIG1pbmltdW0gc3RhbmRhcmQgdG8gYmUgY29uc2lkZXJlZCBhIHBsdWdpbi5cbiAgICAgKiBUaGlzIG1lYW5zIGl0IG11c3QgZGVmaW5lIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAtIGBuYW1lYFxuICAgICAqIC0gYHZlcnNpb25gXG4gICAgICogLSBgaW5zdGFsbGBcbiAgICAgKiBAbWV0aG9kIGlzUGx1Z2luXG4gICAgICogQHBhcmFtIG9iaiB7fSBUaGUgb2JqIHRvIHRlc3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgY2FuIGJlIGNvbnNpZGVyZWQgYSBwbHVnaW4gb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgUGx1Z2luLmlzUGx1Z2luID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLm5hbWUgJiYgb2JqLnZlcnNpb24gJiYgb2JqLmluc3RhbGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGEgcGx1Z2luIHdpdGggdGhlIGdpdmVuIGBuYW1lYCBiZWVuIGluc3RhbGxlZCBvbiBgbW9kdWxlYC5cbiAgICAgKiBAbWV0aG9kIGlzVXNlZFxuICAgICAqIEBwYXJhbSBtb2R1bGUge30gVGhlIG1vZHVsZS5cbiAgICAgKiBAcGFyYW0gbmFtZSB7c3RyaW5nfSBUaGUgcGx1Z2luIG5hbWUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGEgcGx1Z2luIHdpdGggdGhlIGdpdmVuIGBuYW1lYCBiZWVuIGluc3RhbGxlZCBvbiBgbW9kdWxlYCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgUGx1Z2luLmlzVXNlZCA9IGZ1bmN0aW9uKG1vZHVsZSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlLnVzZWQuaW5kZXhPZihuYW1lKSA+IC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgcGx1Z2luLmZvcmAgaXMgYXBwbGljYWJsZSB0byBgbW9kdWxlYCBieSBjb21wYXJpbmcgYWdhaW5zdCBgbW9kdWxlLm5hbWVgIGFuZCBgbW9kdWxlLnZlcnNpb25gLlxuICAgICAqIElmIGBwbHVnaW4uZm9yYCBpcyBub3Qgc3BlY2lmaWVkIHRoZW4gaXQgaXMgYXNzdW1lZCB0byBiZSBhcHBsaWNhYmxlLlxuICAgICAqIFRoZSB2YWx1ZSBvZiBgcGx1Z2luLmZvcmAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuXG4gICAgICogQG1ldGhvZCBpc0ZvclxuICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGBwbHVnaW4uZm9yYCBpcyBhcHBsaWNhYmxlIHRvIGBtb2R1bGVgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4uaXNGb3IgPSBmdW5jdGlvbihwbHVnaW4sIG1vZHVsZSkge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGx1Z2luLmZvciAmJiBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKHBsdWdpbi5mb3IpO1xuICAgICAgICByZXR1cm4gIXBsdWdpbi5mb3IgfHwgKG1vZHVsZS5uYW1lID09PSBwYXJzZWQubmFtZSAmJiBQbHVnaW4udmVyc2lvblNhdGlzZmllcyhtb2R1bGUudmVyc2lvbiwgcGFyc2VkLnJhbmdlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbGxzIHRoZSBwbHVnaW5zIGJ5IGNhbGxpbmcgYHBsdWdpbi5pbnN0YWxsYCBvbiBlYWNoIHBsdWdpbiBzcGVjaWZpZWQgaW4gYHBsdWdpbnNgIGlmIHBhc3NlZCwgb3RoZXJ3aXNlIGBtb2R1bGUudXNlc2AuXG4gICAgICogRm9yIGluc3RhbGxpbmcgcGx1Z2lucyBvbiBgTWF0dGVyYCBzZWUgdGhlIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGBNYXR0ZXIudXNlYC5cbiAgICAgKiBQbHVnaW5zIG1heSBiZSBzcGVjaWZpZWQgZWl0aGVyIGJ5IHRoZWlyIG5hbWUgb3IgYSByZWZlcmVuY2UgdG8gdGhlIHBsdWdpbiBvYmplY3QuXG4gICAgICogUGx1Z2lucyB0aGVtc2VsdmVzIG1heSBzcGVjaWZ5IGZ1cnRoZXIgZGVwZW5kZW5jaWVzLCBidXQgZWFjaCBwbHVnaW4gaXMgaW5zdGFsbGVkIG9ubHkgb25jZS5cbiAgICAgKiBPcmRlciBpcyBpbXBvcnRhbnQsIGEgdG9wb2xvZ2ljYWwgc29ydCBpcyBwZXJmb3JtZWQgdG8gZmluZCB0aGUgYmVzdCByZXN1bHRpbmcgb3JkZXIgb2YgaW5zdGFsbGF0aW9uLlxuICAgICAqIFRoaXMgc29ydGluZyBhdHRlbXB0cyB0byBzYXRpc2Z5IGV2ZXJ5IGRlcGVuZGVuY3kncyByZXF1ZXN0ZWQgb3JkZXJpbmcsIGJ1dCBtYXkgbm90IGJlIGV4YWN0IGluIGFsbCBjYXNlcy5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvZ3MgdGhlIHJlc3VsdGluZyBzdGF0dXMgb2YgZWFjaCBkZXBlbmRlbmN5IGluIHRoZSBjb25zb2xlLCBhbG9uZyB3aXRoIGFueSB3YXJuaW5ncy5cbiAgICAgKiAtIEEgZ3JlZW4gdGljayDinIUgaW5kaWNhdGVzIGEgZGVwZW5kZW5jeSB3YXMgcmVzb2x2ZWQgYW5kIGluc3RhbGxlZC5cbiAgICAgKiAtIEFuIG9yYW5nZSBkaWFtb25kIPCflLYgaW5kaWNhdGVzIGEgZGVwZW5kZW5jeSB3YXMgcmVzb2x2ZWQgYnV0IGEgd2FybmluZyB3YXMgdGhyb3duIGZvciBpdCBvciBvbmUgaWYgaXRzIGRlcGVuZGVuY2llcy5cbiAgICAgKiAtIEEgcmVkIGNyb3NzIOKdjCBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IGNvdWxkIG5vdCBiZSByZXNvbHZlZC5cbiAgICAgKiBBdm9pZCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgbW9kdWxlIHVubGVzcyB5b3UgaW50ZW5kIHRvIG1hbnVhbGx5IGNvbnRyb2wgaW5zdGFsbGF0aW9uIG9yZGVyLlxuICAgICAqIEBtZXRob2QgdXNlXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlIGluc3RhbGwgcGx1Z2lucyBvbi5cbiAgICAgKiBAcGFyYW0gW3BsdWdpbnM9bW9kdWxlLnVzZXNdIHt9IFRoZSBwbHVnaW5zIHRvIGluc3RhbGwgb24gbW9kdWxlIChvcHRpb25hbCwgZGVmYXVsdHMgdG8gYG1vZHVsZS51c2VzYCkuXG4gICAgICovXG4gICAgUGx1Z2luLnVzZSA9IGZ1bmN0aW9uKG1vZHVsZSwgcGx1Z2lucykge1xuICAgICAgICBtb2R1bGUudXNlcyA9IChtb2R1bGUudXNlcyB8fCBbXSkuY29uY2F0KHBsdWdpbnMgfHwgW10pO1xuXG4gICAgICAgIGlmIChtb2R1bGUudXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udXNlOicsIFBsdWdpbi50b1N0cmluZyhtb2R1bGUpLCAnZG9lcyBub3Qgc3BlY2lmeSBhbnkgZGVwZW5kZW5jaWVzIHRvIGluc3RhbGwuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gUGx1Z2luLmRlcGVuZGVuY2llcyhtb2R1bGUpLFxuICAgICAgICAgICAgc29ydGVkRGVwZW5kZW5jaWVzID0gQ29tbW9uLnRvcG9sb2dpY2FsU29ydChkZXBlbmRlbmNpZXMpLFxuICAgICAgICAgICAgc3RhdHVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmIChzb3J0ZWREZXBlbmRlbmNpZXNbaV0gPT09IG1vZHVsZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBQbHVnaW4ucmVzb2x2ZShzb3J0ZWREZXBlbmRlbmNpZXNbaV0pO1xuXG4gICAgICAgICAgICBpZiAoIXBsdWdpbikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5wdXNoKCfinYwgJyArIHNvcnRlZERlcGVuZGVuY2llc1tpXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbHVnaW4uaXNVc2VkKG1vZHVsZSwgcGx1Z2luLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghUGx1Z2luLmlzRm9yKHBsdWdpbiwgbW9kdWxlKSkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udXNlOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnaXMgZm9yJywgcGx1Z2luLmZvciwgJ2J1dCBpbnN0YWxsZWQgb24nLCBQbHVnaW4udG9TdHJpbmcobW9kdWxlKSArICcuJyk7XG4gICAgICAgICAgICAgICAgcGx1Z2luLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChtb2R1bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2RvZXMgbm90IHNwZWNpZnkgYW4gaW5zdGFsbCBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgICAgICBwbHVnaW4uX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW4uX3dhcm5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5wdXNoKCfwn5S2ICcgKyBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBsdWdpbi5fd2FybmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn4pyFICcgKyBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZHVsZS51c2VkLnB1c2gocGx1Z2luLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBDb21tb24uaW5mbyhzdGF0dXMuam9pbignICAnKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmluZHMgYWxsIG9mIGEgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzIGFuZCByZXR1cm5zIGEgZmxhdCBkZXBlbmRlbmN5IGdyYXBoLlxuICAgICAqIEBtZXRob2QgZGVwZW5kZW5jaWVzXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gQSBkZXBlbmRlbmN5IGdyYXBoLlxuICAgICAqL1xuICAgIFBsdWdpbi5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbihtb2R1bGUsIHRyYWNrZWQpIHtcbiAgICAgICAgdmFyIHBhcnNlZEJhc2UgPSBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKG1vZHVsZSksXG4gICAgICAgICAgICBuYW1lID0gcGFyc2VkQmFzZS5uYW1lO1xuXG4gICAgICAgIHRyYWNrZWQgPSB0cmFja2VkIHx8IHt9O1xuXG4gICAgICAgIGlmIChuYW1lIGluIHRyYWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vZHVsZSA9IFBsdWdpbi5yZXNvbHZlKG1vZHVsZSkgfHwgbW9kdWxlO1xuXG4gICAgICAgIHRyYWNrZWRbbmFtZV0gPSBDb21tb24ubWFwKG1vZHVsZS51c2VzIHx8IFtdLCBmdW5jdGlvbihkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICBpZiAoUGx1Z2luLmlzUGx1Z2luKGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgICAgUGx1Z2luLnJlZ2lzdGVyKGRlcGVuZGVuY3kpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShkZXBlbmRlbmN5KSxcbiAgICAgICAgICAgICAgICByZXNvbHZlZCA9IFBsdWdpbi5yZXNvbHZlKGRlcGVuZGVuY3kpO1xuXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWQgJiYgIVBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzKHJlc29sdmVkLnZlcnNpb24sIHBhcnNlZC5yYW5nZSkpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybihcbiAgICAgICAgICAgICAgICAgICAgJ1BsdWdpbi5kZXBlbmRlbmNpZXM6JywgUGx1Z2luLnRvU3RyaW5nKHJlc29sdmVkKSwgJ2RvZXMgbm90IHNhdGlzZnknLFxuICAgICAgICAgICAgICAgICAgICBQbHVnaW4udG9TdHJpbmcocGFyc2VkKSwgJ3VzZWQgYnknLCBQbHVnaW4udG9TdHJpbmcocGFyc2VkQmFzZSkgKyAnLidcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWQuX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbW9kdWxlLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybihcbiAgICAgICAgICAgICAgICAgICAgJ1BsdWdpbi5kZXBlbmRlbmNpZXM6JywgUGx1Z2luLnRvU3RyaW5nKGRlcGVuZGVuY3kpLCAndXNlZCBieScsXG4gICAgICAgICAgICAgICAgICAgIFBsdWdpbi50b1N0cmluZyhwYXJzZWRCYXNlKSwgJ2NvdWxkIG5vdCBiZSByZXNvbHZlZC4nXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG1vZHVsZS5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZC5uYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrZWRbbmFtZV0ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIFBsdWdpbi5kZXBlbmRlbmNpZXModHJhY2tlZFtuYW1lXVtpXSwgdHJhY2tlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhY2tlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZGVwZW5kZW5jeSBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy5cbiAgICAgKiBUaGUgYGRlcGVuZGVuY3lgIGlzIGEgc3RyaW5nIG9mIHRoZSBmb3JtYXQgYCdtb2R1bGUtbmFtZSdgIG9yIGAnbW9kdWxlLW5hbWVAdmVyc2lvbidgLlxuICAgICAqIFNlZSBkb2N1bWVudGF0aW9uIGZvciBgUGx1Z2luLnZlcnNpb25QYXJzZWAgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBhbHNvIGhhbmRsZSBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgYWxyZWFkeSByZXNvbHZlZCAoZS5nLiBhIG1vZHVsZSBvYmplY3QpLlxuICAgICAqIEBtZXRob2QgZGVwZW5kZW5jeVBhcnNlXG4gICAgICogQHBhcmFtIGRlcGVuZGVuY3kge3N0cmluZ30gVGhlIGRlcGVuZGVuY3kgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgZGVwZW5kZW5jeSBwYXJzZWQgaW50byBpdHMgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlID0gZnVuY3Rpb24oZGVwZW5kZW5jeSkge1xuICAgICAgICBpZiAoQ29tbW9uLmlzU3RyaW5nKGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IC9eW1xcdy1dKyhAKFxcKnxbXFxefl0/XFxkK1xcLlxcZCtcXC5cXGQrKC1bMC05QS1aYS16LStdKyk/KSk/JC87XG5cbiAgICAgICAgICAgIGlmICghcGF0dGVybi50ZXN0KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5kZXBlbmRlbmN5UGFyc2U6JywgZGVwZW5kZW5jeSwgJ2lzIG5vdCBhIHZhbGlkIGRlcGVuZGVuY3kgc3RyaW5nLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGRlcGVuZGVuY3kuc3BsaXQoJ0AnKVswXSxcbiAgICAgICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5zcGxpdCgnQCcpWzFdIHx8ICcqJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBkZXBlbmRlbmN5Lm5hbWUsXG4gICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5yYW5nZSB8fCBkZXBlbmRlbmN5LnZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgdmVyc2lvbiBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy4gIFxuICAgICAqIFZlcnNpb25zIGFyZSBzdHJpY3RseSBvZiB0aGUgZm9ybWF0IGB4LnkuemAgKGFzIGluIFtzZW12ZXJdKGh0dHA6Ly9zZW12ZXIub3JnLykpLlxuICAgICAqIFZlcnNpb25zIG1heSBvcHRpb25hbGx5IGhhdmUgYSBwcmVyZWxlYXNlIHRhZyBpbiB0aGUgZm9ybWF0IGB4Lnkuei1hbHBoYWAuXG4gICAgICogUmFuZ2VzIGFyZSBhIHN0cmljdCBzdWJzZXQgb2YgW25wbSByYW5nZXNdKGh0dHBzOi8vZG9jcy5ucG1qcy5jb20vbWlzYy9zZW12ZXIjYWR2YW5jZWQtcmFuZ2Utc3ludGF4KS5cbiAgICAgKiBPbmx5IHRoZSBmb2xsb3dpbmcgcmFuZ2UgdHlwZXMgYXJlIHN1cHBvcnRlZDpcbiAgICAgKiAtIFRpbGRlIHJhbmdlcyBlLmcuIGB+MS4yLjNgXG4gICAgICogLSBDYXJldCByYW5nZXMgZS5nLiBgXjEuMi4zYFxuICAgICAqIC0gR3JlYXRlciB0aGFuIHJhbmdlcyBlLmcuIGA+MS4yLjNgXG4gICAgICogLSBHcmVhdGVyIHRoYW4gb3IgZXF1YWwgcmFuZ2VzIGUuZy4gYD49MS4yLjNgXG4gICAgICogLSBFeGFjdCB2ZXJzaW9uIGUuZy4gYDEuMi4zYFxuICAgICAqIC0gQW55IHZlcnNpb24gYCpgXG4gICAgICogQG1ldGhvZCB2ZXJzaW9uUGFyc2VcbiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHZlcnNpb24gc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHZlcnNpb24gcmFuZ2UgcGFyc2VkIGludG8gaXRzIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgUGx1Z2luLnZlcnNpb25QYXJzZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gL14oXFwqKXwoXFxefH58Pj18Pik/XFxzKigoXFxkKylcXC4oXFxkKylcXC4oXFxkKykpKC1bMC05QS1aYS16LStdKyk/JC87XG5cbiAgICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QocmFuZ2UpKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnZlcnNpb25QYXJzZTonLCByYW5nZSwgJ2lzIG5vdCBhIHZhbGlkIHZlcnNpb24gb3IgcmFuZ2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFydHMgPSBwYXR0ZXJuLmV4ZWMocmFuZ2UpO1xuICAgICAgICB2YXIgbWFqb3IgPSBOdW1iZXIocGFydHNbNF0pO1xuICAgICAgICB2YXIgbWlub3IgPSBOdW1iZXIocGFydHNbNV0pO1xuICAgICAgICB2YXIgcGF0Y2ggPSBOdW1iZXIocGFydHNbNl0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1JhbmdlOiBCb29sZWFuKHBhcnRzWzFdIHx8IHBhcnRzWzJdKSxcbiAgICAgICAgICAgIHZlcnNpb246IHBhcnRzWzNdLFxuICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgb3BlcmF0b3I6IHBhcnRzWzFdIHx8IHBhcnRzWzJdIHx8ICcnLFxuICAgICAgICAgICAgbWFqb3I6IG1ham9yLFxuICAgICAgICAgICAgbWlub3I6IG1pbm9yLFxuICAgICAgICAgICAgcGF0Y2g6IHBhdGNoLFxuICAgICAgICAgICAgcGFydHM6IFttYWpvciwgbWlub3IsIHBhdGNoXSxcbiAgICAgICAgICAgIHByZXJlbGVhc2U6IHBhcnRzWzddLFxuICAgICAgICAgICAgbnVtYmVyOiBtYWpvciAqIDFlOCArIG1pbm9yICogMWU0ICsgcGF0Y2hcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYHZlcnNpb25gIHNhdGlzZmllcyB0aGUgZ2l2ZW4gYHJhbmdlYC5cbiAgICAgKiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgYFBsdWdpbi52ZXJzaW9uUGFyc2VgIGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBmb3JtYXQuXG4gICAgICogSWYgYSB2ZXJzaW9uIG9yIHJhbmdlIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gYW55IHZlcnNpb24gKGAqYCkgaXMgYXNzdW1lZCB0byBzYXRpc2Z5LlxuICAgICAqIEBtZXRob2QgdmVyc2lvblNhdGlzZmllc1xuICAgICAqIEBwYXJhbSB2ZXJzaW9uIHtzdHJpbmd9IFRoZSB2ZXJzaW9uIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHJhbmdlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYHZlcnNpb25gIHNhdGlzZmllcyBgcmFuZ2VgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4udmVyc2lvblNhdGlzZmllcyA9IGZ1bmN0aW9uKHZlcnNpb24sIHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gcmFuZ2UgfHwgJyonO1xuXG4gICAgICAgIHZhciByID0gUGx1Z2luLnZlcnNpb25QYXJzZShyYW5nZSksXG4gICAgICAgICAgICB2ID0gUGx1Z2luLnZlcnNpb25QYXJzZSh2ZXJzaW9uKTtcblxuICAgICAgICBpZiAoci5pc1JhbmdlKSB7XG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJyonIHx8IHZlcnNpb24gPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubnVtYmVyID4gci5udW1iZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnPj0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubnVtYmVyID49IHIubnVtYmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJ34nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubWFqb3IgPT09IHIubWFqb3IgJiYgdi5taW5vciA9PT0gci5taW5vciAmJiB2LnBhdGNoID49IHIucGF0Y2g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnXicpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5tYWpvciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYubWFqb3IgPT09IHIubWFqb3IgJiYgdi5udW1iZXIgPj0gci5udW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHIubWlub3IgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2Lm1pbm9yID09PSByLm1pbm9yICYmIHYucGF0Y2ggPj0gci5wYXRjaDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdi5wYXRjaCA9PT0gci5wYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJzaW9uID09PSByYW5nZSB8fCB2ZXJzaW9uID09PSAnKic7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Db250YWN0YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gY29udGFjdHMuXG4qXG4qIEBjbGFzcyBDb250YWN0XG4qL1xuXG52YXIgQ29udGFjdCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRhY3Q7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29udGFjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGV4fSBbdmVydGV4XVxuICAgICAqIEByZXR1cm4ge2NvbnRhY3R9IEEgbmV3IGNvbnRhY3RcbiAgICAgKi9cbiAgICBDb250YWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKHZlcnRleCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVydGV4OiB2ZXJ0ZXgsXG4gICAgICAgICAgICBub3JtYWxJbXB1bHNlOiAwLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2U6IDBcbiAgICAgICAgfTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkVuZ2luZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgZW5naW5lcy5cbiogQW4gZW5naW5lIGlzIGEgY29udHJvbGxlciB0aGF0IG1hbmFnZXMgdXBkYXRpbmcgdGhlIHNpbXVsYXRpb24gb2YgdGhlIHdvcmxkLlxuKiBTZWUgYE1hdHRlci5SdW5uZXJgIGZvciBhbiBvcHRpb25hbCBnYW1lIGxvb3AgdXRpbGl0eS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIEVuZ2luZVxuKi9cblxudmFyIEVuZ2luZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVuZ2luZTtcblxudmFyIFNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBSZXNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIERldGVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgUGFpcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIENvbXBvc2l0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG52YXIgQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIEVuZ2luZS5fZGVsdGFNYXggPSAxMDAwIC8gNjA7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGVuZ2luZS4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgRW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgcG9zaXRpb25JdGVyYXRpb25zOiA2LFxuICAgICAgICAgICAgdmVsb2NpdHlJdGVyYXRpb25zOiA0LFxuICAgICAgICAgICAgY29uc3RyYWludEl0ZXJhdGlvbnM6IDIsXG4gICAgICAgICAgICBlbmFibGVTbGVlcGluZzogZmFsc2UsXG4gICAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgICAgcGx1Z2luOiB7fSxcbiAgICAgICAgICAgIGdyYXZpdHk6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDEsXG4gICAgICAgICAgICAgICAgc2NhbGU6IDAuMDAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGltaW5nOiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgICAgICAgICAgICBsYXN0RGVsdGE6IDAsXG4gICAgICAgICAgICAgICAgbGFzdEVsYXBzZWQ6IDAsXG4gICAgICAgICAgICAgICAgbGFzdFVwZGF0ZXNQZXJGcmFtZTogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbmdpbmUgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBlbmdpbmUud29ybGQgPSBvcHRpb25zLndvcmxkIHx8IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ1dvcmxkJyB9KTtcbiAgICAgICAgZW5naW5lLnBhaXJzID0gb3B0aW9ucy5wYWlycyB8fCBQYWlycy5jcmVhdGUoKTtcbiAgICAgICAgZW5naW5lLmRldGVjdG9yID0gb3B0aW9ucy5kZXRlY3RvciB8fCBEZXRlY3Rvci5jcmVhdGUoKTtcbiAgICAgICAgZW5naW5lLmRldGVjdG9yLnBhaXJzID0gZW5naW5lLnBhaXJzO1xuXG4gICAgICAgIC8vIGZvciB0ZW1wb3JhcnkgYmFjayBjb21wYXRpYmlsaXR5IG9ubHlcbiAgICAgICAgZW5naW5lLmdyaWQgPSB7IGJ1Y2tldHM6IFtdIH07XG4gICAgICAgIGVuZ2luZS53b3JsZC5ncmF2aXR5ID0gZW5naW5lLmdyYXZpdHk7XG4gICAgICAgIGVuZ2luZS5icm9hZHBoYXNlID0gZW5naW5lLmdyaWQ7XG4gICAgICAgIGVuZ2luZS5tZXRyaWNzID0ge307XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZW5naW5lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgc2ltdWxhdGlvbiBmb3J3YXJkIGluIHRpbWUgYnkgYGRlbHRhYCBtaWxsaXNlY29uZHMuXG4gICAgICogVHJpZ2dlcnMgYGJlZm9yZVVwZGF0ZWAsIGBiZWZvcmVTb2x2ZWAgYW5kIGBhZnRlclVwZGF0ZWAgZXZlbnRzLlxuICAgICAqIFRyaWdnZXJzIGBjb2xsaXNpb25TdGFydGAsIGBjb2xsaXNpb25BY3RpdmVgIGFuZCBgY29sbGlzaW9uRW5kYCBldmVudHMuXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YT0xNi42NjZdXG4gICAgICovXG4gICAgRW5naW5lLnVwZGF0ZSA9IGZ1bmN0aW9uKGVuZ2luZSwgZGVsdGEpIHtcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IENvbW1vbi5ub3coKTtcblxuICAgICAgICB2YXIgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBkZXRlY3RvciA9IGVuZ2luZS5kZXRlY3RvcixcbiAgICAgICAgICAgIHBhaXJzID0gZW5naW5lLnBhaXJzLFxuICAgICAgICAgICAgdGltaW5nID0gZW5naW5lLnRpbWluZyxcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHRpbWluZy50aW1lc3RhbXAsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIHdhcm4gaWYgaGlnaCBkZWx0YVxuICAgICAgICBpZiAoZGVsdGEgPiBFbmdpbmUuX2RlbHRhTWF4KSB7XG4gICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgJ01hdHRlci5FbmdpbmUudXBkYXRlOiBkZWx0YSBhcmd1bWVudCBpcyByZWNvbW1lbmRlZCB0byBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8nLCBFbmdpbmUuX2RlbHRhTWF4LnRvRml4ZWQoMyksICdtcy4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsdGEgPSB0eXBlb2YgZGVsdGEgIT09ICd1bmRlZmluZWQnID8gZGVsdGEgOiBDb21tb24uX2Jhc2VEZWx0YTtcbiAgICAgICAgZGVsdGEgKj0gdGltaW5nLnRpbWVTY2FsZTtcblxuICAgICAgICAvLyBpbmNyZW1lbnQgdGltZXN0YW1wXG4gICAgICAgIHRpbWluZy50aW1lc3RhbXAgKz0gZGVsdGE7XG4gICAgICAgIHRpbWluZy5sYXN0RGVsdGEgPSBkZWx0YTtcblxuICAgICAgICAvLyBjcmVhdGUgYW4gZXZlbnQgb2JqZWN0XG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGRlbHRhOiBkZWx0YVxuICAgICAgICB9O1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGV2ZW50KTtcblxuICAgICAgICAvLyBnZXQgYWxsIGJvZGllcyBhbmQgYWxsIGNvbnN0cmFpbnRzIGluIHRoZSB3b3JsZFxuICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksXG4gICAgICAgICAgICBhbGxDb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHdvcmxkIGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmICh3b3JsZC5pc01vZGlmaWVkKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRldGVjdG9yIGJvZGllc1xuICAgICAgICAgICAgRGV0ZWN0b3Iuc2V0Qm9kaWVzKGRldGVjdG9yLCBhbGxCb2RpZXMpO1xuXG4gICAgICAgICAgICAvLyByZXNldCBhbGwgY29tcG9zaXRlIG1vZGlmaWVkIGZsYWdzXG4gICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQod29ybGQsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgc2xlZXBpbmcgaWYgZW5hYmxlZFxuICAgICAgICBpZiAoZW5naW5lLmVuYWJsZVNsZWVwaW5nKVxuICAgICAgICAgICAgU2xlZXBpbmcudXBkYXRlKGFsbEJvZGllcywgZGVsdGEpO1xuXG4gICAgICAgIC8vIGFwcGx5IGdyYXZpdHkgdG8gYWxsIGJvZGllc1xuICAgICAgICBFbmdpbmUuX2JvZGllc0FwcGx5R3Jhdml0eShhbGxCb2RpZXMsIGVuZ2luZS5ncmF2aXR5KTtcblxuICAgICAgICAvLyB1cGRhdGUgYWxsIGJvZHkgcG9zaXRpb24gYW5kIHJvdGF0aW9uIGJ5IGludGVncmF0aW9uXG4gICAgICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgICAgICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlKGFsbEJvZGllcywgZGVsdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlU29sdmUnLCBldmVudCk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGFsbCBjb25zdHJhaW50cyAoZmlyc3QgcGFzcylcbiAgICAgICAgQ29uc3RyYWludC5wcmVTb2x2ZUFsbChhbGxCb2RpZXMpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLmNvbnN0cmFpbnRJdGVyYXRpb25zOyBpKyspIHtcbiAgICAgICAgICAgIENvbnN0cmFpbnQuc29sdmVBbGwoYWxsQ29uc3RyYWludHMsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJhaW50LnBvc3RTb2x2ZUFsbChhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIGZpbmQgYWxsIGNvbGxpc2lvbnNcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBEZXRlY3Rvci5jb2xsaXNpb25zKGRldGVjdG9yKTtcblxuICAgICAgICAvLyB1cGRhdGUgY29sbGlzaW9uIHBhaXJzXG4gICAgICAgIFBhaXJzLnVwZGF0ZShwYWlycywgY29sbGlzaW9ucywgdGltZXN0YW1wKTtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGlmIChlbmdpbmUuZW5hYmxlU2xlZXBpbmcpXG4gICAgICAgICAgICBTbGVlcGluZy5hZnRlckNvbGxpc2lvbnMocGFpcnMubGlzdCk7XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb2xsaXNpb24gZXZlbnRzXG4gICAgICAgIGlmIChwYWlycy5jb2xsaXNpb25TdGFydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdjb2xsaXNpb25TdGFydCcsIHsgXG4gICAgICAgICAgICAgICAgcGFpcnM6IHBhaXJzLmNvbGxpc2lvblN0YXJ0LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBkZWx0YTogZGVsdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXRlcmF0aXZlbHkgcmVzb2x2ZSBwb3NpdGlvbiBiZXR3ZWVuIGNvbGxpc2lvbnNcbiAgICAgICAgdmFyIHBvc2l0aW9uRGFtcGluZyA9IENvbW1vbi5jbGFtcCgyMCAvIGVuZ2luZS5wb3NpdGlvbkl0ZXJhdGlvbnMsIDAsIDEpO1xuICAgICAgICBcbiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVQb3NpdGlvbihwYWlycy5saXN0KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS5wb3NpdGlvbkl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgUmVzb2x2ZXIuc29sdmVQb3NpdGlvbihwYWlycy5saXN0LCBkZWx0YSwgcG9zaXRpb25EYW1waW5nKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNvbHZlci5wb3N0U29sdmVQb3NpdGlvbihhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBhbGwgY29uc3RyYWludHMgKHNlY29uZCBwYXNzKVxuICAgICAgICBDb25zdHJhaW50LnByZVNvbHZlQWxsKGFsbEJvZGllcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbmdpbmUuY29uc3RyYWludEl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZUFsbChhbGxDb25zdHJhaW50cywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsKGFsbEJvZGllcyk7XG5cbiAgICAgICAgLy8gaXRlcmF0aXZlbHkgcmVzb2x2ZSB2ZWxvY2l0eSBiZXR3ZWVuIGNvbGxpc2lvbnNcbiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVWZWxvY2l0eShwYWlycy5saXN0KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS52ZWxvY2l0eUl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgUmVzb2x2ZXIuc29sdmVWZWxvY2l0eShwYWlycy5saXN0LCBkZWx0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgYm9keSBzcGVlZCBhbmQgdmVsb2NpdHkgcHJvcGVydGllc1xuICAgICAgICBFbmdpbmUuX2JvZGllc1VwZGF0ZVZlbG9jaXRpZXMoYWxsQm9kaWVzKTtcblxuICAgICAgICAvLyB0cmlnZ2VyIGNvbGxpc2lvbiBldmVudHNcbiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdjb2xsaXNpb25BY3RpdmUnLCB7IFxuICAgICAgICAgICAgICAgIHBhaXJzOiBwYWlycy5jb2xsaXNpb25BY3RpdmUsIFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBkZWx0YTogZGVsdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkVuZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdjb2xsaXNpb25FbmQnLCB7XG4gICAgICAgICAgICAgICAgcGFpcnM6IHBhaXJzLmNvbGxpc2lvbkVuZCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWluZy50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgZGVsdGE6IGRlbHRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGZvcmNlIGJ1ZmZlcnNcbiAgICAgICAgRW5naW5lLl9ib2RpZXNDbGVhckZvcmNlcyhhbGxCb2RpZXMpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIC8vIGxvZyB0aGUgdGltZSBlbGFwc2VkIGNvbXB1dGluZyB0aGlzIHVwZGF0ZVxuICAgICAgICBlbmdpbmUudGltaW5nLmxhc3RFbGFwc2VkID0gQ29tbW9uLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBlbmdpbmU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdHdvIGVuZ2luZXMgYnkga2VlcGluZyB0aGUgY29uZmlndXJhdGlvbiBvZiBgZW5naW5lQWAgYnV0IHJlcGxhY2luZyB0aGUgd29ybGQgd2l0aCB0aGUgb25lIGZyb20gYGVuZ2luZUJgLlxuICAgICAqIEBtZXRob2QgbWVyZ2VcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lQVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVCXG4gICAgICovXG4gICAgRW5naW5lLm1lcmdlID0gZnVuY3Rpb24oZW5naW5lQSwgZW5naW5lQikge1xuICAgICAgICBDb21tb24uZXh0ZW5kKGVuZ2luZUEsIGVuZ2luZUIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVuZ2luZUIud29ybGQpIHtcbiAgICAgICAgICAgIGVuZ2luZUEud29ybGQgPSBlbmdpbmVCLndvcmxkO1xuXG4gICAgICAgICAgICBFbmdpbmUuY2xlYXIoZW5naW5lQSk7XG5cbiAgICAgICAgICAgIHZhciBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGVuZ2luZUEud29ybGQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYm9keS5pZCA9IENvbW1vbi5uZXh0SWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGVuZ2luZSBwYWlycyBhbmQgZGV0ZWN0b3IuXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cbiAgICBFbmdpbmUuY2xlYXIgPSBmdW5jdGlvbihlbmdpbmUpIHtcbiAgICAgICAgUGFpcnMuY2xlYXIoZW5naW5lLnBhaXJzKTtcbiAgICAgICAgRGV0ZWN0b3IuY2xlYXIoZW5naW5lLmRldGVjdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogWmVyb2VzIHRoZSBgYm9keS5mb3JjZWAgYW5kIGBib2R5LnRvcnF1ZWAgZm9yY2UgYnVmZmVycy5cbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNDbGVhckZvcmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzQ2xlYXJGb3JjZXMgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgdmFyIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IGZvcmNlIGJ1ZmZlcnNcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueCA9IDA7XG4gICAgICAgICAgICBib2R5LmZvcmNlLnkgPSAwO1xuICAgICAgICAgICAgYm9keS50b3JxdWUgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZ3Jhdml0YXRpb25hbCBhY2NlbGVyYXRpb24gdG8gYWxsIGBib2RpZXNgLlxuICAgICAqIFRoaXMgbW9kZWxzIGEgW3VuaWZvcm0gZ3Jhdml0YXRpb25hbCBmaWVsZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3Jhdml0eV9vZl9FYXJ0aCksIHNpbWlsYXIgdG8gbmVhciB0aGUgc3VyZmFjZSBvZiBhIHBsYW5ldC5cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNBcHBseUdyYXZpdHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZ3Jhdml0eVxuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzQXBwbHlHcmF2aXR5ID0gZnVuY3Rpb24oYm9kaWVzLCBncmF2aXR5KSB7XG4gICAgICAgIHZhciBncmF2aXR5U2NhbGUgPSB0eXBlb2YgZ3Jhdml0eS5zY2FsZSAhPT0gJ3VuZGVmaW5lZCcgPyBncmF2aXR5LnNjYWxlIDogMC4wMDEsXG4gICAgICAgICAgICBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICgoZ3Jhdml0eS54ID09PSAwICYmIGdyYXZpdHkueSA9PT0gMCkgfHwgZ3Jhdml0eVNjYWxlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCBib2R5LmlzU2xlZXBpbmcpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgcmVzdWx0YW50IGZvcmNlIG9mIGdyYXZpdHlcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueSArPSBib2R5Lm1hc3MgKiBncmF2aXR5LnkgKiBncmF2aXR5U2NhbGU7XG4gICAgICAgICAgICBib2R5LmZvcmNlLnggKz0gYm9keS5tYXNzICogZ3Jhdml0eS54ICogZ3Jhdml0eVNjYWxlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYEJvZHkudXBkYXRlYCB0byBhbGwgZ2l2ZW4gYGJvZGllc2AuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzVXBkYXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIGJldHdlZW4gdXBkYXRlc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCBkZWx0YSkge1xuICAgICAgICB2YXIgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgYm9keS5pc1NsZWVwaW5nKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBCb2R5LnVwZGF0ZShib2R5LCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBgQm9keS51cGRhdGVWZWxvY2l0aWVzYCB0byBhbGwgZ2l2ZW4gYGJvZGllc2AuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzVXBkYXRlVmVsb2NpdGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlVmVsb2NpdGllcyA9IGZ1bmN0aW9uKGJvZGllcykge1xuICAgICAgICB2YXIgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBCb2R5LnVwZGF0ZVZlbG9jaXRpZXMoYm9kaWVzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlcHJlY2F0ZWQgYWxpYXMgZm9yIGBSdW5uZXIucnVuYCwgdXNlIGBNYXR0ZXIuUnVubmVyLnJ1bihlbmdpbmUpYCBpbnN0ZWFkIGFuZCBzZWUgYE1hdHRlci5SdW5uZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBNYXR0ZXIuUnVubmVyLnJ1bihlbmdpbmUpIGluc3RlYWRcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQganVzdCBiZWZvcmUgYW4gdXBkYXRlXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVVwZGF0ZVxuICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGJvZGllcyB1cGRhdGVkIGJhc2VkIG9uIHRoZWlyIHZlbG9jaXR5IGFuZCBmb3JjZXMsIGJ1dCBiZWZvcmUgYW55IGNvbGxpc2lvbiBkZXRlY3Rpb24sIGNvbnN0cmFpbnRzIGFuZCByZXNvbHZpbmcgZXRjLlxuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVTb2x2ZVxuICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUgYW5kIGFsbCBjb2xsaXNpb24gZXZlbnRzXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyVXBkYXRlXG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGhhdmUgc3RhcnRlZCB0byBjb2xsaWRlIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uU3RhcnRcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7cGFpcltdfSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGFyZSBjb2xsaWRpbmcgaW4gdGhlIGN1cnJlbnQgdGljayAoaWYgYW55KVxuICAgICpcbiAgICAqIEBldmVudCBjb2xsaXNpb25BY3RpdmVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7cGFpcltdfSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGhhdmUgZW5kZWQgY29sbGlzaW9uIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uRW5kXG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge3BhaXJbXX0gZXZlbnQucGFpcnMgTGlzdCBvZiBhZmZlY3RlZCBwYWlyc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBwb3NpdGlvbiBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uSXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHZlbG9jaXR5SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBjb25zdHJhaW50IGl0ZXJhdGlvbnMgdG8gcGVyZm9ybSBlYWNoIHVwZGF0ZS5cbiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIGhpZ2hlciBxdWFsaXR5IHRoZSBzaW11bGF0aW9uIHdpbGwgYmUgYXQgdGhlIGV4cGVuc2Ugb2YgcGVyZm9ybWFuY2UuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDJgIGlzIHVzdWFsbHkgdmVyeSBhZGVxdWF0ZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBlbmdpbmUgc2hvdWxkIGFsbG93IHNsZWVwaW5nIHZpYSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlLlxuICAgICAqIFNsZWVwaW5nIGNhbiBpbXByb3ZlIHN0YWJpbGl0eSBhbmQgcGVyZm9ybWFuY2UsIGJ1dCBvZnRlbiBhdCB0aGUgZXhwZW5zZSBvZiBhY2N1cmFjeS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVTbGVlcGluZ1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgY29udGFpbmluZyBwcm9wZXJ0aWVzIHJlZ2FyZGluZyB0aGUgdGltaW5nIHN5c3RlbXMgb2YgdGhlIGVuZ2luZS4gXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBnbG9iYWwgc2NhbGluZyBmYWN0b3Igb2YgdGltZSBmb3IgYWxsIGJvZGllcy5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBmcmVlemVzIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgZ2l2ZXMgYSBzbG93LW1vdGlvbiBlZmZlY3QuXG4gICAgICogQSB2YWx1ZSBvZiBgMS4yYCBnaXZlcyBhIHNwZWVkLXVwIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZVNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgY3VycmVudCBzaW11bGF0aW9uLXRpbWUgaW4gbWlsbGlzZWNvbmRzIHN0YXJ0aW5nIGZyb20gYDBgLiBcbiAgICAgKiBJdCBpcyBpbmNyZW1lbnRlZCBvbiBldmVyeSBgRW5naW5lLnVwZGF0ZWAgYnkgdGhlIGdpdmVuIGBkZWx0YWAgYXJndW1lbnQuIFxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZXN0YW1wXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHJlcHJlc2VudHMgdGhlIHRvdGFsIGV4ZWN1dGlvbiB0aW1lIGVsYXBzZWQgZHVyaW5nIHRoZSBsYXN0IGBFbmdpbmUudXBkYXRlYCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogSXQgaXMgdXBkYXRlZCBieSB0aW1pbmcgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGxhc3QgYEVuZ2luZS51cGRhdGVgIGNhbGwgdW50aWwgaXQgZW5kcy5cbiAgICAgKlxuICAgICAqIFRoaXMgdmFsdWUgd2lsbCBhbHNvIGluY2x1ZGUgdGhlIHRvdGFsIGV4ZWN1dGlvbiB0aW1lIG9mIGFsbCBldmVudCBoYW5kbGVycyBkaXJlY3RseSBvciBpbmRpcmVjdGx5IHRyaWdnZXJlZCBieSB0aGUgZW5naW5lIHVwZGF0ZS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nLmxhc3RFbGFwc2VkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHJlcHJlc2VudHMgdGhlIGBkZWx0YWAgdmFsdWUgdXNlZCBpbiB0aGUgbGFzdCBlbmdpbmUgdXBkYXRlLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcubGFzdERlbHRhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTWF0dGVyLkRldGVjdG9yYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkZXRlY3RvclxuICAgICAqIEB0eXBlIGRldGVjdG9yXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuRGV0ZWN0b3IgaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE1hdHRlci5HcmlkYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBlbmdpbmUuZGV0ZWN0b3JgXG4gICAgICogQHByb3BlcnR5IGdyaWRcbiAgICAgKiBAdHlwZSBncmlkXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuR3JpZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZWQgYnkgYW5kIG5vdyBhbGlhcyBmb3IgYGVuZ2luZS5ncmlkYC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBlbmdpbmUuZGV0ZWN0b3JgXG4gICAgICogQHByb3BlcnR5IGJyb2FkcGhhc2VcbiAgICAgKiBAdHlwZSBncmlkXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuR3JpZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvb3QgYE1hdHRlci5Db21wb3NpdGVgIGluc3RhbmNlIHRoYXQgd2lsbCBjb250YWluIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBvdGhlciBjb21wb3NpdGVzIHRvIGJlIHNpbXVsYXRlZCBieSB0aGlzIGVuZ2luZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB3b3JsZFxuICAgICAqIEB0eXBlIGNvbXBvc2l0ZVxuICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkNvbXBvc2l0ZSBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlc2VydmVkIGZvciBzdG9yaW5nIHBsdWdpbi1zcGVjaWZpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBsdWdpblxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBncmF2aXRhdGlvbmFsIGFjY2VsZXJhdGlvbiBhcHBsaWVkIHRvIGFsbCBib2RpZXMgaW4gYGVuZ2luZS53b3JsZGAgb24gZXZlcnkgdXBkYXRlLlxuICAgICAqIFxuICAgICAqIFRoaXMgbW9kZWxzIGEgW3VuaWZvcm0gZ3Jhdml0YXRpb25hbCBmaWVsZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3Jhdml0eV9vZl9FYXJ0aCksIHNpbWlsYXIgdG8gbmVhciB0aGUgc3VyZmFjZSBvZiBhIHBsYW5ldC4gRm9yIGdyYXZpdHkgaW4gb3RoZXIgY29udGV4dHMsIGRpc2FibGUgdGhpcyBhbmQgYXBwbHkgZm9yY2VzIGFzIG5lZWRlZC5cbiAgICAgKiBcbiAgICAgKiBUbyBkaXNhYmxlIHNldCB0aGUgYHNjYWxlYCBjb21wb25lbnQgdG8gYDBgLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgc3BsaXQgaW50byB0aHJlZSBjb21wb25lbnRzIGZvciBlYXNlIG9mIHVzZTogIFxuICAgICAqIGEgbm9ybWFsaXNlZCBkaXJlY3Rpb24gKGB4YCBhbmQgYHlgKSBhbmQgbWFnbml0dWRlIChgc2NhbGVgKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5XG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ3Jhdml0YXRpb25hbCBkaXJlY3Rpb24gbm9ybWFsIGB4YCBjb21wb25lbnQsIHRvIGJlIG11bHRpcGxpZWQgYnkgYGdyYXZpdHkuc2NhbGVgLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnhcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ3Jhdml0YXRpb25hbCBkaXJlY3Rpb24gbm9ybWFsIGB5YCBjb21wb25lbnQsIHRvIGJlIG11bHRpcGxpZWQgYnkgYGdyYXZpdHkuc2NhbGVgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGdyYXZpdHkueVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYWduaXR1ZGUgb2YgdGhlIGdyYXZpdGF0aW9uYWwgYWNjZWxlcmF0aW9uLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnNjYWxlXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMC4wMDFcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5SZXNvbHZlcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHJlc29sdmluZyBjb2xsaXNpb24gcGFpcnMuXG4qXG4qIEBjbGFzcyBSZXNvbHZlclxuKi9cblxudmFyIFJlc29sdmVyID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb2x2ZXI7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBSZXNvbHZlci5fcmVzdGluZ1RocmVzaCA9IDI7XG4gICAgUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2hUYW5nZW50ID0gTWF0aC5zcXJ0KDYpO1xuICAgIFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiA9IDAuOTtcbiAgICBSZXNvbHZlci5fcG9zaXRpb25XYXJtaW5nID0gMC44O1xuICAgIFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIgPSA1O1xuICAgIFJlc29sdmVyLl9mcmljdGlvbk1heFN0YXRpYyA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHBhaXJzIGZvciBwb3NpdGlvbiBzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcHJlU29sdmVQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByZVNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBjb250YWN0Q291bnQsXG4gICAgICAgICAgICBwYWlyc0xlbmd0aCA9IHBhaXJzLmxlbmd0aDtcblxuICAgICAgICAvLyBmaW5kIHRvdGFsIGNvbnRhY3RzIG9uIGVhY2ggYm9keVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnRhY3RDb3VudCA9IHBhaXIuY29udGFjdENvdW50O1xuICAgICAgICAgICAgcGFpci5jb2xsaXNpb24ucGFyZW50QS50b3RhbENvbnRhY3RzICs9IGNvbnRhY3RDb3VudDtcbiAgICAgICAgICAgIHBhaXIuY29sbGlzaW9uLnBhcmVudEIudG90YWxDb250YWN0cyArPSBjb250YWN0Q291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNvbHV0aW9uIGZvciBwYWlyIHBvc2l0aW9ucy5cbiAgICAgKiBAbWV0aG9kIHNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RhbXBpbmc9MV1cbiAgICAgKi9cbiAgICBSZXNvbHZlci5zb2x2ZVBvc2l0aW9uID0gZnVuY3Rpb24ocGFpcnMsIGRlbHRhLCBkYW1waW5nKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICBjb250YWN0U2hhcmUsXG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UsXG4gICAgICAgICAgICBwb3NpdGlvbkRhbXBlbiA9IFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiAqIChkYW1waW5nIHx8IDEpLFxuICAgICAgICAgICAgc2xvcERhbXBlbiA9IENvbW1vbi5jbGFtcChkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLCAwLCAxKSxcbiAgICAgICAgICAgIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGZpbmQgaW1wdWxzZXMgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwZW5ldHJhdGlvblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG5cbiAgICAgICAgICAgIC8vIGdldCBjdXJyZW50IHNlcGFyYXRpb24gYmV0d2VlbiBib2R5IGVkZ2VzIGludm9sdmVkIGluIGNvbGxpc2lvblxuICAgICAgICAgICAgcGFpci5zZXBhcmF0aW9uID0gXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uLmRlcHRoICsgbm9ybWFsLnggKiAoYm9keUIucG9zaXRpb25JbXB1bHNlLnggLSBib2R5QS5wb3NpdGlvbkltcHVsc2UueClcbiAgICAgICAgICAgICAgICArIG5vcm1hbC55ICogKGJvZHlCLnBvc2l0aW9uSW1wdWxzZS55IC0gYm9keUEucG9zaXRpb25JbXB1bHNlLnkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UgPSBwYWlyLnNlcGFyYXRpb24gLSBwYWlyLnNsb3AgKiBzbG9wRGFtcGVuO1xuXG4gICAgICAgICAgICBpZiAoYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlICo9IDI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdFNoYXJlID0gcG9zaXRpb25EYW1wZW4gLyBib2R5QS50b3RhbENvbnRhY3RzO1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS54ICs9IG5vcm1hbC54ICogcG9zaXRpb25JbXB1bHNlICogY29udGFjdFNoYXJlO1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS55ICs9IG5vcm1hbC55ICogcG9zaXRpb25JbXB1bHNlICogY29udGFjdFNoYXJlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IHBvc2l0aW9uRGFtcGVuIC8gYm9keUIudG90YWxDb250YWN0cztcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueCAtPSBub3JtYWwueCAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueSAtPSBub3JtYWwueSAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBwb3NpdGlvbiByZXNvbHV0aW9uLlxuICAgICAqIEBtZXRob2QgcG9zdFNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgUmVzb2x2ZXIucG9zdFNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uV2FybWluZyA9IFJlc29sdmVyLl9wb3NpdGlvbldhcm1pbmcsXG4gICAgICAgICAgICBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoLFxuICAgICAgICAgICAgdmVydGljZXNUcmFuc2xhdGUgPSBWZXJ0aWNlcy50cmFuc2xhdGUsXG4gICAgICAgICAgICBib3VuZHNVcGRhdGUgPSBCb3VuZHMudXBkYXRlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSA9IGJvZHkucG9zaXRpb25JbXB1bHNlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZVggPSBwb3NpdGlvbkltcHVsc2UueCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2VZID0gcG9zaXRpb25JbXB1bHNlLnksXG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgPSBib2R5LnZlbG9jaXR5O1xuXG4gICAgICAgICAgICAvLyByZXNldCBjb250YWN0IGNvdW50XG4gICAgICAgICAgICBib2R5LnRvdGFsQ29udGFjdHMgPSAwO1xuXG4gICAgICAgICAgICBpZiAocG9zaXRpb25JbXB1bHNlWCAhPT0gMCB8fCBwb3NpdGlvbkltcHVsc2VZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1RyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBwb3NpdGlvbkltcHVsc2UpO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHNVcGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIHZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IHBvc2l0aW9uSW1wdWxzZVg7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBwb3NpdGlvbkltcHVsc2VZO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGJvZHkgd2l0aG91dCBjaGFuZ2luZyB2ZWxvY2l0eVxuICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gcG9zaXRpb25JbXB1bHNlWDtcbiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IHBvc2l0aW9uSW1wdWxzZVk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25JbXB1bHNlWCAqIHZlbG9jaXR5LnggKyBwb3NpdGlvbkltcHVsc2VZICogdmVsb2NpdHkueSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgY2FjaGVkIGltcHVsc2UgaWYgdGhlIGJvZHkgaGFzIHZlbG9jaXR5IGFsb25nIGl0XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlLnkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhcm0gdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS54ICo9IHBvc2l0aW9uV2FybWluZztcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlLnkgKj0gcG9zaXRpb25XYXJtaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHBhaXJzIGZvciB2ZWxvY2l0eSBzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcHJlU29sdmVWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByZVNvbHZlVmVsb2NpdHkgPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICB2YXIgcGFpcnNMZW5ndGggPSBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcbiAgICAgICAgXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbnRhY3RzID0gcGFpci5jb250YWN0cyxcbiAgICAgICAgICAgICAgICBjb250YWN0Q291bnQgPSBwYWlyLmNvbnRhY3RDb3VudCxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbixcbiAgICAgICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBLFxuICAgICAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLnBhcmVudEIsXG4gICAgICAgICAgICAgICAgbm9ybWFsID0gY29sbGlzaW9uLm5vcm1hbCxcbiAgICAgICAgICAgICAgICB0YW5nZW50ID0gY29sbGlzaW9uLnRhbmdlbnQ7XG4gICAgXG4gICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbnRhY3RDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBjb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFZlcnRleCA9IGNvbnRhY3QudmVydGV4LFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlLFxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2U7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbEltcHVsc2UgIT09IDAgfHwgdGFuZ2VudEltcHVsc2UgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG90YWwgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltcHVsc2VYID0gbm9ybWFsLnggKiBub3JtYWxJbXB1bHNlICsgdGFuZ2VudC54ICogdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXB1bHNlWSA9IG5vcm1hbC55ICogbm9ybWFsSW1wdWxzZSArIHRhbmdlbnQueSAqIHRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYm9keUEuaXNTdGF0aWMgfHwgYm9keUEuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2VYICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSArPSBpbXB1bHNlWSAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUEuYW5nbGVQcmV2ICs9IGJvZHlBLmludmVyc2VJbmVydGlhICogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWN0VmVydGV4LnggLSBib2R5QS5wb3NpdGlvbi54KSAqIGltcHVsc2VZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSAoY29udGFjdFZlcnRleC55IC0gYm9keUEucG9zaXRpb24ueSkgKiBpbXB1bHNlWFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnggLT0gaW1wdWxzZVggKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2VZICogYm9keUIuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5Qi5hbmdsZVByZXYgLT0gYm9keUIuaW52ZXJzZUluZXJ0aWEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhY3RWZXJ0ZXgueCAtIGJvZHlCLnBvc2l0aW9uLngpICogaW1wdWxzZVkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSAoY29udGFjdFZlcnRleC55IC0gYm9keUIucG9zaXRpb24ueSkgKiBpbXB1bHNlWFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc29sdXRpb24gZm9yIHBhaXIgdmVsb2NpdGllcy5cbiAgICAgKiBAbWV0aG9kIHNvbHZlVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKi9cbiAgICBSZXNvbHZlci5zb2x2ZVZlbG9jaXR5ID0gZnVuY3Rpb24ocGFpcnMsIGRlbHRhKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLFxuICAgICAgICAgICAgdGltZVNjYWxlU3F1YXJlZCA9IHRpbWVTY2FsZSAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHRpbWVTY2FsZUN1YmVkID0gdGltZVNjYWxlU3F1YXJlZCAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHJlc3RpbmdUaHJlc2ggPSAtUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2ggKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICByZXN0aW5nVGhyZXNoVGFuZ2VudCA9IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCxcbiAgICAgICAgICAgIGZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciA9IFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIgKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICBmcmljdGlvbk1heFN0YXRpYyA9IFJlc29sdmVyLl9mcmljdGlvbk1heFN0YXRpYyxcbiAgICAgICAgICAgIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICBtYXhGcmljdGlvbixcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLnBhcmVudEEsXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QixcbiAgICAgICAgICAgICAgICBub3JtYWxYID0gY29sbGlzaW9uLm5vcm1hbC54LFxuICAgICAgICAgICAgICAgIG5vcm1hbFkgPSBjb2xsaXNpb24ubm9ybWFsLnksXG4gICAgICAgICAgICAgICAgdGFuZ2VudFggPSBjb2xsaXNpb24udGFuZ2VudC54LFxuICAgICAgICAgICAgICAgIHRhbmdlbnRZID0gY29sbGlzaW9uLnRhbmdlbnQueSxcbiAgICAgICAgICAgICAgICBpbnZlcnNlTWFzc1RvdGFsID0gcGFpci5pbnZlcnNlTWFzcyxcbiAgICAgICAgICAgICAgICBmcmljdGlvbiA9IHBhaXIuZnJpY3Rpb24gKiBwYWlyLmZyaWN0aW9uU3RhdGljICogZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RzID0gcGFpci5jb250YWN0cyxcbiAgICAgICAgICAgICAgICBjb250YWN0Q291bnQgPSBwYWlyLmNvbnRhY3RDb3VudCxcbiAgICAgICAgICAgICAgICBjb250YWN0U2hhcmUgPSAxIC8gY29udGFjdENvdW50O1xuXG4gICAgICAgICAgICAvLyBnZXQgYm9keSB2ZWxvY2l0aWVzXG4gICAgICAgICAgICB2YXIgYm9keUFWZWxvY2l0eVggPSBib2R5QS5wb3NpdGlvbi54IC0gYm9keUEucG9zaXRpb25QcmV2LngsXG4gICAgICAgICAgICAgICAgYm9keUFWZWxvY2l0eVkgPSBib2R5QS5wb3NpdGlvbi55IC0gYm9keUEucG9zaXRpb25QcmV2LnksXG4gICAgICAgICAgICAgICAgYm9keUFBbmd1bGFyVmVsb2NpdHkgPSBib2R5QS5hbmdsZSAtIGJvZHlBLmFuZ2xlUHJldixcbiAgICAgICAgICAgICAgICBib2R5QlZlbG9jaXR5WCA9IGJvZHlCLnBvc2l0aW9uLnggLSBib2R5Qi5wb3NpdGlvblByZXYueCxcbiAgICAgICAgICAgICAgICBib2R5QlZlbG9jaXR5WSA9IGJvZHlCLnBvc2l0aW9uLnkgLSBib2R5Qi5wb3NpdGlvblByZXYueSxcbiAgICAgICAgICAgICAgICBib2R5QkFuZ3VsYXJWZWxvY2l0eSA9IGJvZHlCLmFuZ2xlIC0gYm9keUIuYW5nbGVQcmV2O1xuXG4gICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbnRhY3RDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBjb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFZlcnRleCA9IGNvbnRhY3QudmVydGV4O1xuXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldEFYID0gY29udGFjdFZlcnRleC54IC0gYm9keUEucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0QVkgPSBjb250YWN0VmVydGV4LnkgLSBib2R5QS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRCWCA9IGNvbnRhY3RWZXJ0ZXgueCAtIGJvZHlCLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldEJZID0gY29udGFjdFZlcnRleC55IC0gYm9keUIucG9zaXRpb24ueTtcbiBcbiAgICAgICAgICAgICAgICB2YXIgdmVsb2NpdHlQb2ludEFYID0gYm9keUFWZWxvY2l0eVggLSBvZmZzZXRBWSAqIGJvZHlBQW5ndWxhclZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eVBvaW50QVkgPSBib2R5QVZlbG9jaXR5WSArIG9mZnNldEFYICogYm9keUFBbmd1bGFyVmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5UG9pbnRCWCA9IGJvZHlCVmVsb2NpdHlYIC0gb2Zmc2V0QlkgKiBib2R5QkFuZ3VsYXJWZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHlQb2ludEJZID0gYm9keUJWZWxvY2l0eVkgKyBvZmZzZXRCWCAqIGJvZHlCQW5ndWxhclZlbG9jaXR5O1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aXZlVmVsb2NpdHlYID0gdmVsb2NpdHlQb2ludEFYIC0gdmVsb2NpdHlQb2ludEJYLFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVZlbG9jaXR5WSA9IHZlbG9jaXR5UG9pbnRBWSAtIHZlbG9jaXR5UG9pbnRCWTtcblxuICAgICAgICAgICAgICAgIHZhciBub3JtYWxWZWxvY2l0eSA9IG5vcm1hbFggKiByZWxhdGl2ZVZlbG9jaXR5WCArIG5vcm1hbFkgKiByZWxhdGl2ZVZlbG9jaXR5WSxcbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudFZlbG9jaXR5ID0gdGFuZ2VudFggKiByZWxhdGl2ZVZlbG9jaXR5WCArIHRhbmdlbnRZICogcmVsYXRpdmVWZWxvY2l0eVk7XG5cbiAgICAgICAgICAgICAgICAvLyBjb3Vsb21iIGZyaWN0aW9uXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbE92ZXJsYXAgPSBwYWlyLnNlcGFyYXRpb24gKyBub3JtYWxWZWxvY2l0eTtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRm9yY2UgPSBNYXRoLm1pbihub3JtYWxPdmVybGFwLCAxKTtcbiAgICAgICAgICAgICAgICBub3JtYWxGb3JjZSA9IG5vcm1hbE92ZXJsYXAgPCAwID8gMCA6IG5vcm1hbEZvcmNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZyaWN0aW9uTGltaXQgPSBub3JtYWxGb3JjZSAqIGZyaWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRWZWxvY2l0eSA8IC1mcmljdGlvbkxpbWl0IHx8IHRhbmdlbnRWZWxvY2l0eSA+IGZyaWN0aW9uTGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4RnJpY3Rpb24gPSAodGFuZ2VudFZlbG9jaXR5ID4gMCA/IHRhbmdlbnRWZWxvY2l0eSA6IC10YW5nZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IHBhaXIuZnJpY3Rpb24gKiAodGFuZ2VudFZlbG9jaXR5ID4gMCA/IDEgOiAtMSkgKiB0aW1lU2NhbGVDdWJlZDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YW5nZW50SW1wdWxzZSA8IC1tYXhGcmljdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSAtbWF4RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFuZ2VudEltcHVsc2UgPiBtYXhGcmljdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSBtYXhGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gdGFuZ2VudFZlbG9jaXR5O1xuICAgICAgICAgICAgICAgICAgICBtYXhGcmljdGlvbiA9IGZyaWN0aW9uTWF4U3RhdGljO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIG1hc3MsIGluZXJ0aWEgYW5kIGNvbnRhY3Qgb2Zmc2V0XG4gICAgICAgICAgICAgICAgdmFyIG9BY04gPSBvZmZzZXRBWCAqIG5vcm1hbFkgLSBvZmZzZXRBWSAqIG5vcm1hbFgsXG4gICAgICAgICAgICAgICAgICAgIG9CY04gPSBvZmZzZXRCWCAqIG5vcm1hbFkgLSBvZmZzZXRCWSAqIG5vcm1hbFgsXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlID0gY29udGFjdFNoYXJlIC8gKGludmVyc2VNYXNzVG90YWwgKyBib2R5QS5pbnZlcnNlSW5lcnRpYSAqIG9BY04gKiBvQWNOICsgYm9keUIuaW52ZXJzZUluZXJ0aWEgKiBvQmNOICogb0JjTik7XG5cbiAgICAgICAgICAgICAgICAvLyByYXcgaW1wdWxzZXNcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsSW1wdWxzZSA9ICgxICsgcGFpci5yZXN0aXR1dGlvbikgKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlICo9IHNoYXJlO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGhpZ2ggdmVsb2NpdHkgYW5kIHJlc3RpbmcgY29sbGlzaW9ucyBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbFZlbG9jaXR5IDwgcmVzdGluZ1RocmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWdoIG5vcm1hbCB2ZWxvY2l0eSBzbyBjbGVhciBjYWNoZWQgY29udGFjdCBub3JtYWwgaW1wdWxzZVxuICAgICAgICAgICAgICAgICAgICBjb250YWN0Lm5vcm1hbEltcHVsc2UgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbHZlIHJlc3RpbmcgY29sbGlzaW9uIGNvbnN0cmFpbnRzIHVzaW5nIEVyaW4gQ2F0dG8ncyBtZXRob2QgKEdEQzA4KVxuICAgICAgICAgICAgICAgICAgICAvLyBpbXB1bHNlIGNvbnN0cmFpbnQgdGVuZHMgdG8gMFxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdE5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3Qubm9ybWFsSW1wdWxzZSArPSBub3JtYWxJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdC5ub3JtYWxJbXB1bHNlID4gMCkgY29udGFjdC5ub3JtYWxJbXB1bHNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsSW1wdWxzZSA9IGNvbnRhY3Qubm9ybWFsSW1wdWxzZSAtIGNvbnRhY3ROb3JtYWxJbXB1bHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBoaWdoIHZlbG9jaXR5IGFuZCByZXN0aW5nIGNvbGxpc2lvbnMgc2VwYXJhdGVseVxuICAgICAgICAgICAgICAgIGlmICh0YW5nZW50VmVsb2NpdHkgPCAtcmVzdGluZ1RocmVzaFRhbmdlbnQgfHwgdGFuZ2VudFZlbG9jaXR5ID4gcmVzdGluZ1RocmVzaFRhbmdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaCB0YW5nZW50IHZlbG9jaXR5IHNvIGNsZWFyIGNhY2hlZCBjb250YWN0IHRhbmdlbnQgaW1wdWxzZVxuICAgICAgICAgICAgICAgICAgICBjb250YWN0LnRhbmdlbnRJbXB1bHNlID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzb2x2ZSByZXN0aW5nIGNvbGxpc2lvbiBjb25zdHJhaW50cyB1c2luZyBFcmluIENhdHRvJ3MgbWV0aG9kIChHREMwOClcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFuZ2VudCBpbXB1bHNlIHRlbmRzIHRvIC10YW5nZW50U3BlZWQgb3IgK3RhbmdlbnRTcGVlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdFRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC50YW5nZW50SW1wdWxzZSArPSB0YW5nZW50SW1wdWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QudGFuZ2VudEltcHVsc2UgPCAtbWF4RnJpY3Rpb24pIGNvbnRhY3QudGFuZ2VudEltcHVsc2UgPSAtbWF4RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LnRhbmdlbnRJbXB1bHNlID4gbWF4RnJpY3Rpb24pIGNvbnRhY3QudGFuZ2VudEltcHVsc2UgPSBtYXhGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSBjb250YWN0LnRhbmdlbnRJbXB1bHNlIC0gY29udGFjdFRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHRvdGFsIGltcHVsc2UgZnJvbSBjb250YWN0XG4gICAgICAgICAgICAgICAgdmFyIGltcHVsc2VYID0gbm9ybWFsWCAqIG5vcm1hbEltcHVsc2UgKyB0YW5nZW50WCAqIHRhbmdlbnRJbXB1bHNlLFxuICAgICAgICAgICAgICAgICAgICBpbXB1bHNlWSA9IG5vcm1hbFkgKiBub3JtYWxJbXB1bHNlICsgdGFuZ2VudFkgKiB0YW5nZW50SW1wdWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBhcHBseSBpbXB1bHNlIGZyb20gY29udGFjdFxuICAgICAgICAgICAgICAgIGlmICghKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2VYICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi55ICs9IGltcHVsc2VZICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBLmFuZ2xlUHJldiArPSAob2Zmc2V0QVggKiBpbXB1bHNlWSAtIG9mZnNldEFZICogaW1wdWxzZVgpICogYm9keUEuaW52ZXJzZUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnggLT0gaW1wdWxzZVggKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnkgLT0gaW1wdWxzZVkgKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgYm9keUIuYW5nbGVQcmV2IC09IChvZmZzZXRCWCAqIGltcHVsc2VZIC0gb2Zmc2V0QlkgKiBpbXB1bHNlWCkgKiBib2R5Qi5pbnZlcnNlSW5lcnRpYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlBhaXJzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gcGFpciBzZXRzLlxuKlxuKiBAY2xhc3MgUGFpcnNcbiovXG5cbnZhciBQYWlycyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhaXJzO1xuXG52YXIgUGFpciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBwYWlycyBzdHJ1Y3R1cmUuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge3BhaXJzfSBBIG5ldyBwYWlycyBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBQYWlycy5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uZXh0ZW5kKHsgXG4gICAgICAgICAgICB0YWJsZToge30sXG4gICAgICAgICAgICBsaXN0OiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvblN0YXJ0OiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZTogW10sXG4gICAgICAgICAgICBjb2xsaXNpb25FbmQ6IFtdXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHBhaXJzIGdpdmVuIGEgbGlzdCBvZiBjb2xsaXNpb25zLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhaXJzXG4gICAgICogQHBhcmFtIHtjb2xsaXNpb25bXX0gY29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBQYWlycy51cGRhdGUgPSBmdW5jdGlvbihwYWlycywgY29sbGlzaW9ucywgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBwYWlyVXBkYXRlID0gUGFpci51cGRhdGUsXG4gICAgICAgICAgICBwYWlyQ3JlYXRlID0gUGFpci5jcmVhdGUsXG4gICAgICAgICAgICBwYWlyU2V0QWN0aXZlID0gUGFpci5zZXRBY3RpdmUsXG4gICAgICAgICAgICBwYWlyc1RhYmxlID0gcGFpcnMudGFibGUsXG4gICAgICAgICAgICBwYWlyc0xpc3QgPSBwYWlycy5saXN0LFxuICAgICAgICAgICAgcGFpcnNMaXN0TGVuZ3RoID0gcGFpcnNMaXN0Lmxlbmd0aCxcbiAgICAgICAgICAgIHBhaXJzTGlzdEluZGV4ID0gcGFpcnNMaXN0TGVuZ3RoLFxuICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQgPSBwYWlycy5jb2xsaXNpb25TdGFydCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkVuZCA9IHBhaXJzLmNvbGxpc2lvbkVuZCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZSA9IHBhaXJzLmNvbGxpc2lvbkFjdGl2ZSxcbiAgICAgICAgICAgIGNvbGxpc2lvbnNMZW5ndGggPSBjb2xsaXNpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIGNvbGxpc2lvblN0YXJ0SW5kZXggPSAwLFxuICAgICAgICAgICAgY29sbGlzaW9uRW5kSW5kZXggPSAwLFxuICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlSW5kZXggPSAwLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbGxpc2lvbnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29sbGlzaW9uID0gY29sbGlzaW9uc1tpXTtcbiAgICAgICAgICAgIHBhaXIgPSBjb2xsaXNpb24ucGFpcjtcblxuICAgICAgICAgICAgaWYgKHBhaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBwYWlyIGFscmVhZHkgZXhpc3RzIChidXQgbWF5IG9yIG1heSBub3QgYmUgYWN0aXZlKVxuICAgICAgICAgICAgICAgIGlmIChwYWlyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhaXIgZXhpc3RzIGFuZCBpcyBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlW2NvbGxpc2lvbkFjdGl2ZUluZGV4KytdID0gcGFpcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHBhaXJcbiAgICAgICAgICAgICAgICBwYWlyVXBkYXRlKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcGFpciBkaWQgbm90IGV4aXN0LCBjcmVhdGUgYSBuZXcgcGFpclxuICAgICAgICAgICAgICAgIHBhaXIgPSBwYWlyQ3JlYXRlKGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICBwYWlyc1RhYmxlW3BhaXIuaWRdID0gcGFpcjtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgbmV3IHBhaXJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TdGFydFtjb2xsaXNpb25TdGFydEluZGV4KytdID0gcGFpcjtcbiAgICAgICAgICAgICAgICBwYWlyc0xpc3RbcGFpcnNMaXN0SW5kZXgrK10gPSBwYWlyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluZCBwYWlycyB0aGF0IGFyZSBubyBsb25nZXIgYWN0aXZlXG4gICAgICAgIHBhaXJzTGlzdEluZGV4ID0gMDtcbiAgICAgICAgcGFpcnNMaXN0TGVuZ3RoID0gcGFpcnNMaXN0Lmxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc0xpc3RbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHBhaXIgaXMgYWN0aXZlIGlmIHVwZGF0ZWQgdGhpcyB0aW1lc3RlcFxuICAgICAgICAgICAgaWYgKHBhaXIudGltZVVwZGF0ZWQgPj0gdGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBhY3RpdmUgcGFpcnNcbiAgICAgICAgICAgICAgICBwYWlyc0xpc3RbcGFpcnNMaXN0SW5kZXgrK10gPSBwYWlyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWlyU2V0QWN0aXZlKHBhaXIsIGZhbHNlLCB0aW1lc3RhbXApO1xuXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBpbmFjdGl2ZSBwYWlycyBpZiBib3RoIGJvZGllcyBtYXkgYmUgc2xlZXBpbmdcbiAgICAgICAgICAgICAgICBpZiAocGFpci5jb2xsaXNpb24uYm9keUEuc2xlZXBDb3VudGVyID4gMCAmJiBwYWlyLmNvbGxpc2lvbi5ib2R5Qi5zbGVlcENvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzTGlzdFtwYWlyc0xpc3RJbmRleCsrXSA9IHBhaXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGluYWN0aXZlIHBhaXJzIGlmIGVpdGhlciBib2R5IGF3YWtlXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkVuZFtjb2xsaXNpb25FbmRJbmRleCsrXSA9IHBhaXI7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYWlyc1RhYmxlW3BhaXIuaWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBhcnJheSBsZW5ndGhzIGlmIGNoYW5nZWRcbiAgICAgICAgaWYgKHBhaXJzTGlzdC5sZW5ndGggIT09IHBhaXJzTGlzdEluZGV4KSB7XG4gICAgICAgICAgICBwYWlyc0xpc3QubGVuZ3RoID0gcGFpcnNMaXN0SW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sbGlzaW9uU3RhcnQubGVuZ3RoICE9PSBjb2xsaXNpb25TdGFydEluZGV4KSB7XG4gICAgICAgICAgICBjb2xsaXNpb25TdGFydC5sZW5ndGggPSBjb2xsaXNpb25TdGFydEluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbGxpc2lvbkVuZC5sZW5ndGggIT09IGNvbGxpc2lvbkVuZEluZGV4KSB7XG4gICAgICAgICAgICBjb2xsaXNpb25FbmQubGVuZ3RoID0gY29sbGlzaW9uRW5kSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sbGlzaW9uQWN0aXZlLmxlbmd0aCAhPT0gY29sbGlzaW9uQWN0aXZlSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPSBjb2xsaXNpb25BY3RpdmVJbmRleDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdpdmVuIHBhaXJzIHN0cnVjdHVyZS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtwYWlyc30gcGFpcnNcbiAgICAgKiBAcmV0dXJuIHtwYWlyc30gcGFpcnNcbiAgICAgKi9cbiAgICBQYWlycy5jbGVhciA9IGZ1bmN0aW9uKHBhaXJzKSB7XG4gICAgICAgIHBhaXJzLnRhYmxlID0ge307XG4gICAgICAgIHBhaXJzLmxpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgcGFpcnMuY29sbGlzaW9uU3RhcnQubGVuZ3RoID0gMDtcbiAgICAgICAgcGFpcnMuY29sbGlzaW9uQWN0aXZlLmxlbmd0aCA9IDA7XG4gICAgICAgIHBhaXJzLmNvbGxpc2lvbkVuZC5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBNYXR0ZXIgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xyXG5cclxuTWF0dGVyLkF4ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxuTWF0dGVyLkJvZGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5NYXR0ZXIuQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbk1hdHRlci5Cb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5NYXR0ZXIuQ29sbGlzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuTWF0dGVyLkNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbk1hdHRlci5Db21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5NYXR0ZXIuQ29tcG9zaXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xyXG5NYXR0ZXIuQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5NYXR0ZXIuQ29udGFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5NYXR0ZXIuRGV0ZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcclxuTWF0dGVyLkVuZ2luZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xyXG5NYXR0ZXIuRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuTWF0dGVyLkdyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcclxuTWF0dGVyLk1vdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XHJcbk1hdHRlci5Nb3VzZUNvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcclxuTWF0dGVyLlBhaXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG5NYXR0ZXIuUGFpcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxuTWF0dGVyLlBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG5NYXR0ZXIuUXVlcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcclxuTWF0dGVyLlJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xyXG5NYXR0ZXIuUmVzb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcclxuTWF0dGVyLlJ1bm5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xyXG5NYXR0ZXIuU0FUID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XHJcbk1hdHRlci5TbGVlcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbk1hdHRlci5TdmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcclxuTWF0dGVyLlZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbk1hdHRlci5WZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbk1hdHRlci5Xb3JsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xyXG5cclxuLy8gdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eVxyXG5NYXR0ZXIuRW5naW5lLnJ1biA9IE1hdHRlci5SdW5uZXIucnVuO1xyXG5NYXR0ZXIuQ29tbW9uLmRlcHJlY2F0ZWQoTWF0dGVyLkVuZ2luZSwgJ3J1bicsICdFbmdpbmUucnVuIOKepCB1c2UgTWF0dGVyLlJ1bm5lci5ydW4oZW5naW5lKSBpbnN0ZWFkJyk7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxyXG4qIFRoZSBgTWF0dGVyYCBtb2R1bGUgaXMgdGhlIHRvcCBsZXZlbCBuYW1lc3BhY2UuIEl0IGFsc28gaW5jbHVkZXMgYSBmdW5jdGlvbiBmb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIHRvcCBvZiB0aGUgbGlicmFyeS5cclxuKlxyXG4qIEBjbGFzcyBNYXR0ZXJcclxuKi9cclxuXHJcbnZhciBNYXR0ZXIgPSB7fTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWF0dGVyO1xyXG5cclxudmFyIFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBsaWJyYXJ5IG5hbWUuXHJcbiAgICAgKiBAcHJvcGVydHkgbmFtZVxyXG4gICAgICogQHJlYWRPbmx5XHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIubmFtZSA9ICdtYXR0ZXItanMnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGxpYnJhcnkgdmVyc2lvbi5cclxuICAgICAqIEBwcm9wZXJ0eSB2ZXJzaW9uXHJcbiAgICAgKiBAcmVhZE9ubHlcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE1hdHRlci52ZXJzaW9uID0gIHRydWUgPyBcIjAuMjAuMFwiIDogdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBsaXN0IG9mIHBsdWdpbiBkZXBlbmRlbmNpZXMgdG8gYmUgaW5zdGFsbGVkLiBUaGVzZSBhcmUgbm9ybWFsbHkgc2V0IGFuZCBpbnN0YWxsZWQgdGhyb3VnaCBgTWF0dGVyLnVzZWAuXHJcbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgc2V0IGBNYXR0ZXIudXNlc2AgbWFudWFsbHkgYW5kIGluc3RhbGwgdGhlbSBieSBjYWxsaW5nIGBQbHVnaW4udXNlKE1hdHRlcilgLlxyXG4gICAgICogQHByb3BlcnR5IHVzZXNcclxuICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnVzZXMgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwbHVnaW5zIHRoYXQgaGF2ZSBiZWVuIGluc3RhbGxlZCB0aHJvdWdoIGBNYXR0ZXIuUGx1Z2luLmluc3RhbGxgLiBSZWFkIG9ubHkuXHJcbiAgICAgKiBAcHJvcGVydHkgdXNlZFxyXG4gICAgICogQHJlYWRPbmx5XHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIE1hdHRlci51c2VkID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YWxscyB0aGUgZ2l2ZW4gcGx1Z2lucyBvbiB0aGUgYE1hdHRlcmAgbmFtZXNwYWNlLlxyXG4gICAgICogVGhpcyBpcyBhIHNob3J0LWhhbmQgZm9yIGBQbHVnaW4udXNlYCwgc2VlIGl0IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgYXQgdGhlIHN0YXJ0IG9mIHlvdXIgY29kZSwgd2l0aCBhbGwgb2YgdGhlIHBsdWdpbnMgeW91IHdpc2ggdG8gaW5zdGFsbCBhcyBhcmd1bWVudHMuXHJcbiAgICAgKiBBdm9pZCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgdW5sZXNzIHlvdSBpbnRlbmQgdG8gbWFudWFsbHkgY29udHJvbCBpbnN0YWxsYXRpb24gb3JkZXIuXHJcbiAgICAgKiBAbWV0aG9kIHVzZVxyXG4gICAgICogQHBhcmFtIC4uLnBsdWdpbiB7RnVuY3Rpb259IFRoZSBwbHVnaW4ocykgdG8gaW5zdGFsbCBvbiBgYmFzZWAgKG11bHRpLWFyZ3VtZW50KS5cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnVzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFBsdWdpbi51c2UoTWF0dGVyLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYmVmb3JlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBNYXR0ZXJgLlxyXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXHJcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYE1hdHRlcmBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGJlZm9yZSB0aGUgb3JpZ2luYWxcclxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIuYmVmb3JlID0gZnVuY3Rpb24ocGF0aCwgZnVuYykge1xyXG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15NYXR0ZXIuLywgJycpO1xyXG4gICAgICAgIHJldHVybiBDb21tb24uY2hhaW5QYXRoQmVmb3JlKE1hdHRlciwgcGF0aCwgZnVuYyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGFmdGVyIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBNYXR0ZXJgLlxyXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXHJcbiAgICAgKiBAbWV0aG9kIGFmdGVyXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgTWF0dGVyYFxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgdGhlIG9yaWdpbmFsXHJcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWxcclxuICAgICAqL1xyXG4gICAgTWF0dGVyLmFmdGVyID0gZnVuY3Rpb24ocGF0aCwgZnVuYykge1xyXG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15NYXR0ZXIuLywgJycpO1xyXG4gICAgICAgIHJldHVybiBDb21tb24uY2hhaW5QYXRoQWZ0ZXIoTWF0dGVyLCBwYXRoLCBmdW5jKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQ29tcG9zaXRlc2AgbW9kdWxlIGNvbnRhaW5zIGZhY3RvcnkgbWV0aG9kcyBmb3IgY3JlYXRpbmcgY29tcG9zaXRlIGJvZGllc1xuKiB3aXRoIGNvbW1vbmx5IHVzZWQgY29uZmlndXJhdGlvbnMgKHN1Y2ggYXMgc3RhY2tzIGFuZCBjaGFpbnMpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQ29tcG9zaXRlc1xuKi9cblxudmFyIENvbXBvc2l0ZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGVzO1xuXG52YXIgQ29tcG9zaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBCb2RpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBkZXByZWNhdGVkID0gQ29tbW9uLmRlcHJlY2F0ZWQ7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBib2RpZXMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2sgaW4gYSBncmlkIGFycmFuZ2VtZW50LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgYm9keSdzIGJvdW5kcyB0byBwcmV2ZW50IG92ZXJsYXBzLlxuICAgICAqIEBtZXRob2Qgc3RhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBTdGFydGluZyBwb3NpdGlvbiBpbiBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFN0YXJ0aW5nIHBvc2l0aW9uIGluIFkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5HYXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93R2FwXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLnN0YWNrID0gZnVuY3Rpb24oeCwgeSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdGFjayA9IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ1N0YWNrJyB9KSxcbiAgICAgICAgICAgIGN1cnJlbnRYID0geCxcbiAgICAgICAgICAgIGN1cnJlbnRZID0geSxcbiAgICAgICAgICAgIGxhc3RCb2R5LFxuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY2FsbGJhY2soY3VycmVudFgsIGN1cnJlbnRZLCBjb2x1bW4sIHJvdywgbGFzdEJvZHksIGkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keUhlaWdodCA9IGJvZHkuYm91bmRzLm1heC55IC0gYm9keS5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5V2lkdGggPSBib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkuYm91bmRzLm1pbi54OyBcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9keUhlaWdodCA+IG1heEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IGJvZHlIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShib2R5LCB7IHg6IGJvZHlXaWR0aCAqIDAuNSwgeTogYm9keUhlaWdodCAqIDAuNSB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WCA9IGJvZHkuYm91bmRzLm1heC54ICsgY29sdW1uR2FwO1xuXG4gICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KHN0YWNrLCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCb2R5ID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYICs9IGNvbHVtbkdhcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGN1cnJlbnRZICs9IG1heEhlaWdodCArIHJvd0dhcDtcbiAgICAgICAgICAgIGN1cnJlbnRYID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFjaztcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENoYWlucyBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBjb21wb3NpdGUgdG9nZXRoZXIgdXNpbmcgY29uc3RyYWludHMuXG4gICAgICogQG1ldGhvZCBjaGFpblxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geE9mZnNldEFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geU9mZnNldEFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geE9mZnNldEJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geU9mZnNldEJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjaGFpbmVkIHRvZ2V0aGVyIHdpdGggY29uc3RyYWludHNcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLmNoYWluID0gZnVuY3Rpb24oY29tcG9zaXRlLCB4T2Zmc2V0QSwgeU9mZnNldEEsIHhPZmZzZXRCLCB5T2Zmc2V0Qiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYm9kaWVzID0gY29tcG9zaXRlLmJvZGllcztcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keUEgPSBib2RpZXNbaSAtIDFdLFxuICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGJvZHlBSGVpZ2h0ID0gYm9keUEuYm91bmRzLm1heC55IC0gYm9keUEuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgIGJvZHlBV2lkdGggPSBib2R5QS5ib3VuZHMubWF4LnggLSBib2R5QS5ib3VuZHMubWluLngsIFxuICAgICAgICAgICAgICAgIGJvZHlCSGVpZ2h0ID0gYm9keUIuYm91bmRzLm1heC55IC0gYm9keUIuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgIGJvZHlCV2lkdGggPSBib2R5Qi5ib3VuZHMubWF4LnggLSBib2R5Qi5ib3VuZHMubWluLng7XG4gICAgICAgIFxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIGJvZHlBOiBib2R5QSxcbiAgICAgICAgICAgICAgICBwb2ludEE6IHsgeDogYm9keUFXaWR0aCAqIHhPZmZzZXRBLCB5OiBib2R5QUhlaWdodCAqIHlPZmZzZXRBIH0sXG4gICAgICAgICAgICAgICAgYm9keUI6IGJvZHlCLFxuICAgICAgICAgICAgICAgIHBvaW50QjogeyB4OiBib2R5QldpZHRoICogeE9mZnNldEIsIHk6IGJvZHlCSGVpZ2h0ICogeU9mZnNldEIgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKGNvbnN0cmFpbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBvc2l0ZS5sYWJlbCArPSAnIENoYWluJztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIGJvZGllcyBpbiB0aGUgY29tcG9zaXRlIHdpdGggY29uc3RyYWludHMgaW4gYSBncmlkIHBhdHRlcm4sIHdpdGggb3B0aW9uYWwgY3Jvc3MgYnJhY2VzLlxuICAgICAqIEBtZXRob2QgbWVzaFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjcm9zc0JyYWNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIG1lc2hlZCB0b2dldGhlciB3aXRoIGNvbnN0cmFpbnRzXG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5tZXNoID0gZnVuY3Rpb24oY29tcG9zaXRlLCBjb2x1bW5zLCByb3dzLCBjcm9zc0JyYWNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSBjb21wb3NpdGUuYm9kaWVzLFxuICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgY29sLFxuICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICBib2R5QixcbiAgICAgICAgICAgIGJvZHlDO1xuICAgICAgICBcbiAgICAgICAgZm9yIChyb3cgPSAwOyByb3cgPCByb3dzOyByb3crKykge1xuICAgICAgICAgICAgZm9yIChjb2wgPSAxOyBjb2wgPCBjb2x1bW5zOyBjb2wrKykge1xuICAgICAgICAgICAgICAgIGJvZHlBID0gYm9kaWVzWyhjb2wgLSAxKSArIChyb3cgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgYm9keUIgPSBib2RpZXNbY29sICsgKHJvdyAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBib2R5QTogYm9keUEsIGJvZHlCOiBib2R5QiB9LCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29sID0gMDsgY29sIDwgY29sdW1uczsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUEgPSBib2RpZXNbY29sICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgYm9keUIgPSBib2RpZXNbY29sICsgKHJvdyAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3Jvc3NCcmFjZSAmJiBjb2wgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QyA9IGJvZGllc1soY29sIC0gMSkgKyAoKHJvdyAtIDEpICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlDLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcm9zc0JyYWNlICYmIGNvbCA8IGNvbHVtbnMgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QyA9IGJvZGllc1soY29sICsgMSkgKyAoKHJvdyAtIDEpICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlDLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBvc2l0ZS5sYWJlbCArPSAnIE1lc2gnO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBib2RpZXMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2sgaW4gYSBweXJhbWlkIGFycmFuZ2VtZW50LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgYm9keSdzIGJvdW5kcyB0byBwcmV2ZW50IG92ZXJsYXBzLlxuICAgICAqIEBtZXRob2QgcHlyYW1pZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFN0YXJ0aW5nIHBvc2l0aW9uIGluIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgU3RhcnRpbmcgcG9zaXRpb24gaW4gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjcmVhdGVkIGluIHRoZSBjYWxsYmFja1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMucHlyYW1pZCA9IGZ1bmN0aW9uKHgsIHksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlcy5zdGFjayh4LCB5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgZnVuY3Rpb24oc3RhY2tYLCBzdGFja1ksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbFJvd3MgPSBNYXRoLm1pbihyb3dzLCBNYXRoLmNlaWwoY29sdW1ucyAvIDIpKSxcbiAgICAgICAgICAgICAgICBsYXN0Qm9keVdpZHRoID0gbGFzdEJvZHkgPyBsYXN0Qm9keS5ib3VuZHMubWF4LnggLSBsYXN0Qm9keS5ib3VuZHMubWluLnggOiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocm93ID4gYWN0dWFsUm93cylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHJldmVyc2Ugcm93IG9yZGVyXG4gICAgICAgICAgICByb3cgPSBhY3R1YWxSb3dzIC0gcm93O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSByb3csXG4gICAgICAgICAgICAgICAgZW5kID0gY29sdW1ucyAtIDEgLSByb3c7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW4gPCBzdGFydCB8fCBjb2x1bW4gPiBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyByZXRyb2FjdGl2ZWx5IGZpeCB0aGUgZmlyc3QgYm9keSdzIHBvc2l0aW9uLCBzaW5jZSB3aWR0aCB3YXMgdW5rbm93blxuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShsYXN0Qm9keSwgeyB4OiAoY29sdW1uICsgKGNvbHVtbnMgJSAyID09PSAxID8gMSA6IC0xKSkgKiBsYXN0Qm9keVdpZHRoLCB5OiAwIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeE9mZnNldCA9IGxhc3RCb2R5ID8gY29sdW1uICogbGFzdEJvZHlXaWR0aCA6IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh4ICsgeE9mZnNldCArIGNvbHVtbiAqIGNvbHVtbkdhcCwgc3RhY2tZLCBjb2x1bW4sIHJvdywgbGFzdEJvZHksIGkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYXMgbm93IG1vdmVkIHRvIHRoZSBbbmV3dG9uc0NyYWRsZSBleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9uZXd0b25zQ3JhZGxlLmpzKSwgZm9sbG93IHRoYXQgaW5zdGVhZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaGVyZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBtb3ZlZCB0byBuZXd0b25zQ3JhZGxlIGV4YW1wbGVcbiAgICAgKiBAbWV0aG9kIG5ld3RvbnNDcmFkbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBTdGFydGluZyBwb3NpdGlvbiBpbiBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFN0YXJ0aW5nIHBvc2l0aW9uIGluIFkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIG5ld3RvbnNDcmFkbGUgYm9keVxuICAgICAqL1xuICAgIENvbXBvc2l0ZXMubmV3dG9uc0NyYWRsZSA9IGZ1bmN0aW9uKHgsIHksIG51bWJlciwgc2l6ZSwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBuZXd0b25zQ3JhZGxlID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnTmV3dG9ucyBDcmFkbGUnIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZXBhcmF0aW9uID0gMS45LFxuICAgICAgICAgICAgICAgIGNpcmNsZSA9IEJvZGllcy5jaXJjbGUoeCArIGkgKiAoc2l6ZSAqIHNlcGFyYXRpb24pLCB5ICsgbGVuZ3RoLCBzaXplLCBcbiAgICAgICAgICAgICAgICAgICAgeyBpbmVydGlhOiBJbmZpbml0eSwgcmVzdGl0dXRpb246IDEsIGZyaWN0aW9uOiAwLCBmcmljdGlvbkFpcjogMC4wMDAxLCBzbG9wOiAxIH0pLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBDb25zdHJhaW50LmNyZWF0ZSh7IHBvaW50QTogeyB4OiB4ICsgaSAqIChzaXplICogc2VwYXJhdGlvbiksIHk6IHkgfSwgYm9keUI6IGNpcmNsZSB9KTtcblxuICAgICAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkobmV3dG9uc0NyYWRsZSwgY2lyY2xlKTtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KG5ld3RvbnNDcmFkbGUsIGNvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld3RvbnNDcmFkbGU7XG4gICAgfTtcblxuICAgIGRlcHJlY2F0ZWQoQ29tcG9zaXRlcywgJ25ld3RvbnNDcmFkbGUnLCAnQ29tcG9zaXRlcy5uZXd0b25zQ3JhZGxlIOKepCBtb3ZlZCB0byBuZXd0b25zQ3JhZGxlIGV4YW1wbGUnKTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIGhhcyBub3cgbW92ZWQgdG8gdGhlIFtjYXIgZXhhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvY2FyLmpzKSwgZm9sbG93IHRoYXQgaW5zdGVhZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaGVyZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBtb3ZlZCB0byBjYXIgZXhhbXBsZVxuICAgICAqIEBtZXRob2QgY2FyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggU3RhcnRpbmcgcG9zaXRpb24gaW4gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBTdGFydGluZyBwb3NpdGlvbiBpbiBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2hlZWxTaXplXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY2FyIGJvZHlcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLmNhciA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIHdoZWVsU2l6ZSkge1xuICAgICAgICB2YXIgZ3JvdXAgPSBCb2R5Lm5leHRHcm91cCh0cnVlKSxcbiAgICAgICAgICAgIHdoZWVsQmFzZSA9IDIwLFxuICAgICAgICAgICAgd2hlZWxBT2Zmc2V0ID0gLXdpZHRoICogMC41ICsgd2hlZWxCYXNlLFxuICAgICAgICAgICAgd2hlZWxCT2Zmc2V0ID0gd2lkdGggKiAwLjUgLSB3aGVlbEJhc2UsXG4gICAgICAgICAgICB3aGVlbFlPZmZzZXQgPSAwO1xuICAgIFxuICAgICAgICB2YXIgY2FyID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnQ2FyJyB9KSxcbiAgICAgICAgICAgIGJvZHkgPSBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHsgXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hhbWZlcjoge1xuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGhlaWdodCAqIDAuNVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogMC4wMDAyXG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgdmFyIHdoZWVsQSA9IEJvZGllcy5jaXJjbGUoeCArIHdoZWVsQU9mZnNldCwgeSArIHdoZWVsWU9mZnNldCwgd2hlZWxTaXplLCB7IFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuOFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciB3aGVlbEIgPSBCb2RpZXMuY2lyY2xlKHggKyB3aGVlbEJPZmZzZXQsIHkgKyB3aGVlbFlPZmZzZXQsIHdoZWVsU2l6ZSwgeyBcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjhcbiAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB2YXIgYXhlbEEgPSBDb25zdHJhaW50LmNyZWF0ZSh7XG4gICAgICAgICAgICBib2R5QjogYm9keSxcbiAgICAgICAgICAgIHBvaW50QjogeyB4OiB3aGVlbEFPZmZzZXQsIHk6IHdoZWVsWU9mZnNldCB9LFxuICAgICAgICAgICAgYm9keUE6IHdoZWVsQSxcbiAgICAgICAgICAgIHN0aWZmbmVzczogMSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB2YXIgYXhlbEIgPSBDb25zdHJhaW50LmNyZWF0ZSh7XG4gICAgICAgICAgICBib2R5QjogYm9keSxcbiAgICAgICAgICAgIHBvaW50QjogeyB4OiB3aGVlbEJPZmZzZXQsIHk6IHdoZWVsWU9mZnNldCB9LFxuICAgICAgICAgICAgYm9keUE6IHdoZWVsQixcbiAgICAgICAgICAgIHN0aWZmbmVzczogMSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNhciwgYm9keSk7XG4gICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNhciwgd2hlZWxBKTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCB3aGVlbEIpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjYXIsIGF4ZWxBKTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY2FyLCBheGVsQik7XG5cbiAgICAgICAgcmV0dXJuIGNhcjtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChDb21wb3NpdGVzLCAnY2FyJywgJ0NvbXBvc2l0ZXMuY2FyIOKepCBtb3ZlZCB0byBjYXIgZXhhbXBsZScpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYXMgbm93IG1vdmVkIHRvIHRoZSBbc29mdEJvZHkgZXhhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvc29mdEJvZHkuanMpXG4gICAgICogYW5kIHRoZSBbY2xvdGggZXhhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvY2xvdGguanMpLCBmb2xsb3cgdGhvc2UgaW5zdGVhZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaGVyZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBtb3ZlZCB0byBzb2Z0Qm9keSBhbmQgY2xvdGggZXhhbXBsZXNcbiAgICAgKiBAbWV0aG9kIHNvZnRCb2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggU3RhcnRpbmcgcG9zaXRpb24gaW4gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBTdGFydGluZyBwb3NpdGlvbiBpbiBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uR2FwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd0dhcFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY3Jvc3NCcmFjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJ0aWNsZVJhZGl1c1xuICAgICAqIEBwYXJhbSB7fSBwYXJ0aWNsZU9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge30gY29uc3RyYWludE9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBzb2Z0Qm9keVxuICAgICAqL1xuICAgIENvbXBvc2l0ZXMuc29mdEJvZHkgPSBmdW5jdGlvbih4LCB5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgY3Jvc3NCcmFjZSwgcGFydGljbGVSYWRpdXMsIHBhcnRpY2xlT3B0aW9ucywgY29uc3RyYWludE9wdGlvbnMpIHtcbiAgICAgICAgcGFydGljbGVPcHRpb25zID0gQ29tbW9uLmV4dGVuZCh7IGluZXJ0aWE6IEluZmluaXR5IH0sIHBhcnRpY2xlT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0cmFpbnRPcHRpb25zID0gQ29tbW9uLmV4dGVuZCh7IHN0aWZmbmVzczogMC4yLCByZW5kZXI6IHsgdHlwZTogJ2xpbmUnLCBhbmNob3JzOiBmYWxzZSB9IH0sIGNvbnN0cmFpbnRPcHRpb25zKTtcblxuICAgICAgICB2YXIgc29mdEJvZHkgPSBDb21wb3NpdGVzLnN0YWNrKHgsIHksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBmdW5jdGlvbihzdGFja1gsIHN0YWNrWSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvZGllcy5jaXJjbGUoc3RhY2tYLCBzdGFja1ksIHBhcnRpY2xlUmFkaXVzLCBwYXJ0aWNsZU9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBDb21wb3NpdGVzLm1lc2goc29mdEJvZHksIGNvbHVtbnMsIHJvd3MsIGNyb3NzQnJhY2UsIGNvbnN0cmFpbnRPcHRpb25zKTtcblxuICAgICAgICBzb2Z0Qm9keS5sYWJlbCA9ICdTb2Z0IEJvZHknO1xuXG4gICAgICAgIHJldHVybiBzb2Z0Qm9keTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChDb21wb3NpdGVzLCAnc29mdEJvZHknLCAnQ29tcG9zaXRlcy5zb2Z0Qm9keSDinqQgbW92ZWQgdG8gc29mdEJvZHkgYW5kIGNsb3RoIGV4YW1wbGVzJyk7XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoaXMgbW9kdWxlIGhhcyBub3cgYmVlbiByZXBsYWNlZCBieSBgTWF0dGVyLkRldGVjdG9yYC5cbipcbiogQWxsIHVzYWdlIHNob3VsZCBiZSBtaWdyYXRlZCB0byBgTWF0dGVyLkRldGVjdG9yYCBvciBhbm90aGVyIGFsdGVybmF0aXZlLlxuKiBGb3IgYmFjay1jb21wYXRpYmlsaXR5IHB1cnBvc2VzIHRoaXMgbW9kdWxlIHdpbGwgcmVtYWluIGZvciBhIHNob3J0IHRlcm0gYW5kIHRoZW4gbGF0ZXIgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuKlxuKiBUaGUgYE1hdHRlci5HcmlkYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gYnJvYWRwaGFzZSBncmlkIHN0cnVjdHVyZXMuXG4qXG4qIEBjbGFzcyBHcmlkXG4qIEBkZXByZWNhdGVkXG4qL1xuXG52YXIgR3JpZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdyaWQ7XG5cbnZhciBQYWlyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGRlcHJlY2F0ZWQgPSBDb21tb24uZGVwcmVjYXRlZDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBncmlkLlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtncmlkfSBBIG5ldyBncmlkXG4gICAgICovXG4gICAgR3JpZC5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJ1Y2tldHM6IHt9LFxuICAgICAgICAgICAgcGFpcnM6IHt9LFxuICAgICAgICAgICAgcGFpcnNMaXN0OiBbXSxcbiAgICAgICAgICAgIGJ1Y2tldFdpZHRoOiA0OCxcbiAgICAgICAgICAgIGJ1Y2tldEhlaWdodDogNDhcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiBhIHNpbmdsZSBncmlkIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBidWNrZXRXaWR0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDQ4XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIGEgc2luZ2xlIGdyaWQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJ1Y2tldEhlaWdodFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDQ4XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBncmlkLlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtncmlkfSBncmlkXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlXG4gICAgICovXG4gICAgR3JpZC51cGRhdGUgPSBmdW5jdGlvbihncmlkLCBib2RpZXMsIGVuZ2luZSwgZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIGksIGNvbCwgcm93LFxuICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBidWNrZXRzID0gZ3JpZC5idWNrZXRzLFxuICAgICAgICAgICAgYnVja2V0LFxuICAgICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgICAgICBncmlkQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1NsZWVwaW5nICYmICFmb3JjZVVwZGF0ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eSBib3VuZHMgY2hlY2tcbiAgICAgICAgICAgIGlmICh3b3JsZC5ib3VuZHMgJiYgKGJvZHkuYm91bmRzLm1heC54IDwgd29ybGQuYm91bmRzLm1pbi54IHx8IGJvZHkuYm91bmRzLm1pbi54ID4gd29ybGQuYm91bmRzLm1heC54XG4gICAgICAgICAgICAgICAgfHwgYm9keS5ib3VuZHMubWF4LnkgPCB3b3JsZC5ib3VuZHMubWluLnkgfHwgYm9keS5ib3VuZHMubWluLnkgPiB3b3JsZC5ib3VuZHMubWF4LnkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgbmV3UmVnaW9uID0gR3JpZC5fZ2V0UmVnaW9uKGdyaWQsIGJvZHkpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGUgYm9keSBoYXMgY2hhbmdlZCBncmlkIHJlZ2lvblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlZ2lvbiB8fCBuZXdSZWdpb24uaWQgIT09IGJvZHkucmVnaW9uLmlkIHx8IGZvcmNlVXBkYXRlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWJvZHkucmVnaW9uIHx8IGZvcmNlVXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlZ2lvbiA9IG5ld1JlZ2lvbjtcblxuICAgICAgICAgICAgICAgIHZhciB1bmlvbiA9IEdyaWQuX3JlZ2lvblVuaW9uKG5ld1JlZ2lvbiwgYm9keS5yZWdpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdyaWQgYnVja2V0cyBhZmZlY3RlZCBieSByZWdpb24gY2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSB1bmlvbiBvZiBib3RoIHJlZ2lvbnNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IHVuaW9uLnN0YXJ0Q29sOyBjb2wgPD0gdW5pb24uZW5kQ29sOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IHVuaW9uLnN0YXJ0Um93OyByb3cgPD0gdW5pb24uZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0SWQgPSBHcmlkLl9nZXRCdWNrZXRJZChjb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW5zaWRlTmV3UmVnaW9uID0gKGNvbCA+PSBuZXdSZWdpb24uc3RhcnRDb2wgJiYgY29sIDw9IG5ld1JlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBuZXdSZWdpb24uc3RhcnRSb3cgJiYgcm93IDw9IG5ld1JlZ2lvbi5lbmRSb3cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNJbnNpZGVPbGRSZWdpb24gPSAoY29sID49IGJvZHkucmVnaW9uLnN0YXJ0Q29sICYmIGNvbCA8PSBib2R5LnJlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBib2R5LnJlZ2lvbi5zdGFydFJvdyAmJiByb3cgPD0gYm9keS5yZWdpb24uZW5kUm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gb2xkIHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5zaWRlTmV3UmVnaW9uICYmIGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmlkLl9idWNrZXRSZW1vdmVCb2R5KGdyaWQsIGJ1Y2tldCwgYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdG8gbmV3IHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5yZWdpb24gPT09IG5ld1JlZ2lvbiB8fCAoaXNJbnNpZGVOZXdSZWdpb24gJiYgIWlzSW5zaWRlT2xkUmVnaW9uKSB8fCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnVja2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBHcmlkLl9jcmVhdGVCdWNrZXQoYnVja2V0cywgYnVja2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkoZ3JpZCwgYnVja2V0LCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHJlZ2lvblxuICAgICAgICAgICAgICAgIGJvZHkucmVnaW9uID0gbmV3UmVnaW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gZmxhZyBjaGFuZ2VzIHNvIHdlIGNhbiB1cGRhdGUgcGFpcnNcbiAgICAgICAgICAgICAgICBncmlkQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgcGFpcnMgbGlzdCBvbmx5IGlmIHBhaXJzIGNoYW5nZWQgKGkuZS4gYSBib2R5IGNoYW5nZWQgcmVnaW9uKVxuICAgICAgICBpZiAoZ3JpZENoYW5nZWQpXG4gICAgICAgICAgICBncmlkLnBhaXJzTGlzdCA9IEdyaWQuX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdChncmlkKTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChHcmlkLCAndXBkYXRlJywgJ0dyaWQudXBkYXRlIOKepCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3InKTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JpZC5cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtncmlkfSBncmlkXG4gICAgICovXG4gICAgR3JpZC5jbGVhciA9IGZ1bmN0aW9uKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5idWNrZXRzID0ge307XG4gICAgICAgIGdyaWQucGFpcnMgPSB7fTtcbiAgICAgICAgZ3JpZC5wYWlyc0xpc3QgPSBbXTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChHcmlkLCAnY2xlYXInLCAnR3JpZC5jbGVhciDinqQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yJyk7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgdW5pb24gb2YgdHdvIHJlZ2lvbnMuXG4gICAgICogQG1ldGhvZCBfcmVnaW9uVW5pb25cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSByZWdpb25BXG4gICAgICogQHBhcmFtIHt9IHJlZ2lvbkJcbiAgICAgKiBAcmV0dXJuIHt9IHJlZ2lvblxuICAgICAqL1xuICAgIEdyaWQuX3JlZ2lvblVuaW9uID0gZnVuY3Rpb24ocmVnaW9uQSwgcmVnaW9uQikge1xuICAgICAgICB2YXIgc3RhcnRDb2wgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Q29sLCByZWdpb25CLnN0YXJ0Q29sKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGgubWF4KHJlZ2lvbkEuZW5kQ29sLCByZWdpb25CLmVuZENvbCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGgubWluKHJlZ2lvbkEuc3RhcnRSb3csIHJlZ2lvbkIuc3RhcnRSb3cpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5tYXgocmVnaW9uQS5lbmRSb3csIHJlZ2lvbkIuZW5kUm93KTtcblxuICAgICAgICByZXR1cm4gR3JpZC5fY3JlYXRlUmVnaW9uKHN0YXJ0Q29sLCBlbmRDb2wsIHN0YXJ0Um93LCBlbmRSb3cpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZWdpb24gYSBnaXZlbiBib2R5IGZhbGxzIGluIGZvciBhIGdpdmVuIGdyaWQuXG4gICAgICogQG1ldGhvZCBfZ2V0UmVnaW9uXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBib2R5XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9nZXRSZWdpb24gPSBmdW5jdGlvbihncmlkLCBib2R5KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSBib2R5LmJvdW5kcyxcbiAgICAgICAgICAgIHN0YXJ0Q29sID0gTWF0aC5mbG9vcihib3VuZHMubWluLnggLyBncmlkLmJ1Y2tldFdpZHRoKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGguZmxvb3IoYm91bmRzLm1heC54IC8gZ3JpZC5idWNrZXRXaWR0aCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGguZmxvb3IoYm91bmRzLm1pbi55IC8gZ3JpZC5idWNrZXRIZWlnaHQpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLyBncmlkLmJ1Y2tldEhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIEdyaWQuX2NyZWF0ZVJlZ2lvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlZ2lvbi5cbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVSZWdpb25cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBzdGFydENvbFxuICAgICAqIEBwYXJhbSB7fSBlbmRDb2xcbiAgICAgKiBAcGFyYW0ge30gc3RhcnRSb3dcbiAgICAgKiBAcGFyYW0ge30gZW5kUm93XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVSZWdpb24gPSBmdW5jdGlvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KSB7XG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgaWQ6IHN0YXJ0Q29sICsgJywnICsgZW5kQ29sICsgJywnICsgc3RhcnRSb3cgKyAnLCcgKyBlbmRSb3csXG4gICAgICAgICAgICBzdGFydENvbDogc3RhcnRDb2wsIFxuICAgICAgICAgICAgZW5kQ29sOiBlbmRDb2wsIFxuICAgICAgICAgICAgc3RhcnRSb3c6IHN0YXJ0Um93LCBcbiAgICAgICAgICAgIGVuZFJvdzogZW5kUm93IFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBidWNrZXQgaWQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2QgX2dldEJ1Y2tldElkXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gY29sdW1uXG4gICAgICogQHBhcmFtIHt9IHJvd1xuICAgICAqIEByZXR1cm4ge3N0cmluZ30gYnVja2V0IGlkXG4gICAgICovXG4gICAgR3JpZC5fZ2V0QnVja2V0SWQgPSBmdW5jdGlvbihjb2x1bW4sIHJvdykge1xuICAgICAgICByZXR1cm4gJ0MnICsgY29sdW1uICsgJ1InICsgcm93O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYnVja2V0LlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUJ1Y2tldFxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGJ1Y2tldHNcbiAgICAgKiBAcGFyYW0ge30gYnVja2V0SWRcbiAgICAgKiBAcmV0dXJuIHt9IGJ1Y2tldFxuICAgICAqL1xuICAgIEdyaWQuX2NyZWF0ZUJ1Y2tldCA9IGZ1bmN0aW9uKGJ1Y2tldHMsIGJ1Y2tldElkKSB7XG4gICAgICAgIHZhciBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXSA9IFtdO1xuICAgICAgICByZXR1cm4gYnVja2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgYm9keSB0byBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9idWNrZXRBZGRCb2R5XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqL1xuICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkgPSBmdW5jdGlvbihncmlkLCBidWNrZXQsIGJvZHkpIHtcbiAgICAgICAgdmFyIGdyaWRQYWlycyA9IGdyaWQucGFpcnMsXG4gICAgICAgICAgICBwYWlySWQgPSBQYWlyLmlkLFxuICAgICAgICAgICAgYnVja2V0TGVuZ3RoID0gYnVja2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gYWRkIG5ldyBwYWlyc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnVja2V0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5QiA9IGJ1Y2tldFtpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaWQgPT09IGJvZHlCLmlkIHx8IChib2R5LmlzU3RhdGljICYmIGJvZHlCLmlzU3RhdGljKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGJ1Y2tldHMgdGhlIHBhaXIgZXhpc3RzIGluXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIEdyaWQudXBkYXRlIHRvIHdvcmtcbiAgICAgICAgICAgIHZhciBpZCA9IHBhaXJJZChib2R5LCBib2R5QiksXG4gICAgICAgICAgICAgICAgcGFpciA9IGdyaWRQYWlyc1tpZF07XG5cbiAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgcGFpclsyXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBncmlkUGFpcnNbaWRdID0gW2JvZHksIGJvZHlCLCAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0byBib2RpZXMgKGFmdGVyIHBhaXJzLCBvdGhlcndpc2UgcGFpcnMgd2l0aCBzZWxmKVxuICAgICAgICBidWNrZXQucHVzaChib2R5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9idWNrZXRSZW1vdmVCb2R5XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqL1xuICAgIEdyaWQuX2J1Y2tldFJlbW92ZUJvZHkgPSBmdW5jdGlvbihncmlkLCBidWNrZXQsIGJvZHkpIHtcbiAgICAgICAgdmFyIGdyaWRQYWlycyA9IGdyaWQucGFpcnMsXG4gICAgICAgICAgICBwYWlySWQgPSBQYWlyLmlkLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBidWNrZXRcbiAgICAgICAgYnVja2V0LnNwbGljZShDb21tb24uaW5kZXhPZihidWNrZXQsIGJvZHkpLCAxKTtcblxuICAgICAgICB2YXIgYnVja2V0TGVuZ3RoID0gYnVja2V0Lmxlbmd0aDtcblxuICAgICAgICAvLyB1cGRhdGUgcGFpciBjb3VudHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJ1Y2tldExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgYnVja2V0cyB0aGUgcGFpciBleGlzdHMgaW5cbiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCB0byB3b3JrXG4gICAgICAgICAgICB2YXIgcGFpciA9IGdyaWRQYWlyc1twYWlySWQoYm9keSwgYnVja2V0W2ldKV07XG5cbiAgICAgICAgICAgIGlmIChwYWlyKVxuICAgICAgICAgICAgICAgIHBhaXJbMl0gLT0gMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBsaXN0IG9mIHRoZSBhY3RpdmUgcGFpcnMgaW4gdGhlIGdyaWQuXG4gICAgICogQG1ldGhvZCBfY3JlYXRlQWN0aXZlUGFpcnNMaXN0XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEByZXR1cm4gW10gcGFpcnNcbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVBY3RpdmVQYWlyc0xpc3QgPSBmdW5jdGlvbihncmlkKSB7XG4gICAgICAgIHZhciBwYWlyLFxuICAgICAgICAgICAgZ3JpZFBhaXJzID0gZ3JpZC5wYWlycyxcbiAgICAgICAgICAgIHBhaXJLZXlzID0gQ29tbW9uLmtleXMoZ3JpZFBhaXJzKSxcbiAgICAgICAgICAgIHBhaXJLZXlzTGVuZ3RoID0gcGFpcktleXMubGVuZ3RoLFxuICAgICAgICAgICAgcGFpcnMgPSBbXSxcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGdyaWQucGFpcnNcbiAgICAgICAgZm9yIChrID0gMDsgayA8IHBhaXJLZXlzTGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBncmlkUGFpcnNbcGFpcktleXNba11dO1xuXG4gICAgICAgICAgICAvLyBpZiBwYWlyIGV4aXN0cyBpbiBhdCBsZWFzdCBvbmUgYnVja2V0XG4gICAgICAgICAgICAvLyBpdCBpcyBhIHBhaXIgdGhhdCBuZWVkcyBmdXJ0aGVyIGNvbGxpc2lvbiB0ZXN0aW5nIHNvIHB1c2ggaXRcbiAgICAgICAgICAgIGlmIChwYWlyWzJdID4gMCkge1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2gocGFpcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBncmlkUGFpcnNbcGFpcktleXNba11dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgIH07XG4gICAgXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLk1vdXNlQ29uc3RyYWludGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIG1vdXNlIGNvbnN0cmFpbnRzLlxuKiBNb3VzZSBjb25zdHJhaW50cyBhcmUgdXNlZCBmb3IgYWxsb3dpbmcgdXNlciBpbnRlcmFjdGlvbiwgcHJvdmlkaW5nIHRoZSBhYmlsaXR5IHRvIG1vdmUgYm9kaWVzIHZpYSB0aGUgbW91c2Ugb3IgdG91Y2guXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBNb3VzZUNvbnN0cmFpbnRcbiovXG5cbnZhciBNb3VzZUNvbnN0cmFpbnQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZUNvbnN0cmFpbnQ7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgU2xlZXBpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIE1vdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBEZXRlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBtb3VzZSBjb25zdHJhaW50LlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge01vdXNlQ29uc3RyYWludH0gQSBuZXcgTW91c2VDb25zdHJhaW50XG4gICAgICovXG4gICAgTW91c2VDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKGVuZ2luZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbW91c2UgPSAoZW5naW5lID8gZW5naW5lLm1vdXNlIDogbnVsbCkgfHwgKG9wdGlvbnMgPyBvcHRpb25zLm1vdXNlIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKCFtb3VzZSkge1xuICAgICAgICAgICAgaWYgKGVuZ2luZSAmJiBlbmdpbmUucmVuZGVyICYmIGVuZ2luZS5yZW5kZXIuY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UgPSBNb3VzZS5jcmVhdGUoZW5naW5lLnJlbmRlci5jYW52YXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKG9wdGlvbnMuZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ01vdXNlQ29uc3RyYWludC5jcmVhdGU6IG9wdGlvbnMubW91c2Ugd2FzIHVuZGVmaW5lZCwgb3B0aW9ucy5lbGVtZW50IHdhcyB1bmRlZmluZWQsIG1heSBub3QgZnVuY3Rpb24gYXMgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb25zdHJhaW50ID0gQ29uc3RyYWludC5jcmVhdGUoeyBcbiAgICAgICAgICAgIGxhYmVsOiAnTW91c2UgQ29uc3RyYWludCcsXG4gICAgICAgICAgICBwb2ludEE6IG1vdXNlLnBvc2l0aW9uLFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogMC4wMSwgXG4gICAgICAgICAgICBzdGlmZm5lc3M6IDAuMSxcbiAgICAgICAgICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDEsXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogJyM5MEVFOTAnLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICB0eXBlOiAnbW91c2VDb25zdHJhaW50JyxcbiAgICAgICAgICAgIG1vdXNlOiBtb3VzZSxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICAgICAgY29uc3RyYWludDogY29uc3RyYWludCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAweDAwMDEsXG4gICAgICAgICAgICAgICAgbWFzazogMHhGRkZGRkZGRixcbiAgICAgICAgICAgICAgICBncm91cDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb3VzZUNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBFdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhlbmdpbmUud29ybGQpO1xuICAgICAgICAgICAgTW91c2VDb25zdHJhaW50LnVwZGF0ZShtb3VzZUNvbnN0cmFpbnQsIGFsbEJvZGllcyk7XG4gICAgICAgICAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMobW91c2VDb25zdHJhaW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG1vdXNlQ29uc3RyYWludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gbW91c2UgY29uc3RyYWludC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUNvbnN0cmFpbnR9IG1vdXNlQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQudXBkYXRlID0gZnVuY3Rpb24obW91c2VDb25zdHJhaW50LCBib2RpZXMpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgY29uc3RyYWludCA9IG1vdXNlQ29uc3RyYWludC5jb25zdHJhaW50LFxuICAgICAgICAgICAgYm9keSA9IG1vdXNlQ29uc3RyYWludC5ib2R5O1xuXG4gICAgICAgIGlmIChtb3VzZS5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIGlmICghY29uc3RyYWludC5ib2R5Qikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMoYm9keS5ib3VuZHMsIG1vdXNlLnBvc2l0aW9uKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBEZXRlY3Rvci5jYW5Db2xsaWRlKGJvZHkuY29sbGlzaW9uRmlsdGVyLCBtb3VzZUNvbnN0cmFpbnQuY29sbGlzaW9uRmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgbW91c2UucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0gbW91c2UucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0geyB4OiBtb3VzZS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvbi54LCB5OiBtb3VzZS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvbi55IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keS5hbmdsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdzdGFydGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChjb25zdHJhaW50LmJvZHlCLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChib2R5KVxuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ2VuZGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBtb3VzZSBjb25zdHJhaW50IGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIF90cmlnZ2VyRXZlbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZUNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMgPSBmdW5jdGlvbihtb3VzZUNvbnN0cmFpbnQpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgbW91c2VFdmVudHMgPSBtb3VzZS5zb3VyY2VFdmVudHM7XG5cbiAgICAgICAgaWYgKG1vdXNlRXZlbnRzLm1vdXNlbW92ZSlcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNlbW92ZScsIHsgbW91c2U6IG1vdXNlIH0pO1xuXG4gICAgICAgIGlmIChtb3VzZUV2ZW50cy5tb3VzZWRvd24pXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdtb3VzZWRvd24nLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICBpZiAobW91c2VFdmVudHMubW91c2V1cClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNldXAnLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICAvLyByZXNldCB0aGUgbW91c2Ugc3RhdGUgcmVhZHkgZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgTW91c2UuY2xlYXJTb3VyY2VFdmVudHMobW91c2UpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBoYXMgbW92ZWQgKG9yIGEgdG91Y2ggbW92ZXMpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNlbW92ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHttb3VzZX0gZXZlbnQubW91c2UgVGhlIGVuZ2luZSdzIG1vdXNlIGluc3RhbmNlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaXMgZG93biAob3IgYSB0b3VjaCBoYXMgc3RhcnRlZCkgZHVyaW5nIHRoZSBsYXN0IHN0ZXBcbiAgICAqXG4gICAgKiBAZXZlbnQgbW91c2Vkb3duXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBpcyB1cCAob3IgYSB0b3VjaCBoYXMgZW5kZWQpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNldXBcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgc3RhcnRzIGRyYWdnaW5nIGEgYm9keVxuICAgICpcbiAgICAqIEBldmVudCBzdGFydGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IGJlaW5nIGRyYWdnZWRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGVuZHMgZHJhZ2dpbmcgYSBib2R5XG4gICAgKlxuICAgICogQGV2ZW50IGVuZGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IHRoYXQgaGFzIHN0b3BwZWQgYmVpbmcgZHJhZ2dlZFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImNvbnN0cmFpbnRcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNb3VzZWAgaW5zdGFuY2UgaW4gdXNlLiBJZiBub3Qgc3VwcGxpZWQgaW4gYE1vdXNlQ29uc3RyYWludC5jcmVhdGVgLCBvbmUgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG1vdXNlXG4gICAgICogQHR5cGUgbW91c2VcbiAgICAgKiBAZGVmYXVsdCBtb3VzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBCb2R5YCB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBtb3ZlZCBieSB0aGUgdXNlciwgb3IgYG51bGxgIGlmIG5vIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYENvbnN0cmFpbnRgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gbW92ZSB0aGUgYm9keSBkdXJpbmcgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludFxuICAgICAqIEB0eXBlIGNvbnN0cmFpbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gZmlsdGVyIHByb3BlcnRpZXMuXG4gICAgICogVGhlIGNvbGxpc2lvbiBmaWx0ZXIgYWxsb3dzIHRoZSB1c2VyIHRvIGRlZmluZSB3aGljaCB0eXBlcyBvZiBib2R5IHRoaXMgbW91c2UgY29uc3RyYWludCBjYW4gaW50ZXJhY3Qgd2l0aC5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5RdWVyeWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHBlcmZvcm1pbmcgY29sbGlzaW9uIHF1ZXJpZXMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBRdWVyeVxuKi9cblxudmFyIFF1ZXJ5ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlcnk7XG5cbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENvbGxpc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCb2RpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGNvbGxpc2lvbnMgYmV0d2VlbiBgYm9keWAgYW5kIGBib2RpZXNgLlxuICAgICAqIEBtZXRob2QgY29sbGlkZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9uW119IENvbGxpc2lvbnNcbiAgICAgKi9cbiAgICBRdWVyeS5jb2xsaWRlcyA9IGZ1bmN0aW9uKGJvZHksIGJvZGllcykge1xuICAgICAgICB2YXIgY29sbGlzaW9ucyA9IFtdLFxuICAgICAgICAgICAgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGJvdW5kcyA9IGJvZHkuYm91bmRzLFxuICAgICAgICAgICAgY29sbGlkZXMgPSBDb2xsaXNpb24uY29sbGlkZXMsXG4gICAgICAgICAgICBvdmVybGFwcyA9IEJvdW5kcy5vdmVybGFwcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keUEgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgcGFydHNBTGVuZ3RoID0gYm9keUEucGFydHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcnRzQVN0YXJ0ID0gcGFydHNBTGVuZ3RoID09PSAxID8gMCA6IDE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvdmVybGFwcyhib2R5QS5ib3VuZHMsIGJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcGFydHNBU3RhcnQ7IGogPCBwYXJ0c0FMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHlBLnBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGFwcyhwYXJ0LmJvdW5kcywgYm91bmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IGNvbGxpZGVzKHBhcnQsIGJvZHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYSByYXkgc2VnbWVudCBhZ2FpbnN0IGEgc2V0IG9mIGJvZGllcyBhbmQgcmV0dXJucyBhbGwgY29sbGlzaW9ucywgcmF5IHdpZHRoIGlzIG9wdGlvbmFsLiBJbnRlcnNlY3Rpb24gcG9pbnRzIGFyZSBub3QgcHJvdmlkZWQuXG4gICAgICogQG1ldGhvZCByYXlcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHN0YXJ0UG9pbnRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZW5kUG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JheVdpZHRoXVxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbltdfSBDb2xsaXNpb25zXG4gICAgICovXG4gICAgUXVlcnkucmF5ID0gZnVuY3Rpb24oYm9kaWVzLCBzdGFydFBvaW50LCBlbmRQb2ludCwgcmF5V2lkdGgpIHtcbiAgICAgICAgcmF5V2lkdGggPSByYXlXaWR0aCB8fCAxZS0xMDA7XG5cbiAgICAgICAgdmFyIHJheUFuZ2xlID0gVmVjdG9yLmFuZ2xlKHN0YXJ0UG9pbnQsIGVuZFBvaW50KSxcbiAgICAgICAgICAgIHJheUxlbmd0aCA9IFZlY3Rvci5tYWduaXR1ZGUoVmVjdG9yLnN1YihzdGFydFBvaW50LCBlbmRQb2ludCkpLFxuICAgICAgICAgICAgcmF5WCA9IChlbmRQb2ludC54ICsgc3RhcnRQb2ludC54KSAqIDAuNSxcbiAgICAgICAgICAgIHJheVkgPSAoZW5kUG9pbnQueSArIHN0YXJ0UG9pbnQueSkgKiAwLjUsXG4gICAgICAgICAgICByYXkgPSBCb2RpZXMucmVjdGFuZ2xlKHJheVgsIHJheVksIHJheUxlbmd0aCwgcmF5V2lkdGgsIHsgYW5nbGU6IHJheUFuZ2xlIH0pLFxuICAgICAgICAgICAgY29sbGlzaW9ucyA9IFF1ZXJ5LmNvbGxpZGVzKHJheSwgYm9kaWVzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxpc2lvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaXNpb25zW2ldO1xuICAgICAgICAgICAgY29sbGlzaW9uLmJvZHkgPSBjb2xsaXNpb24uYm9keUIgPSBjb2xsaXNpb24uYm9keUE7ICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYm9kaWVzIHdob3NlIGJvdW5kcyBhcmUgaW5zaWRlIChvciBvdXRzaWRlIGlmIHNldCkgdGhlIGdpdmVuIHNldCBvZiBib3VuZHMsIGZyb20gdGhlIGdpdmVuIHNldCBvZiBib2RpZXMuXG4gICAgICogQG1ldGhvZCByZWdpb25cbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7Ym9vbH0gW291dHNpZGU9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Ym9keVtdfSBUaGUgYm9kaWVzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICAgICAqL1xuICAgIFF1ZXJ5LnJlZ2lvbiA9IGZ1bmN0aW9uKGJvZGllcywgYm91bmRzLCBvdXRzaWRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgb3ZlcmxhcHMgPSBCb3VuZHMub3ZlcmxhcHMoYm9keS5ib3VuZHMsIGJvdW5kcyk7XG4gICAgICAgICAgICBpZiAoKG92ZXJsYXBzICYmICFvdXRzaWRlKSB8fCAoIW92ZXJsYXBzICYmIG91dHNpZGUpKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYm9kaWVzIHdob3NlIHZlcnRpY2VzIGNvbnRhaW4gdGhlIGdpdmVuIHBvaW50LCBmcm9tIHRoZSBnaXZlbiBzZXQgb2YgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHJldHVybiB7Ym9keVtdfSBUaGUgYm9kaWVzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICAgICAqL1xuICAgIFF1ZXJ5LnBvaW50ID0gZnVuY3Rpb24oYm9kaWVzLCBwb2ludCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKGJvZHkuYm91bmRzLCBwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gYm9keS5wYXJ0cy5sZW5ndGggPT09IDEgPyAwIDogMTsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMocGFydC5ib3VuZHMsIHBvaW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlJlbmRlcmAgbW9kdWxlIGlzIGEgbGlnaHR3ZWlnaHQsIG9wdGlvbmFsIHV0aWxpdHkgd2hpY2ggcHJvdmlkZXMgYSBzaW1wbGUgY2FudmFzIGJhc2VkIHJlbmRlcmVyIGZvciB2aXN1YWxpc2luZyBpbnN0YW5jZXMgb2YgYE1hdHRlci5FbmdpbmVgLlxuKiBJdCBpcyBpbnRlbmRlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZyBwdXJwb3NlcywgYnV0IG1heSBhbHNvIGJlIHN1aXRhYmxlIGZvciBzaW1wbGUgZ2FtZXMuXG4qIEl0IGluY2x1ZGVzIGEgbnVtYmVyIG9mIGRyYXdpbmcgb3B0aW9ucyBpbmNsdWRpbmcgd2lyZWZyYW1lLCB2ZWN0b3Igd2l0aCBzdXBwb3J0IGZvciBzcHJpdGVzIGFuZCB2aWV3cG9ydHMuXG4qXG4qIEBjbGFzcyBSZW5kZXJcbiovXG5cbnZhciBSZW5kZXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZW5kZXI7XG5cbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIENvbXBvc2l0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgTW91c2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKXsgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKENvbW1vbi5ub3coKSk7IH0sIDEwMDAgLyA2MCk7IH07XG5cbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfVxuXG4gICAgUmVuZGVyLl9nb29kRnBzID0gMzA7XG4gICAgUmVuZGVyLl9nb29kRGVsdGEgPSAxMDAwIC8gNjA7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJlbmRlcmVyLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7cmVuZGVyfSBBIG5ldyByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlci5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGVuZ2luZTogbnVsbCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBjYW52YXM6IG51bGwsXG4gICAgICAgICAgICBtb3VzZTogbnVsbCxcbiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLFxuICAgICAgICAgICAgdGltaW5nOiB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeVNpemU6IDYwLFxuICAgICAgICAgICAgICAgIGRlbHRhOiAwLFxuICAgICAgICAgICAgICAgIGRlbHRhSGlzdG9yeTogW10sXG4gICAgICAgICAgICAgICAgbGFzdFRpbWU6IDAsXG4gICAgICAgICAgICAgICAgbGFzdFRpbWVzdGFtcDogMCxcbiAgICAgICAgICAgICAgICBsYXN0RWxhcHNlZDogMCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBFbGFwc2VkOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgICAgICBlbmdpbmVEZWx0YUhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgICAgIGVuZ2luZUVsYXBzZWRIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgICAgICBlbmdpbmVVcGRhdGVzSGlzdG9yeTogW10sXG4gICAgICAgICAgICAgICAgZWxhcHNlZEhpc3Rvcnk6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzE0MTUxZicsXG4gICAgICAgICAgICAgICAgd2lyZWZyYW1lQmFja2dyb3VuZDogJyMxNDE1MWYnLFxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZVN0cm9rZVN0eWxlOiAnI2JiYicsXG4gICAgICAgICAgICAgICAgaGFzQm91bmRzOiAhIW9wdGlvbnMuYm91bmRzLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgd2lyZWZyYW1lczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U2xlZXBpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd0RlYnVnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93U3RhdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dQZXJmb3JtYW5jZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0JvdW5kczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1ZlbG9jaXR5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1NlcGFyYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93QXhlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1Bvc2l0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0FuZ2xlSW5kaWNhdG9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93SWRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93VmVydGV4TnVtYmVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0NvbnZleEh1bGxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93SW50ZXJuYWxFZGdlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd01vdXNlUG9zaXRpb246IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlbmRlciA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChyZW5kZXIuY2FudmFzKSB7XG4gICAgICAgICAgICByZW5kZXIuY2FudmFzLndpZHRoID0gcmVuZGVyLm9wdGlvbnMud2lkdGggfHwgcmVuZGVyLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHJlbmRlci5jYW52YXMuaGVpZ2h0ID0gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0IHx8IHJlbmRlci5jYW52YXMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyLm1vdXNlID0gb3B0aW9ucy5tb3VzZTtcbiAgICAgICAgcmVuZGVyLmVuZ2luZSA9IG9wdGlvbnMuZW5naW5lO1xuICAgICAgICByZW5kZXIuY2FudmFzID0gcmVuZGVyLmNhbnZhcyB8fCBfY3JlYXRlQ2FudmFzKHJlbmRlci5vcHRpb25zLndpZHRoLCByZW5kZXIub3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICByZW5kZXIuY29udGV4dCA9IHJlbmRlci5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgcmVuZGVyLnRleHR1cmVzID0ge307XG5cbiAgICAgICAgcmVuZGVyLmJvdW5kcyA9IHJlbmRlci5ib3VuZHMgfHwge1xuICAgICAgICAgICAgbWluOiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWF4OiB7XG4gICAgICAgICAgICAgICAgeDogcmVuZGVyLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiByZW5kZXIuY2FudmFzLmhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGZvciB0ZW1wb3JhcnkgYmFjayBjb21wYXRpYmlsaXR5IG9ubHlcbiAgICAgICAgcmVuZGVyLmNvbnRyb2xsZXIgPSBSZW5kZXI7XG4gICAgICAgIHJlbmRlci5vcHRpb25zLnNob3dCcm9hZHBoYXNlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gIT09IDEpIHtcbiAgICAgICAgICAgIFJlbmRlci5zZXRQaXhlbFJhdGlvKHJlbmRlciwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQ29tbW9uLmlzRWxlbWVudChyZW5kZXIuZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJlbmRlci5lbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlci5jYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IHVwZGF0ZXMgdGhlIHJlbmRlciBjYW52YXMgb24gdGhlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGV2ZW50LlxuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5ydW4gPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgKGZ1bmN0aW9uIGxvb3AodGltZSl7XG4gICAgICAgICAgICByZW5kZXIuZnJhbWVSZXF1ZXN0SWQgPSBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBfdXBkYXRlVGltaW5nKHJlbmRlciwgdGltZSk7XG5cbiAgICAgICAgICAgIFJlbmRlci53b3JsZChyZW5kZXIsIHRpbWUpO1xuXG4gICAgICAgICAgICByZW5kZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0ocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5zaG93U3RhdHMgfHwgcmVuZGVyLm9wdGlvbnMuc2hvd0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgUmVuZGVyLnN0YXRzKHJlbmRlciwgcmVuZGVyLmNvbnRleHQsIHRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVuZGVyLm9wdGlvbnMuc2hvd1BlcmZvcm1hbmNlIHx8IHJlbmRlci5vcHRpb25zLnNob3dEZWJ1Zykge1xuICAgICAgICAgICAgICAgIFJlbmRlci5wZXJmb3JtYW5jZShyZW5kZXIsIHJlbmRlci5jb250ZXh0LCB0aW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVuZGVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB9KSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUmVuZGVyLnJ1bmAgb24gdGhlIGdpdmVuIGByZW5kZXJgLCBieSBjYW5jZWxpbmcgdGhlIGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGV2ZW50IGxvb3AuXG4gICAgICogQG1ldGhvZCBzdG9wXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5zdG9wID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZShyZW5kZXIuZnJhbWVSZXF1ZXN0SWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIgYW5kIHVwZGF0ZXMgdGhlIGNhbnZhcy5cbiAgICAgKiBUbyBhdXRvbWF0aWNhbGx5IGRldGVjdCB0aGUgY29ycmVjdCByYXRpbywgcGFzcyB0aGUgc3RyaW5nIGAnYXV0bydgIGZvciBgcGl4ZWxSYXRpb2AuXG4gICAgICogQG1ldGhvZCBzZXRQaXhlbFJhdGlvXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvXG4gICAgICovXG4gICAgUmVuZGVyLnNldFBpeGVsUmF0aW8gPSBmdW5jdGlvbihyZW5kZXIsIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIGNhbnZhcyA9IHJlbmRlci5jYW52YXM7XG5cbiAgICAgICAgaWYgKHBpeGVsUmF0aW8gPT09ICdhdXRvJykge1xuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IF9nZXRQaXhlbFJhdGlvKGNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdkYXRhLXBpeGVsLXJhdGlvJywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKiBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgJ3B4JztcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgJ3B4JztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVuZGVyIGB3aWR0aGAgYW5kIGBoZWlnaHRgLlxuICAgICAqIFxuICAgICAqIFVwZGF0ZXMgdGhlIGNhbnZhcyBhY2NvdW50aW5nIGZvciBgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpb2AuICBcbiAgICAgKiBcbiAgICAgKiBVcGRhdGVzIHRoZSBib3R0b20gcmlnaHQgcmVuZGVyIGJvdW5kIGByZW5kZXIuYm91bmRzLm1heGAgcmVsYXRpdmUgdG8gdGhlIHByb3ZpZGVkIGB3aWR0aGAgYW5kIGBoZWlnaHRgLlxuICAgICAqIFRoZSB0b3AgbGVmdCByZW5kZXIgYm91bmQgYHJlbmRlci5ib3VuZHMubWluYCBpc24ndCBjaGFuZ2VkLlxuICAgICAqIFxuICAgICAqIEZvbGxvdyB0aGlzIGNhbGwgd2l0aCBgUmVuZGVyLmxvb2tBdGAgaWYgeW91IG5lZWQgdG8gY2hhbmdlIHRoZSByZW5kZXIgYm91bmRzLlxuICAgICAqIFxuICAgICAqIFNlZSBhbHNvIGBSZW5kZXIuc2V0UGl4ZWxSYXRpb2AuXG4gICAgICogQG1ldGhvZCBzZXRTaXplXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggKGluIENTUyBwaXhlbHMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IChpbiBDU1MgcGl4ZWxzKVxuICAgICAqL1xuICAgIFJlbmRlci5zZXRTaXplID0gZnVuY3Rpb24ocmVuZGVyLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJlbmRlci5vcHRpb25zLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJlbmRlci5vcHRpb25zLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueCA9IHJlbmRlci5ib3VuZHMubWluLnggKyB3aWR0aDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueSA9IHJlbmRlci5ib3VuZHMubWluLnkgKyBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gIT09IDEpIHtcbiAgICAgICAgICAgIFJlbmRlci5zZXRQaXhlbFJhdGlvKHJlbmRlciwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXIuY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICByZW5kZXIuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbnMgYW5kIHNpemVzIHRoZSB2aWV3cG9ydCBhcm91bmQgdGhlIGdpdmVuIG9iamVjdCBib3VuZHMuXG4gICAgICogT2JqZWN0cyBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAtIGBvYmplY3QuYm91bmRzYFxuICAgICAqIC0gYG9iamVjdC5wb3NpdGlvbmBcbiAgICAgKiAtIGBvYmplY3QubWluYCBhbmQgYG9iamVjdC5tYXhgXG4gICAgICogLSBgb2JqZWN0LnhgIGFuZCBgb2JqZWN0LnlgXG4gICAgICogQG1ldGhvZCBsb29rQXRcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbcGFkZGluZ11cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtjZW50ZXI9dHJ1ZV1cbiAgICAgKi9cbiAgICBSZW5kZXIubG9va0F0ID0gZnVuY3Rpb24ocmVuZGVyLCBvYmplY3RzLCBwYWRkaW5nLCBjZW50ZXIpIHtcbiAgICAgICAgY2VudGVyID0gdHlwZW9mIGNlbnRlciAhPT0gJ3VuZGVmaW5lZCcgPyBjZW50ZXIgOiB0cnVlO1xuICAgICAgICBvYmplY3RzID0gQ29tbW9uLmlzQXJyYXkob2JqZWN0cykgPyBvYmplY3RzIDogW29iamVjdHNdO1xuICAgICAgICBwYWRkaW5nID0gcGFkZGluZyB8fCB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGZpbmQgYm91bmRzIG9mIGFsbCBvYmplY3RzXG4gICAgICAgIHZhciBib3VuZHMgPSB7XG4gICAgICAgICAgICBtaW46IHsgeDogSW5maW5pdHksIHk6IEluZmluaXR5IH0sXG4gICAgICAgICAgICBtYXg6IHsgeDogLUluZmluaXR5LCB5OiAtSW5maW5pdHkgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIG9iamVjdCA9IG9iamVjdHNbaV0sXG4gICAgICAgICAgICAgICAgbWluID0gb2JqZWN0LmJvdW5kcyA/IG9iamVjdC5ib3VuZHMubWluIDogKG9iamVjdC5taW4gfHwgb2JqZWN0LnBvc2l0aW9uIHx8IG9iamVjdCksXG4gICAgICAgICAgICAgICAgbWF4ID0gb2JqZWN0LmJvdW5kcyA/IG9iamVjdC5ib3VuZHMubWF4IDogKG9iamVjdC5tYXggfHwgb2JqZWN0LnBvc2l0aW9uIHx8IG9iamVjdCk7XG5cbiAgICAgICAgICAgIGlmIChtaW4gJiYgbWF4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbi54IDwgYm91bmRzLm1pbi54KVxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubWluLnggPSBtaW4ueDtcblxuICAgICAgICAgICAgICAgIGlmIChtYXgueCA+IGJvdW5kcy5tYXgueClcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1heC54ID0gbWF4Lng7XG5cbiAgICAgICAgICAgICAgICBpZiAobWluLnkgPCBib3VuZHMubWluLnkpXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueSA9IG1pbi55O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1heC55ID4gYm91bmRzLm1heC55KVxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubWF4LnkgPSBtYXgueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmQgcmF0aW9zXG4gICAgICAgIHZhciB3aWR0aCA9IChib3VuZHMubWF4LnggLSBib3VuZHMubWluLngpICsgMiAqIHBhZGRpbmcueCxcbiAgICAgICAgICAgIGhlaWdodCA9IChib3VuZHMubWF4LnkgLSBib3VuZHMubWluLnkpICsgMiAqIHBhZGRpbmcueSxcbiAgICAgICAgICAgIHZpZXdIZWlnaHQgPSByZW5kZXIuY2FudmFzLmhlaWdodCxcbiAgICAgICAgICAgIHZpZXdXaWR0aCA9IHJlbmRlci5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICBvdXRlclJhdGlvID0gdmlld1dpZHRoIC8gdmlld0hlaWdodCxcbiAgICAgICAgICAgIGlubmVyUmF0aW8gPSB3aWR0aCAvIGhlaWdodCxcbiAgICAgICAgICAgIHNjYWxlWCA9IDEsXG4gICAgICAgICAgICBzY2FsZVkgPSAxO1xuXG4gICAgICAgIC8vIGZpbmQgc2NhbGUgZmFjdG9yXG4gICAgICAgIGlmIChpbm5lclJhdGlvID4gb3V0ZXJSYXRpbykge1xuICAgICAgICAgICAgc2NhbGVZID0gaW5uZXJSYXRpbyAvIG91dGVyUmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZVggPSBvdXRlclJhdGlvIC8gaW5uZXJSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuYWJsZSBib3VuZHNcbiAgICAgICAgcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzID0gdHJ1ZTtcblxuICAgICAgICAvLyBwb3NpdGlvbiBhbmQgc2l6ZVxuICAgICAgICByZW5kZXIuYm91bmRzLm1pbi54ID0gYm91bmRzLm1pbi54O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC54ID0gYm91bmRzLm1pbi54ICsgd2lkdGggKiBzY2FsZVg7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWluLnkgPSBib3VuZHMubWluLnk7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgPSBib3VuZHMubWluLnkgKyBoZWlnaHQgKiBzY2FsZVk7XG5cbiAgICAgICAgLy8gY2VudGVyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWluLnggKz0gd2lkdGggKiAwLjUgLSAod2lkdGggKiBzY2FsZVgpICogMC41O1xuICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueCArPSB3aWR0aCAqIDAuNSAtICh3aWR0aCAqIHNjYWxlWCkgKiAwLjU7XG4gICAgICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55ICs9IGhlaWdodCAqIDAuNSAtIChoZWlnaHQgKiBzY2FsZVkpICogMC41O1xuICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueSArPSBoZWlnaHQgKiAwLjUgLSAoaGVpZ2h0ICogc2NhbGVZKSAqIDAuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueCAtPSBwYWRkaW5nLng7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggLT0gcGFkZGluZy54O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55IC09IHBhZGRpbmcueTtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueSAtPSBwYWRkaW5nLnk7XG5cbiAgICAgICAgLy8gdXBkYXRlIG1vdXNlXG4gICAgICAgIGlmIChyZW5kZXIubW91c2UpIHtcbiAgICAgICAgICAgIE1vdXNlLnNldFNjYWxlKHJlbmRlci5tb3VzZSwge1xuICAgICAgICAgICAgICAgIHg6IChyZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCkgLyByZW5kZXIuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IChyZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSkgLyByZW5kZXIuY2FudmFzLmhlaWdodFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIE1vdXNlLnNldE9mZnNldChyZW5kZXIubW91c2UsIHJlbmRlci5ib3VuZHMubWluKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHZpZXdwb3J0IHRyYW5zZm9ybXMgYmFzZWQgb24gYHJlbmRlci5ib3VuZHNgIHRvIGEgcmVuZGVyIGNvbnRleHQuXG4gICAgICogQG1ldGhvZCBzdGFydFZpZXdUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICovXG4gICAgUmVuZGVyLnN0YXJ0Vmlld1RyYW5zZm9ybSA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICB2YXIgYm91bmRzV2lkdGggPSByZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCxcbiAgICAgICAgICAgIGJvdW5kc0hlaWdodCA9IHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgYm91bmRzU2NhbGVYID0gYm91bmRzV2lkdGggLyByZW5kZXIub3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIGJvdW5kc1NjYWxlWSA9IGJvdW5kc0hlaWdodCAvIHJlbmRlci5vcHRpb25zLmhlaWdodDtcblxuICAgICAgICByZW5kZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0oXG4gICAgICAgICAgICByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvIC8gYm91bmRzU2NhbGVYLCAwLCAwLCBcbiAgICAgICAgICAgIHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gLyBib3VuZHNTY2FsZVksIDAsIDBcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHJlbmRlci5jb250ZXh0LnRyYW5zbGF0ZSgtcmVuZGVyLmJvdW5kcy5taW4ueCwgLXJlbmRlci5ib3VuZHMubWluLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRyYW5zZm9ybXMgb24gdGhlIHJlbmRlciBjb250ZXh0LlxuICAgICAqIEBtZXRob2QgZW5kVmlld1RyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIuZW5kVmlld1RyYW5zZm9ybSA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICByZW5kZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0ocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGdpdmVuIGBlbmdpbmVgJ3MgYE1hdHRlci5Xb3JsZGAgb2JqZWN0LlxuICAgICAqIFRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciBhbGwgcmVuZGVyaW5nIGFuZCBzaG91bGQgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHNjZW5lIGNoYW5nZXMuXG4gICAgICogQG1ldGhvZCB3b3JsZFxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIud29ybGQgPSBmdW5jdGlvbihyZW5kZXIsIHRpbWUpIHtcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IENvbW1vbi5ub3coKSxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICB3b3JsZCA9IGVuZ2luZS53b3JsZCxcbiAgICAgICAgICAgIGNhbnZhcyA9IHJlbmRlci5jYW52YXMsXG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyLmNvbnRleHQsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICB0aW1pbmcgPSByZW5kZXIudGltaW5nO1xuXG4gICAgICAgIHZhciBhbGxCb2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKSxcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBvcHRpb25zLndpcmVmcmFtZXMgPyBvcHRpb25zLndpcmVmcmFtZUJhY2tncm91bmQgOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICBib2RpZXMgPSBbXSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gW10sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZW5naW5lLnRpbWluZy50aW1lc3RhbXBcbiAgICAgICAgfTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihyZW5kZXIsICdiZWZvcmVSZW5kZXInLCBldmVudCk7XG5cbiAgICAgICAgLy8gYXBwbHkgYmFja2dyb3VuZCBpZiBpdCBoYXMgY2hhbmdlZFxuICAgICAgICBpZiAocmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kICE9PSBiYWNrZ3JvdW5kKVxuICAgICAgICAgICAgX2FwcGx5QmFja2dyb3VuZChyZW5kZXIsIGJhY2tncm91bmQpO1xuXG4gICAgICAgIC8vIGNsZWFyIHRoZSBjYW52YXMgd2l0aCBhIHRyYW5zcGFyZW50IGZpbGwsIHRvIGFsbG93IHRoZSBjYW52YXMgYmFja2dyb3VuZCB0byBzaG93XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1pbic7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcblxuICAgICAgICAvLyBoYW5kbGUgYm91bmRzXG4gICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBib2RpZXMgdGhhdCBhcmUgbm90IGluIHZpZXdcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxCb2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFsbEJvZGllc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKGJvZHkuYm91bmRzLCByZW5kZXIuYm91bmRzKSlcbiAgICAgICAgICAgICAgICAgICAgYm9kaWVzLnB1c2goYm9keSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY29uc3RyYWludHMgdGhhdCBhcmUgbm90IGluIHZpZXdcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDb25zdHJhaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gYWxsQ29uc3RyYWludHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHlBID0gY29uc3RyYWludC5ib2R5QSxcbiAgICAgICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEFXb3JsZCA9IGNvbnN0cmFpbnQucG9pbnRBLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEJXb3JsZCA9IGNvbnN0cmFpbnQucG9pbnRCO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvZHlBKSBwb2ludEFXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRBKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keUIpIHBvaW50QldvcmxkID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludEFXb3JsZCB8fCAhcG9pbnRCV29ybGQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5jb250YWlucyhyZW5kZXIuYm91bmRzLCBwb2ludEFXb3JsZCkgfHwgQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QldvcmxkKSlcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludHMucHVzaChjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSB2aWV3XG4gICAgICAgICAgICBSZW5kZXIuc3RhcnRWaWV3VHJhbnNmb3JtKHJlbmRlcik7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxuICAgICAgICAgICAgaWYgKHJlbmRlci5tb3VzZSkge1xuICAgICAgICAgICAgICAgIE1vdXNlLnNldFNjYWxlKHJlbmRlci5tb3VzZSwge1xuICAgICAgICAgICAgICAgICAgICB4OiAocmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngpIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHk6IChyZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSkgLyByZW5kZXIub3B0aW9ucy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE1vdXNlLnNldE9mZnNldChyZW5kZXIubW91c2UsIHJlbmRlci5ib3VuZHMubWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gYWxsQ29uc3RyYWludHM7XG4gICAgICAgICAgICBib2RpZXMgPSBhbGxCb2RpZXM7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8sIDAsIDAsIHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8sIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMgfHwgKGVuZ2luZS5lbmFibGVTbGVlcGluZyAmJiBvcHRpb25zLnNob3dTbGVlcGluZykpIHtcbiAgICAgICAgICAgIC8vIGZ1bGx5IGZlYXR1cmVkIHJlbmRlcmluZyBvZiBib2RpZXNcbiAgICAgICAgICAgIFJlbmRlci5ib2RpZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0NvbnZleEh1bGxzKVxuICAgICAgICAgICAgICAgIFJlbmRlci5ib2R5Q29udmV4SHVsbHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyBvcHRpbWlzZWQgbWV0aG9kIGZvciB3aXJlZnJhbWVzIG9ubHlcbiAgICAgICAgICAgIFJlbmRlci5ib2R5V2lyZWZyYW1lcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93Qm91bmRzKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlCb3VuZHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dBeGVzIHx8IG9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlBeGVzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93UG9zaXRpb25zKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlQb3NpdGlvbnMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dWZWxvY2l0eSlcbiAgICAgICAgICAgIFJlbmRlci5ib2R5VmVsb2NpdHkocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dJZHMpXG4gICAgICAgICAgICBSZW5kZXIuYm9keUlkcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1NlcGFyYXRpb25zKVxuICAgICAgICAgICAgUmVuZGVyLnNlcGFyYXRpb25zKHJlbmRlciwgZW5naW5lLnBhaXJzLmxpc3QsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dDb2xsaXNpb25zKVxuICAgICAgICAgICAgUmVuZGVyLmNvbGxpc2lvbnMocmVuZGVyLCBlbmdpbmUucGFpcnMubGlzdCwgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1ZlcnRleE51bWJlcnMpXG4gICAgICAgICAgICBSZW5kZXIudmVydGV4TnVtYmVycyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd01vdXNlUG9zaXRpb24pXG4gICAgICAgICAgICBSZW5kZXIubW91c2VQb3NpdGlvbihyZW5kZXIsIHJlbmRlci5tb3VzZSwgY29udGV4dCk7XG5cbiAgICAgICAgUmVuZGVyLmNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpIHtcbiAgICAgICAgICAgIC8vIHJldmVydCB2aWV3IHRyYW5zZm9ybXNcbiAgICAgICAgICAgIFJlbmRlci5lbmRWaWV3VHJhbnNmb3JtKHJlbmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihyZW5kZXIsICdhZnRlclJlbmRlcicsIGV2ZW50KTtcblxuICAgICAgICAvLyBsb2cgdGhlIHRpbWUgZWxhcHNlZCBjb21wdXRpbmcgdGhpcyB1cGRhdGVcbiAgICAgICAgdGltaW5nLmxhc3RFbGFwc2VkID0gQ29tbW9uLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHN0YXRpc3RpY3MgYWJvdXQgdGhlIGVuZ2luZSBhbmQgd29ybGQgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHN0YXRzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lXG4gICAgICovXG4gICAgUmVuZGVyLnN0YXRzID0gZnVuY3Rpb24ocmVuZGVyLCBjb250ZXh0LCB0aW1lKSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIHBhcnRzID0gMCxcbiAgICAgICAgICAgIHdpZHRoID0gNTUsXG4gICAgICAgICAgICBoZWlnaHQgPSA0NCxcbiAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBjb3VudCBwYXJ0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgcGFydHMgKz0gYm9kaWVzW2ldLnBhcnRzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlY3Rpb25zXG4gICAgICAgIHZhciBzZWN0aW9ucyA9IHtcbiAgICAgICAgICAgICdQYXJ0JzogcGFydHMsXG4gICAgICAgICAgICAnQm9keSc6IGJvZGllcy5sZW5ndGgsXG4gICAgICAgICAgICAnQ29ucyc6IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCkubGVuZ3RoLFxuICAgICAgICAgICAgJ0NvbXAnOiBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyh3b3JsZCkubGVuZ3RoLFxuICAgICAgICAgICAgJ1BhaXInOiBlbmdpbmUucGFpcnMubGlzdC5sZW5ndGhcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwZTBmMTknO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHgsIHksIHdpZHRoICogNS41LCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9ICcxMnB4IEFyaWFsJztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAncmlnaHQnO1xuXG4gICAgICAgIC8vIHNlY3Rpb25zXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzZWN0aW9ucykge1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1trZXldO1xuICAgICAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNhYWEnO1xuICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChrZXksIHggKyB3aWR0aCwgeSArIDgpO1xuXG4gICAgICAgICAgICAvLyB2YWx1ZVxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2VlZSc7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHNlY3Rpb24sIHggKyB3aWR0aCwgeSArIDI2KTtcblxuICAgICAgICAgICAgeCArPSB3aWR0aDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGVuZ2luZSBhbmQgcmVuZGVyIHBlcmZvcm1hbmNlIGluZm9ybWF0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBwZXJmb3JtYW5jZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIucGVyZm9ybWFuY2UgPSBmdW5jdGlvbihyZW5kZXIsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICB0aW1pbmcgPSByZW5kZXIudGltaW5nLFxuICAgICAgICAgICAgZGVsdGFIaXN0b3J5ID0gdGltaW5nLmRlbHRhSGlzdG9yeSxcbiAgICAgICAgICAgIGVsYXBzZWRIaXN0b3J5ID0gdGltaW5nLmVsYXBzZWRIaXN0b3J5LFxuICAgICAgICAgICAgdGltZXN0YW1wRWxhcHNlZEhpc3RvcnkgPSB0aW1pbmcudGltZXN0YW1wRWxhcHNlZEhpc3RvcnksXG4gICAgICAgICAgICBlbmdpbmVEZWx0YUhpc3RvcnkgPSB0aW1pbmcuZW5naW5lRGVsdGFIaXN0b3J5LFxuICAgICAgICAgICAgZW5naW5lVXBkYXRlc0hpc3RvcnkgPSB0aW1pbmcuZW5naW5lVXBkYXRlc0hpc3RvcnksXG4gICAgICAgICAgICBlbmdpbmVFbGFwc2VkSGlzdG9yeSA9IHRpbWluZy5lbmdpbmVFbGFwc2VkSGlzdG9yeSxcbiAgICAgICAgICAgIGxhc3RFbmdpbmVVcGRhdGVzUGVyRnJhbWUgPSBlbmdpbmUudGltaW5nLmxhc3RVcGRhdGVzUGVyRnJhbWUsXG4gICAgICAgICAgICBsYXN0RW5naW5lRGVsdGEgPSBlbmdpbmUudGltaW5nLmxhc3REZWx0YTtcbiAgICAgICAgXG4gICAgICAgIHZhciBkZWx0YU1lYW4gPSBfbWVhbihkZWx0YUhpc3RvcnkpLFxuICAgICAgICAgICAgZWxhcHNlZE1lYW4gPSBfbWVhbihlbGFwc2VkSGlzdG9yeSksXG4gICAgICAgICAgICBlbmdpbmVEZWx0YU1lYW4gPSBfbWVhbihlbmdpbmVEZWx0YUhpc3RvcnkpLFxuICAgICAgICAgICAgZW5naW5lVXBkYXRlc01lYW4gPSBfbWVhbihlbmdpbmVVcGRhdGVzSGlzdG9yeSksXG4gICAgICAgICAgICBlbmdpbmVFbGFwc2VkTWVhbiA9IF9tZWFuKGVuZ2luZUVsYXBzZWRIaXN0b3J5KSxcbiAgICAgICAgICAgIHRpbWVzdGFtcEVsYXBzZWRNZWFuID0gX21lYW4odGltZXN0YW1wRWxhcHNlZEhpc3RvcnkpLFxuICAgICAgICAgICAgcmF0ZU1lYW4gPSAodGltZXN0YW1wRWxhcHNlZE1lYW4gLyBkZWx0YU1lYW4pIHx8IDAsXG4gICAgICAgICAgICBuZWVkZWRVcGRhdGVzUGVyRnJhbWUgPSBNYXRoLnJvdW5kKGRlbHRhTWVhbiAvIGxhc3RFbmdpbmVEZWx0YSksXG4gICAgICAgICAgICBmcHMgPSAoMTAwMCAvIGRlbHRhTWVhbikgfHwgMDtcblxuICAgICAgICB2YXIgZ3JhcGhIZWlnaHQgPSA0LFxuICAgICAgICAgICAgZ2FwID0gMTIsXG4gICAgICAgICAgICB3aWR0aCA9IDYwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gMzQsXG4gICAgICAgICAgICB4ID0gMTAsXG4gICAgICAgICAgICB5ID0gNjk7XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMGUwZjE5JztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCA1MCwgZ2FwICogNSArIHdpZHRoICogNiArIDIyLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHNob3cgRlBTXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4LCB5LCB3aWR0aCwgZ3JhcGhIZWlnaHQsIGRlbHRhSGlzdG9yeS5sZW5ndGgsIFxuICAgICAgICAgICAgTWF0aC5yb3VuZChmcHMpICsgJyBmcHMnLCBcbiAgICAgICAgICAgIGZwcyAvIFJlbmRlci5fZ29vZEZwcyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIChkZWx0YUhpc3RvcnlbaV0gLyBkZWx0YU1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZW5naW5lIGRlbHRhXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgZ2FwICsgd2lkdGgsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZW5naW5lRGVsdGFIaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgICAgIGxhc3RFbmdpbmVEZWx0YS50b0ZpeGVkKDIpICsgJyBkdCcsIFxuICAgICAgICAgICAgUmVuZGVyLl9nb29kRGVsdGEgLyBsYXN0RW5naW5lRGVsdGEsXG4gICAgICAgICAgICBmdW5jdGlvbihpKSB7IHJldHVybiAoZW5naW5lRGVsdGFIaXN0b3J5W2ldIC8gZW5naW5lRGVsdGFNZWFuKSAtIDE7IH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzaG93IGVuZ2luZSB1cGRhdGVzIHBlciBmcmFtZVxuICAgICAgICBSZW5kZXIuc3RhdHVzKFxuICAgICAgICAgICAgY29udGV4dCwgeCArIChnYXAgKyB3aWR0aCkgKiAyLCB5LCB3aWR0aCwgZ3JhcGhIZWlnaHQsIGVuZ2luZVVwZGF0ZXNIaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgICAgIGxhc3RFbmdpbmVVcGRhdGVzUGVyRnJhbWUgKyAnIHVwZicsIFxuICAgICAgICAgICAgTWF0aC5wb3coQ29tbW9uLmNsYW1wKChlbmdpbmVVcGRhdGVzTWVhbiAvIG5lZWRlZFVwZGF0ZXNQZXJGcmFtZSkgfHwgMSwgMCwgMSksIDQpLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKGVuZ2luZVVwZGF0ZXNIaXN0b3J5W2ldIC8gZW5naW5lVXBkYXRlc01lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZW5naW5lIHVwZGF0ZSB0aW1lXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDMsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZW5naW5lRWxhcHNlZEhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgZW5naW5lRWxhcHNlZE1lYW4udG9GaXhlZCgyKSArICcgdXQnLCBcbiAgICAgICAgICAgIDEgLSAobGFzdEVuZ2luZVVwZGF0ZXNQZXJGcmFtZSAqIGVuZ2luZUVsYXBzZWRNZWFuIC8gUmVuZGVyLl9nb29kRnBzKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIChlbmdpbmVFbGFwc2VkSGlzdG9yeVtpXSAvIGVuZ2luZUVsYXBzZWRNZWFuKSAtIDE7IH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzaG93IHJlbmRlciB0aW1lXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDQsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZWxhcHNlZEhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgZWxhcHNlZE1lYW4udG9GaXhlZCgyKSArICcgcnQnLCBcbiAgICAgICAgICAgIDEgLSAoZWxhcHNlZE1lYW4gLyBSZW5kZXIuX2dvb2RGcHMpLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKGVsYXBzZWRIaXN0b3J5W2ldIC8gZWxhcHNlZE1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZWZmZWN0aXZlIHNwZWVkXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDUsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgdGltZXN0YW1wRWxhcHNlZEhpc3RvcnkubGVuZ3RoLCBcbiAgICAgICAgICAgIHJhdGVNZWFuLnRvRml4ZWQoMikgKyAnIHgnLCBcbiAgICAgICAgICAgIHJhdGVNZWFuICogcmF0ZU1lYW4gKiByYXRlTWVhbixcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuICgoKHRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5W2ldIC8gZGVsdGFIaXN0b3J5W2ldKSAvIHJhdGVNZWFuKSB8fCAwKSAtIDE7IH1cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGxhYmVsLCBpbmRpY2F0b3IgYW5kIGEgY2hhcnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHN0YXR1c1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHBsb3RZXG4gICAgICovXG4gICAgUmVuZGVyLnN0YXR1cyA9IGZ1bmN0aW9uKGNvbnRleHQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvdW50LCBsYWJlbCwgaW5kaWNhdG9yLCBwbG90WSkge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzg4OCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyM0NDQnO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoeCwgeSArIDcsIHdpZHRoLCAxKTtcblxuICAgICAgICAvLyBjaGFydFxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5ICsgNyAtIGhlaWdodCAqIENvbW1vbi5jbGFtcCgwLjQgKiBwbG90WSgwKSwgLTIsIDIpKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4ICsgaSwgeSArIDcgLSAoaSA8IGNvdW50ID8gaGVpZ2h0ICogQ29tbW9uLmNsYW1wKDAuNCAqIHBsb3RZKGkpLCAtMiwgMikgOiAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAvLyBpbmRpY2F0b3JcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnaHNsKCcgKyBDb21tb24uY2xhbXAoMjUgKyA5NSAqIGluZGljYXRvciwgMCwgMTIwKSArICcsMTAwJSw2MCUpJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh4LCB5IC0gNywgNCwgNCk7XG5cbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgY29udGV4dC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNlZWUnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGxhYmVsLCB4ICsgd2lkdGgsIHkgLSA1KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnRbXX0gY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuY29uc3RyYWludHMgPSBmdW5jdGlvbihjb25zdHJhaW50cywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKCFjb25zdHJhaW50LnJlbmRlci52aXNpYmxlIHx8ICFjb25zdHJhaW50LnBvaW50QSB8fCAhY29uc3RyYWludC5wb2ludEIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZDtcblxuICAgICAgICAgICAgaWYgKGJvZHlBKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBWZWN0b3IuYWRkKGJvZHlBLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gY29uc3RyYWludC5wb2ludEE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci50eXBlID09PSAncGluJykge1xuICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5hcmMoc3RhcnQueCwgc3RhcnQueSwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChib2R5Qikge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50Qik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY29uc3RyYWludC5wb2ludEI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci50eXBlID09PSAnc3ByaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKGVuZCwgc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLnBlcnAoVmVjdG9yLm5vcm1hbGlzZShkZWx0YSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29pbHMgPSBNYXRoLmNlaWwoQ29tbW9uLmNsYW1wKGNvbnN0cmFpbnQubGVuZ3RoIC8gNSwgMTIsIDIwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBjb2lsczsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBqICUgMiA9PT0gMCA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQueCArIGRlbHRhLnggKiAoaiAvIGNvaWxzKSArIG5vcm1hbC54ICogb2Zmc2V0ICogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC55ICsgZGVsdGEueSAqIChqIC8gY29pbHMpICsgbm9ybWFsLnkgKiBvZmZzZXQgKiA0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5saW5lVG8oZW5kLngsIGVuZC55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQucmVuZGVyLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gY29uc3RyYWludC5yZW5kZXIubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSBjb25zdHJhaW50LnJlbmRlci5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICBjLnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uc3RyYWludC5yZW5kZXIuYW5jaG9ycykge1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gY29uc3RyYWludC5yZW5kZXIuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLmFyYyhzdGFydC54LCBzdGFydC55LCAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5hcmMoZW5kLngsIGVuZC55LCAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2RpZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0ludGVybmFsRWRnZXMgPSBvcHRpb25zLnNob3dJbnRlcm5hbEVkZ2VzIHx8ICFvcHRpb25zLndpcmVmcmFtZXMsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBmb3IgKGsgPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcblxuICAgICAgICAgICAgICAgIGlmICghcGFydC5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93U2xlZXBpbmcgJiYgYm9keS5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuZ2xvYmFsQWxwaGEgPSAwLjUgKiBwYXJ0LnJlbmRlci5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5yZW5kZXIub3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjLmdsb2JhbEFscGhhID0gcGFydC5yZW5kZXIub3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIuc3ByaXRlICYmIHBhcnQucmVuZGVyLnNwcml0ZS50ZXh0dXJlICYmICFvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydCBzcHJpdGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHBhcnQucmVuZGVyLnNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBfZ2V0VGV4dHVyZShyZW5kZXIsIHNwcml0ZS50ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zbGF0ZShwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgICAgIGMucm90YXRlKHBhcnQuYW5nbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGMuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUud2lkdGggKiAtc3ByaXRlLnhPZmZzZXQgKiBzcHJpdGUueFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgKiAtc3ByaXRlLnlPZmZzZXQgKiBzcHJpdGUueVNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS53aWR0aCAqIHNwcml0ZS54U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCAqIHNwcml0ZS55U2NhbGVcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnQgdHJhbnNsYXRpb24sIGhvcGVmdWxseSBmYXN0ZXIgdGhhbiBzYXZlIC8gcmVzdG9yZVxuICAgICAgICAgICAgICAgICAgICBjLnJvdGF0ZSgtcGFydC5hbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNsYXRlKC1wYXJ0LnBvc2l0aW9uLngsIC1wYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcnQgcG9seWdvblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jaXJjbGVSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmFyYyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSwgcGFydC5jaXJjbGVSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydC52ZXJ0aWNlc1tqIC0gMV0uaXNJbnRlcm5hbCB8fCBzaG93SW50ZXJuYWxFZGdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzW2pdLngsIHBhcnQudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS54LCBwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gcGFydC5yZW5kZXIuZmlsbFN0eWxlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lV2lkdGggPSBwYXJ0LnJlbmRlci5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9IHBhcnQucmVuZGVyLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGMuZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9IHJlbmRlci5vcHRpb25zLndpcmVmcmFtZVN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE9wdGltaXNlZCBtZXRob2QgZm9yIGRyYXdpbmcgYm9keSB3aXJlZnJhbWVzIGluIG9uZSBwYXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlXaXJlZnJhbWVzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keVdpcmVmcmFtZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBzaG93SW50ZXJuYWxFZGdlcyA9IHJlbmRlci5vcHRpb25zLnNob3dJbnRlcm5hbEVkZ2VzLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgYWxsIGJvZGllc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChrID0gYm9keS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgcGFydCA9IGJvZHkucGFydHNba107XG5cbiAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnQudmVydGljZXNbaiAtIDFdLmlzSW50ZXJuYWwgfHwgc2hvd0ludGVybmFsRWRnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueCwgcGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gcmVuZGVyLm9wdGlvbnMud2lyZWZyYW1lU3Ryb2tlU3R5bGU7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE9wdGltaXNlZCBtZXRob2QgZm9yIGRyYXdpbmcgYm9keSBjb252ZXggaHVsbCB3aXJlZnJhbWVzIGluIG9uZSBwYXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlDb252ZXhIdWxsc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlDb252ZXhIdWxscyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGNvbnZleCBodWxsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUgfHwgYm9keS5wYXJ0cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHkudmVydGljZXNbMF0ueCwgYm9keS52ZXJ0aWNlc1swXS55KTtcblxuICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IGJvZHkudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjLmxpbmVUbyhib2R5LnZlcnRpY2VzW2pdLngsIGJvZHkudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMubGluZVRvKGJvZHkudmVydGljZXNbMF0ueCwgYm9keS52ZXJ0aWNlc1swXS55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJvZHkgdmVydGV4IG51bWJlcnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHZlcnRleE51bWJlcnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci52ZXJ0ZXhOdW1iZXJzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGJvZGllc1tpXS5wYXJ0cztcbiAgICAgICAgICAgIGZvciAoayA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IHBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1trXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknO1xuICAgICAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KGkgKyAnXycgKyBqLCBwYXJ0LnBvc2l0aW9uLnggKyAocGFydC52ZXJ0aWNlc1tqXS54IC0gcGFydC5wb3NpdGlvbi54KSAqIDAuOCwgcGFydC5wb3NpdGlvbi55ICsgKHBhcnQudmVydGljZXNbal0ueSAtIHBhcnQucG9zaXRpb24ueSkgKiAwLjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG1vdXNlIHBvc2l0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBtb3VzZVBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLm1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbihyZW5kZXIsIG1vdXNlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dDtcbiAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjgpJztcbiAgICAgICAgYy5maWxsVGV4dChtb3VzZS5wb3NpdGlvbi54ICsgJyAgJyArIG1vdXNlLnBvc2l0aW9uLnksIG1vdXNlLnBvc2l0aW9uLnggKyA1LCBtb3VzZS5wb3NpdGlvbi55IC0gNSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgYm91bmRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlCb3VuZHNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5Qm91bmRzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkucmVuZGVyLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBib2RpZXNbaV0ucGFydHM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgIGMucmVjdChwYXJ0LmJvdW5kcy5taW4ueCwgcGFydC5ib3VuZHMubWluLnksIHBhcnQuYm91bmRzLm1heC54IC0gcGFydC5ib3VuZHMubWluLngsIHBhcnQuYm91bmRzLm1heC55IC0gcGFydC5ib3VuZHMubWluLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjA4KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4xKSc7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgYW5nbGUgaW5kaWNhdG9ycyBhbmQgYXhlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5QXhlc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlBeGVzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IGJvZHkucGFydHM7XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0F4ZXMpIHtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgYWxsIGF4ZXNcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwYXJ0LmF4ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBheGlzID0gcGFydC5heGVzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC5wb3NpdGlvbi54ICsgYXhpcy54ICogMjAsIHBhcnQucG9zaXRpb24ueSArIGF4aXMueSAqIDIwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcGFydC5heGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIgYSBzaW5nbGUgYXhpcyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKChwYXJ0LnZlcnRpY2VzWzBdLnggKyBwYXJ0LnZlcnRpY2VzW3BhcnQudmVydGljZXMubGVuZ3RoLTFdLngpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFydC52ZXJ0aWNlc1swXS55ICsgcGFydC52ZXJ0aWNlc1twYXJ0LnZlcnRpY2VzLmxlbmd0aC0xXS55KSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdpbmRpYW5yZWQnO1xuICAgICAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNCknO1xuICAgICAgICAgICAgYy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnb3ZlcmxheSc7XG4gICAgICAgICAgICBjLmxpbmVXaWR0aCA9IDI7XG4gICAgICAgIH1cblxuICAgICAgICBjLnN0cm9rZSgpO1xuICAgICAgICBjLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgcG9zaXRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlQb3NpdGlvbnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5UG9zaXRpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgY3VycmVudCBwb3NpdGlvbnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgY29tcG91bmQgcGFydHNcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgcGFydCA9IGJvZHkucGFydHNba107XG4gICAgICAgICAgICAgICAgYy5hcmMocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnksIDMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ2luZGlhbnJlZCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuNSknO1xuICAgICAgICB9XG4gICAgICAgIGMuZmlsbCgpO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIHByZXZpb3VzIHBvc2l0aW9uc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgaWYgKGJvZHkucmVuZGVyLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjLmFyYyhib2R5LnBvc2l0aW9uUHJldi54LCBib2R5LnBvc2l0aW9uUHJldi55LCAyLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjgpJztcbiAgICAgICAgYy5maWxsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgdmVsb2NpdHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keVZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keVZlbG9jaXR5ID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0O1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciB2ZWxvY2l0eSA9IEJvZHkuZ2V0VmVsb2NpdHkoYm9keSk7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHkucG9zaXRpb24ueCwgYm9keS5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgIGMubGluZVRvKGJvZHkucG9zaXRpb24ueCArIHZlbG9jaXR5LngsIGJvZHkucG9zaXRpb24ueSArIHZlbG9jaXR5LnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAzO1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ2Nvcm5mbG93ZXJibHVlJztcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSBpZHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keUlkc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlJZHMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWJvZGllc1tpXS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIHBhcnRzID0gYm9kaWVzW2ldLnBhcnRzO1xuICAgICAgICAgICAgZm9yIChqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgIGMuZm9udCA9IFwiMTJweCBBcmlhbFwiO1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KSc7XG4gICAgICAgICAgICAgICAgYy5maWxsVGV4dChwYXJ0LmlkLCBwYXJ0LnBvc2l0aW9uLnggKyAxMCwgcGFydC5wb3NpdGlvbi55IC0gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvbnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmNvbGxpc2lvbnMgPSBmdW5jdGlvbihyZW5kZXIsIHBhaXJzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBjb3JyZWN0ZWQsXG4gICAgICAgICAgICBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgY29sbGlzaW9uIHBvc2l0aW9uc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwYWlyLmNvbnRhY3RDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBwYWlyLmNvbnRhY3RzW2pdLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXggPSBjb250YWN0LnZlcnRleDtcbiAgICAgICAgICAgICAgICBjLnJlY3QodmVydGV4LnggLSAxLjUsIHZlcnRleC55IC0gMS41LCAzLjUsIDMuNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNyknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAnb3JhbmdlJztcbiAgICAgICAgfVxuICAgICAgICBjLmZpbGwoKTtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjb2xsaXNpb24gbm9ybWFsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjtcblxuICAgICAgICAgICAgaWYgKHBhaXIuY29udGFjdENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxQb3NYID0gcGFpci5jb250YWN0c1swXS52ZXJ0ZXgueCxcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsUG9zWSA9IHBhaXIuY29udGFjdHNbMF0udmVydGV4Lnk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFpci5jb250YWN0Q291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsUG9zWCA9IChwYWlyLmNvbnRhY3RzWzBdLnZlcnRleC54ICsgcGFpci5jb250YWN0c1sxXS52ZXJ0ZXgueCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NZID0gKHBhaXIuY29udGFjdHNbMF0udmVydGV4LnkgKyBwYWlyLmNvbnRhY3RzWzFdLnZlcnRleC55KSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbi5ib2R5QiA9PT0gY29sbGlzaW9uLnN1cHBvcnRzWzBdLmJvZHkgfHwgY29sbGlzaW9uLmJvZHlBLmlzU3RhdGljID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKG5vcm1hbFBvc1ggLSBjb2xsaXNpb24ubm9ybWFsLnggKiA4LCBub3JtYWxQb3NZIC0gY29sbGlzaW9uLm5vcm1hbC55ICogOCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8obm9ybWFsUG9zWCArIGNvbGxpc2lvbi5ub3JtYWwueCAqIDgsIG5vcm1hbFBvc1kgKyBjb2xsaXNpb24ubm9ybWFsLnkgKiA4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjLmxpbmVUbyhub3JtYWxQb3NYLCBub3JtYWxQb3NZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC43KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ29yYW5nZSc7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHNlcGFyYXRpb25zXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5zZXBhcmF0aW9ucyA9IGZ1bmN0aW9uKHJlbmRlciwgcGFpcnMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGNvcnJlY3RlZCxcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBzZXBhcmF0aW9uc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjtcbiAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUI7XG5cbiAgICAgICAgICAgIHZhciBrID0gMTtcblxuICAgICAgICAgICAgaWYgKCFib2R5Qi5pc1N0YXRpYyAmJiAhYm9keUEuaXNTdGF0aWMpIGsgPSAwLjU7XG4gICAgICAgICAgICBpZiAoYm9keUIuaXNTdGF0aWMpIGsgPSAwO1xuXG4gICAgICAgICAgICBjLm1vdmVUbyhib2R5Qi5wb3NpdGlvbi54LCBib2R5Qi5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgIGMubGluZVRvKGJvZHlCLnBvc2l0aW9uLnggLSBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCAqIGssIGJvZHlCLnBvc2l0aW9uLnkgLSBjb2xsaXNpb24ucGVuZXRyYXRpb24ueSAqIGspO1xuXG4gICAgICAgICAgICBrID0gMTtcblxuICAgICAgICAgICAgaWYgKCFib2R5Qi5pc1N0YXRpYyAmJiAhYm9keUEuaXNTdGF0aWMpIGsgPSAwLjU7XG4gICAgICAgICAgICBpZiAoYm9keUEuaXNTdGF0aWMpIGsgPSAwO1xuXG4gICAgICAgICAgICBjLm1vdmVUbyhib2R5QS5wb3NpdGlvbi54LCBib2R5QS5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgIGMubGluZVRvKGJvZHlBLnBvc2l0aW9uLnggKyBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCAqIGssIGJvZHlBLnBvc2l0aW9uLnkgKyBjb2xsaXNpb24ucGVuZXRyYXRpb24ueSAqIGspO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjUpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnb3JhbmdlJztcbiAgICAgICAgfVxuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBpbnNwZWN0b3JcbiAgICAgKiBAcGFyYW0ge2luc3BlY3Rvcn0gaW5zcGVjdG9yXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmluc3BlY3RvciA9IGZ1bmN0aW9uKGluc3BlY3RvciwgY29udGV4dCkge1xuICAgICAgICB2YXIgZW5naW5lID0gaW5zcGVjdG9yLmVuZ2luZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gaW5zcGVjdG9yLnNlbGVjdGVkLFxuICAgICAgICAgICAgcmVuZGVyID0gaW5zcGVjdG9yLnJlbmRlcixcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIGJvdW5kcztcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpIHtcbiAgICAgICAgICAgIHZhciBib3VuZHNXaWR0aCA9IHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54LFxuICAgICAgICAgICAgICAgIGJvdW5kc0hlaWdodCA9IHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgYm91bmRzU2NhbGVZID0gYm91bmRzSGVpZ2h0IC8gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgICAgICBjb250ZXh0LnNjYWxlKDEgLyBib3VuZHNTY2FsZVgsIDEgLyBib3VuZHNTY2FsZVkpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXJlbmRlci5ib3VuZHMubWluLngsIC1yZW5kZXIuYm91bmRzLm1pbi55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gc2VsZWN0ZWRbaV0uZGF0YTtcblxuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMC41LCAwLjUpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjkpJztcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goWzEsMl0pO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0udHlwZSkge1xuXG4gICAgICAgICAgICBjYXNlICdib2R5JzpcblxuICAgICAgICAgICAgICAgIC8vIHJlbmRlciBib2R5IHNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBpdGVtLmJvdW5kcztcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCAtIDMpLCBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSAtIDMpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCArIDYpLCBNYXRoLmZsb29yKGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSArIDYpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG5cbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgY29uc3RyYWludCBzZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gaXRlbS5wb2ludEE7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYm9keUEpXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ID0gaXRlbS5wb2ludEI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhwb2ludC54LCBwb2ludC55LCAxMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goW10pO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSwgLTAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgc2VsZWN0aW9uIHJlZ2lvblxuICAgICAgICBpZiAoaW5zcGVjdG9yLnNlbGVjdFN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgwLjUsIDAuNSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuNiknO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC4xKSc7XG4gICAgICAgICAgICBib3VuZHMgPSBpbnNwZWN0b3Iuc2VsZWN0Qm91bmRzO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1pbi55KSxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSwgLTAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpXG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyByZW5kZXIgdGltaW5nLlxuICAgICAqIEBtZXRob2QgX3VwZGF0ZVRpbWluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gICAgICovXG4gICAgdmFyIF91cGRhdGVUaW1pbmcgPSBmdW5jdGlvbihyZW5kZXIsIHRpbWUpIHtcbiAgICAgICAgdmFyIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICB0aW1pbmcgPSByZW5kZXIudGltaW5nLFxuICAgICAgICAgICAgaGlzdG9yeVNpemUgPSB0aW1pbmcuaGlzdG9yeVNpemUsXG4gICAgICAgICAgICB0aW1lc3RhbXAgPSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcDtcblxuICAgICAgICB0aW1pbmcuZGVsdGEgPSB0aW1lIC0gdGltaW5nLmxhc3RUaW1lIHx8IFJlbmRlci5fZ29vZERlbHRhO1xuICAgICAgICB0aW1pbmcubGFzdFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIHRpbWluZy50aW1lc3RhbXBFbGFwc2VkID0gdGltZXN0YW1wIC0gdGltaW5nLmxhc3RUaW1lc3RhbXAgfHwgMDtcbiAgICAgICAgdGltaW5nLmxhc3RUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG5cbiAgICAgICAgdGltaW5nLmRlbHRhSGlzdG9yeS51bnNoaWZ0KHRpbWluZy5kZWx0YSk7XG4gICAgICAgIHRpbWluZy5kZWx0YUhpc3RvcnkubGVuZ3RoID0gTWF0aC5taW4odGltaW5nLmRlbHRhSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcblxuICAgICAgICB0aW1pbmcuZW5naW5lRGVsdGFIaXN0b3J5LnVuc2hpZnQoZW5naW5lLnRpbWluZy5sYXN0RGVsdGEpO1xuICAgICAgICB0aW1pbmcuZW5naW5lRGVsdGFIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy5lbmdpbmVEZWx0YUhpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLnRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5LnVuc2hpZnQodGltaW5nLnRpbWVzdGFtcEVsYXBzZWQpO1xuICAgICAgICB0aW1pbmcudGltZXN0YW1wRWxhcHNlZEhpc3RvcnkubGVuZ3RoID0gTWF0aC5taW4odGltaW5nLnRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5Lmxlbmd0aCwgaGlzdG9yeVNpemUpO1xuXG4gICAgICAgIHRpbWluZy5lbmdpbmVVcGRhdGVzSGlzdG9yeS51bnNoaWZ0KGVuZ2luZS50aW1pbmcubGFzdFVwZGF0ZXNQZXJGcmFtZSk7XG4gICAgICAgIHRpbWluZy5lbmdpbmVVcGRhdGVzSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcuZW5naW5lVXBkYXRlc0hpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLmVuZ2luZUVsYXBzZWRIaXN0b3J5LnVuc2hpZnQoZW5naW5lLnRpbWluZy5sYXN0RWxhcHNlZCk7XG4gICAgICAgIHRpbWluZy5lbmdpbmVFbGFwc2VkSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcuZW5naW5lRWxhcHNlZEhpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLmVsYXBzZWRIaXN0b3J5LnVuc2hpZnQodGltaW5nLmxhc3RFbGFwc2VkKTtcbiAgICAgICAgdGltaW5nLmVsYXBzZWRIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy5lbGFwc2VkSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWVhbiB2YWx1ZSBvZiB0aGUgZ2l2ZW4gbnVtYmVycy5cbiAgICAgKiBAbWV0aG9kIF9tZWFuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBtZWFuIG9mIGdpdmVuIHZhbHVlc1xuICAgICAqL1xuICAgIHZhciBfbWVhbiA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB2YWx1ZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChyZXN1bHQgLyB2YWx1ZXMubGVuZ3RoKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVDYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSB3aWR0aFxuICAgICAqIEBwYXJhbSB7fSBoZWlnaHRcbiAgICAgKiBAcmV0dXJuIGNhbnZhc1xuICAgICAqL1xuICAgIHZhciBfY3JlYXRlQ2FudmFzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgICAgIGNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAbWV0aG9kIF9nZXRQaXhlbFJhdGlvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBpeGVsIHJhdGlvXG4gICAgICovXG4gICAgdmFyIF9nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgICBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgIGJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY29udGV4dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVQaXhlbFJhdGlvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZXF1ZXN0ZWQgdGV4dHVyZSAoYW4gSW1hZ2UpIHZpYSBpdHMgcGF0aFxuICAgICAqIEBtZXRob2QgX2dldFRleHR1cmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VQYXRoXG4gICAgICogQHJldHVybiB7SW1hZ2V9IHRleHR1cmVcbiAgICAgKi9cbiAgICB2YXIgX2dldFRleHR1cmUgPSBmdW5jdGlvbihyZW5kZXIsIGltYWdlUGF0aCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXTtcblxuICAgICAgICBpZiAoaW1hZ2UpXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG5cbiAgICAgICAgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVBhdGg7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBiYWNrZ3JvdW5kIHRvIHRoZSBjYW52YXMgdXNpbmcgQ1NTLlxuICAgICAqIEBtZXRob2QgYXBwbHlCYWNrZ3JvdW5kXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmRcbiAgICAgKi9cbiAgICB2YXIgX2FwcGx5QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHJlbmRlciwgYmFja2dyb3VuZCkge1xuICAgICAgICB2YXIgY3NzQmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG5cbiAgICAgICAgaWYgKC8oanBnfGdpZnxwbmcpJC8udGVzdChiYWNrZ3JvdW5kKSlcbiAgICAgICAgICAgIGNzc0JhY2tncm91bmQgPSAndXJsKCcgKyBiYWNrZ3JvdW5kICsgJyknO1xuXG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IGNzc0JhY2tncm91bmQ7XG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvbnRhaW5cIjtcbiAgICAgICAgcmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVSZW5kZXJcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclJlbmRlclxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiYWNrLXJlZmVyZW5jZSB0byB0aGUgYE1hdHRlci5SZW5kZXJgIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHByb3BlcnR5IGNvbnRyb2xsZXJcbiAgICAgKiBAdHlwZSByZW5kZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgTWF0dGVyLkVuZ2luZWAgaW5zdGFuY2UgdG8gYmUgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmdpbmVcbiAgICAgKiBAdHlwZSBlbmdpbmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IHdoZXJlIHRoZSBjYW52YXMgaXMgdG8gYmUgaW5zZXJ0ZWQgKGlmIGByZW5kZXIuY2FudmFzYCBoYXMgbm90IGJlZW4gc3BlY2lmaWVkKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGVsZW1lbnRcbiAgICAgKiBAdHlwZSBIVE1MRWxlbWVudFxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0byByZW5kZXIgdG8uIElmIG5vdCBzcGVjaWZpZWQsIG9uZSB3aWxsIGJlIGNyZWF0ZWQgaWYgYHJlbmRlci5lbGVtZW50YCBoYXMgYmVlbiBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY2FudmFzXG4gICAgICogQHR5cGUgSFRNTENhbnZhc0VsZW1lbnRcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBCb3VuZHNgIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgZHJhd2luZyB2aWV3IHJlZ2lvbi5cbiAgICAgKiBSZW5kZXJpbmcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHRyYW5zZm9ybWVkIGFuZCBzY2FsZWQgdG8gZml0IHdpdGhpbiB0aGUgY2FudmFzIHNpemUgKGByZW5kZXIub3B0aW9ucy53aWR0aGAgYW5kIGByZW5kZXIub3B0aW9ucy5oZWlnaHRgKS5cbiAgICAgKiBUaGlzIGFsbG93cyBmb3IgY3JlYXRpbmcgdmlld3MgdGhhdCBjYW4gcGFuIG9yIHpvb20gYXJvdW5kIHRoZSBzY2VuZS5cbiAgICAgKiBZb3UgbXVzdCBhbHNvIHNldCBgcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzYCB0byBgdHJ1ZWAgdG8gZW5hYmxlIGJvdW5kZWQgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvdW5kc1xuICAgICAqIEB0eXBlIGJvdW5kc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIDJkIHJlbmRlcmluZyBjb250ZXh0IGZyb20gdGhlIGByZW5kZXIuY2FudmFzYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbnRleHRcbiAgICAgKiBAdHlwZSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzcHJpdGUgdGV4dHVyZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0ZXh0dXJlc1xuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW91c2UgdG8gcmVuZGVyIGlmIGByZW5kZXIub3B0aW9ucy5zaG93TW91c2VQb3NpdGlvbmAgaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBtb3VzZVxuICAgICAqIEB0eXBlIG1vdXNlXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9uc1xuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHdpZHRoIGluIHBpeGVscyBvZiB0aGUgYHJlbmRlci5jYW52YXNgIHRvIGJlIGNyZWF0ZWQuXG4gICAgICogU2VlIGFsc28gdGhlIGBvcHRpb25zLnBpeGVsUmF0aW9gIHByb3BlcnR5IHRvIGNoYW5nZSByZW5kZXIgcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLndpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIGByZW5kZXIuY2FudmFzYCB0byBiZSBjcmVhdGVkLlxuICAgICAqIFNlZSBhbHNvIHRoZSBgb3B0aW9ucy5waXhlbFJhdGlvYCBwcm9wZXJ0eSB0byBjaGFuZ2UgcmVuZGVyIHF1YWxpdHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5oZWlnaHRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBbcGl4ZWwgcmF0aW9dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvZGV2aWNlUGl4ZWxSYXRpbykgdG8gdXNlIHdoZW4gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgQ1NTIGJhY2tncm91bmQgY29sb3Igc3RyaW5nIHRvIHVzZSB3aGVuIGByZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzYCBpcyBkaXNhYmxlZC5cbiAgICAgKiBUaGlzIG1heSBiZSBhbHNvIHNldCB0byBgJ3RyYW5zcGFyZW50J2Agb3IgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmJhY2tncm91bmRcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnIzE0MTUxZidcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgQ1NTIGNvbG9yIHN0cmluZyB0byB1c2UgZm9yIGJhY2tncm91bmQgd2hlbiBgcmVuZGVyLm9wdGlvbnMud2lyZWZyYW1lc2AgaXMgZW5hYmxlZC5cbiAgICAgKiBUaGlzIG1heSBiZSBhbHNvIHNldCB0byBgJ3RyYW5zcGFyZW50J2Agb3IgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLndpcmVmcmFtZUJhY2tncm91bmRcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnIzE0MTUxZidcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgQ1NTIGNvbG9yIHN0cmluZyB0byB1c2UgZm9yIHN0cm9rZSB3aGVuIGByZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzYCBpcyBlbmFibGVkLlxuICAgICAqIFRoaXMgbWF5IGJlIGFsc28gc2V0IHRvIGAndHJhbnNwYXJlbnQnYCBvciBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMud2lyZWZyYW1lU3Ryb2tlU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnI2JiYidcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyBpZiBgcmVuZGVyLmJvdW5kc2Agc2hvdWxkIGJlIHVzZWQgd2hlbiByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5oYXNCb3VuZHNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSBhbGwgZGVidWcgaW5mb3JtYXRpb24gb3ZlcmxheXMgdG9nZXRoZXIuICBcbiAgICAgKiBUaGlzIGluY2x1ZGVzIGFuZCBoYXMgcHJpb3JpdHkgb3ZlciB0aGUgdmFsdWVzIG9mOlxuICAgICAqXG4gICAgICogLSBgcmVuZGVyLm9wdGlvbnMuc2hvd1N0YXRzYFxuICAgICAqIC0gYHJlbmRlci5vcHRpb25zLnNob3dQZXJmb3JtYW5jZWBcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dEZWJ1Z1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBlbmdpbmUgc3RhdHMgaW5mbyBvdmVybGF5LiAgXG4gICAgICogRnJvbSBsZWZ0IHRvIHJpZ2h0LCB0aGUgdmFsdWVzIHNob3duIGFyZTpcbiAgICAgKlxuICAgICAqIC0gYm9keSBwYXJ0cyB0b3RhbFxuICAgICAqIC0gYm9keSB0b3RhbFxuICAgICAqIC0gY29uc3RyYWludHMgdG90YWxcbiAgICAgKiAtIGNvbXBvc2l0ZXMgdG90YWxcbiAgICAgKiAtIGNvbGxpc2lvbiBwYWlycyB0b3RhbFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1N0YXRzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgcGVyZm9ybWFuY2UgY2hhcnRzLiAgXG4gICAgICogRnJvbSBsZWZ0IHRvIHJpZ2h0LCB0aGUgdmFsdWVzIHNob3duIGFyZTpcbiAgICAgKlxuICAgICAqIC0gYXZlcmFnZSByZW5kZXIgZnJlcXVlbmN5IChlLmcuIDYwIGZwcylcbiAgICAgKiAtIGV4YWN0IGVuZ2luZSBkZWx0YSB0aW1lIHVzZWQgZm9yIGxhc3QgdXBkYXRlIChlLmcuIDE2LjY2bXMpXG4gICAgICogLSBhdmVyYWdlIHVwZGF0ZXMgcGVyIGZyYW1lIChlLmcuIDEpXG4gICAgICogLSBhdmVyYWdlIGVuZ2luZSBleGVjdXRpb24gZHVyYXRpb24gKGUuZy4gNS4wMG1zKVxuICAgICAqIC0gYXZlcmFnZSByZW5kZXIgZXhlY3V0aW9uIGR1cmF0aW9uIChlLmcuIDAuNDBtcylcbiAgICAgKiAtIGF2ZXJhZ2UgZWZmZWN0aXZlIHBsYXkgc3BlZWQgKGUuZy4gJzEuMDB4JyBpcyAncmVhbC10aW1lJylcbiAgICAgKlxuICAgICAqIEVhY2ggdmFsdWUgaXMgcmVjb3JkZWQgb3ZlciBhIGZpeGVkIHNhbXBsZSBvZiBwYXN0IGZyYW1lcyAoNjAgZnJhbWVzKS5cbiAgICAgKlxuICAgICAqIEEgY2hhcnQgc2hvd24gYmVsb3cgZWFjaCB2YWx1ZSBpbmRpY2F0ZXMgdGhlIHZhcmlhbmNlIGZyb20gdGhlIGF2ZXJhZ2Ugb3ZlciB0aGUgc2FtcGxlLlxuICAgICAqIFRoZSBtb3JlIHN0YWJsZSBvciBmaXhlZCB0aGUgdmFsdWUgaXMgdGhlIGZsYXR0ZXIgdGhlIGNoYXJ0IHdpbGwgYXBwZWFyLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1BlcmZvcm1hbmNlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHJlbmRlcmluZyBlbnRpcmVseS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmVuYWJsZWRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byB0b2dnbGUgd2lyZWZyYW1lIHJlbmRlcmluZyBvdGhlcndpc2Ugc29saWQgZmlsbCByZW5kZXJpbmcgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLndpcmVmcmFtZXNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHNsZWVwaW5nIGJvZGllcyBpbmRpY2F0b3JzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1NsZWVwaW5nXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgZGVidWcgaW5mb3JtYXRpb24gb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dEZWJ1Z1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBjb2xsaXNpb24gYnJvYWRwaGFzZSBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgbm8gbG9uZ2VyIGltcGxlbWVudGVkXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0Jyb2FkcGhhc2VcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBib3VuZHMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dCb3VuZHNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSB2ZWxvY2l0eSBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1ZlbG9jaXR5XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgY29sbGlzaW9ucyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0NvbGxpc2lvbnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgY29sbGlzaW9uIHJlc29sdmVyIHNlcGFyYXRpb25zIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93U2VwYXJhdGlvbnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBheGVzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93QXhlc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IHBvc2l0aW9ucyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1Bvc2l0aW9uc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGFuZ2xlIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3JcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBhbmQgcGFydCBpZHMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dJZHNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSB2ZXJ0ZXggbnVtYmVycyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1ZlcnRleE51bWJlcnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBjb252ZXggaHVsbHMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dDb252ZXhIdWxsc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGludGVybmFsIGVkZ2VzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93SW50ZXJuYWxFZGdlc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBtb3VzZSBwb3NpdGlvbiBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd01vdXNlUG9zaXRpb25cbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5SdW5uZXJgIG1vZHVsZSBpcyBhbiBvcHRpb25hbCB1dGlsaXR5IHRoYXQgcHJvdmlkZXMgYSBnYW1lIGxvb3AgZm9yIHJ1bm5pbmcgYSBgTWF0dGVyLkVuZ2luZWAgaW5zaWRlIGEgYnJvd3NlciBlbnZpcm9ubWVudC5cbiogQSBydW5uZXIgd2lsbCBjb250aW51b3VzbHkgdXBkYXRlIGEgYE1hdHRlci5FbmdpbmVgIHdoaWxzdCBzeW5jaHJvbmlzaW5nIGVuZ2luZSB1cGRhdGVzIHdpdGggdGhlIGJyb3dzZXIgZnJhbWUgcmF0ZS5cbiogVGhpcyBydW5uZXIgZmF2b3VycyBhIHNtb290aGVyIHVzZXIgZXhwZXJpZW5jZSBvdmVyIHBlcmZlY3QgdGltZSBrZWVwaW5nLlxuKiBUaGlzIHJ1bm5lciBpcyBvcHRpb25hbCBhbmQgaXMgdXNlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZyBidXQgY291bGQgYmUgdXNlZnVsIGFzIGEgc3RhcnRpbmcgcG9pbnQgZm9yIGltcGxlbWVudGluZyBzb21lIGdhbWVzIGFuZCBleHBlcmllbmNlcy5cbiogQWx0ZXJuYXRpdmVseSBzZWUgYEVuZ2luZS51cGRhdGVgIHRvIHN0ZXAgdGhlIGVuZ2luZSBkaXJlY3RseSBpbnNpZGUgeW91ciBvd24gZ2FtZSBsb29wIGltcGxlbWVudGF0aW9uIGFzIG1heSBiZSBuZWVkZWQgaW5zaWRlIG90aGVyIGVudmlyb25tZW50cy5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFJ1bm5lclxuKi9cblxudmFyIFJ1bm5lciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bm5lcjtcblxudmFyIEV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgRW5naW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgUnVubmVyLl9tYXhGcmFtZURlbHRhID0gMTAwMCAvIDE1O1xuICAgIFJ1bm5lci5fZnJhbWVEZWx0YUZhbGxiYWNrID0gMTAwMCAvIDYwO1xuICAgIFJ1bm5lci5fdGltZUJ1ZmZlck1hcmdpbiA9IDEuNTtcbiAgICBSdW5uZXIuX2VsYXBzZWROZXh0RXN0aW1hdGUgPSAxO1xuICAgIFJ1bm5lci5fc21vb3RoaW5nTG93ZXJCb3VuZCA9IDAuMTtcbiAgICBSdW5uZXIuX3Ntb290aGluZ1VwcGVyQm91bmQgPSAwLjk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFJ1bm5lci4gXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICovXG4gICAgUnVubmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZGVsdGE6IDEwMDAgLyA2MCxcbiAgICAgICAgICAgIGZyYW1lRGVsdGE6IG51bGwsXG4gICAgICAgICAgICBmcmFtZURlbHRhU21vb3RoaW5nOiB0cnVlLFxuICAgICAgICAgICAgZnJhbWVEZWx0YVNuYXBwaW5nOiB0cnVlLFxuICAgICAgICAgICAgZnJhbWVEZWx0YUhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgZnJhbWVEZWx0YUhpc3RvcnlTaXplOiAxMDAsXG4gICAgICAgICAgICBmcmFtZVJlcXVlc3RJZDogbnVsbCxcbiAgICAgICAgICAgIHRpbWVCdWZmZXI6IDAsXG4gICAgICAgICAgICB0aW1lTGFzdFRpY2s6IG51bGwsXG4gICAgICAgICAgICBtYXhVcGRhdGVzOiBudWxsLFxuICAgICAgICAgICAgbWF4RnJhbWVUaW1lOiAxMDAwIC8gMzAsXG4gICAgICAgICAgICBsYXN0VXBkYXRlc0RlZmVycmVkOiAwLFxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBydW5uZXIgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBmb3IgdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eSBvbmx5XG4gICAgICAgIHJ1bm5lci5mcHMgPSAwO1xuXG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgYSBgTWF0dGVyLkVuZ2luZWAgd2hpbHN0IHN5bmNocm9uaXNpbmcgZW5naW5lIHVwZGF0ZXMgd2l0aCB0aGUgYnJvd3NlciBmcmFtZSByYXRlLiBcbiAgICAgKiBTZWUgbW9kdWxlIGFuZCBwcm9wZXJ0aWVzIGRlc2NyaXB0aW9ucyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGlzIHJ1bm5lci5cbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHNlZSBgRW5naW5lLnVwZGF0ZWAgdG8gc3RlcCB0aGUgZW5naW5lIGRpcmVjdGx5IGluc2lkZSB5b3VyIG93biBnYW1lIGxvb3AgaW1wbGVtZW50YXRpb24uXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IFtlbmdpbmVdXG4gICAgICogQHJldHVybiB7cnVubmVyfSBydW5uZXJcbiAgICAgKi9cbiAgICBSdW5uZXIucnVuID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUpIHtcbiAgICAgICAgLy8gaW5pdGlhbCB0aW1lIGJ1ZmZlciBmb3IgdGhlIGZpcnN0IGZyYW1lXG4gICAgICAgIHJ1bm5lci50aW1lQnVmZmVyID0gUnVubmVyLl9mcmFtZURlbHRhRmFsbGJhY2s7XG5cbiAgICAgICAgKGZ1bmN0aW9uIG9uRnJhbWUodGltZSl7XG4gICAgICAgICAgICBydW5uZXIuZnJhbWVSZXF1ZXN0SWQgPSBSdW5uZXIuX29uTmV4dEZyYW1lKHJ1bm5lciwgb25GcmFtZSk7XG5cbiAgICAgICAgICAgIGlmICh0aW1lICYmIHJ1bm5lci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgUnVubmVyLnRpY2socnVubmVyLCBlbmdpbmUsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgc2luZ2xlIHJ1bm5lciB0aWNrIGFzIHVzZWQgaW5zaWRlIGBSdW5uZXIucnVuYC5cbiAgICAgKiBTZWUgbW9kdWxlIGFuZCBwcm9wZXJ0aWVzIGRlc2NyaXB0aW9ucyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGlzIHJ1bm5lci5cbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHNlZSBgRW5naW5lLnVwZGF0ZWAgdG8gc3RlcCB0aGUgZW5naW5lIGRpcmVjdGx5IGluc2lkZSB5b3VyIG93biBnYW1lIGxvb3AgaW1wbGVtZW50YXRpb24uXG4gICAgICogQG1ldGhvZCB0aWNrXG4gICAgICogQHBhcmFtIHtydW5uZXJ9IHJ1bm5lclxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICAgICAqL1xuICAgIFJ1bm5lci50aWNrID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUsIHRpbWUpIHtcbiAgICAgICAgdmFyIHRpY2tTdGFydFRpbWUgPSBDb21tb24ubm93KCksXG4gICAgICAgICAgICBlbmdpbmVEZWx0YSA9IHJ1bm5lci5kZWx0YSxcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50ID0gMDtcblxuICAgICAgICAvLyBmaW5kIGZyYW1lIGRlbHRhIHRpbWUgc2luY2UgbGFzdCBjYWxsXG4gICAgICAgIHZhciBmcmFtZURlbHRhID0gdGltZSAtIHJ1bm5lci50aW1lTGFzdFRpY2s7XG5cbiAgICAgICAgLy8gZmFsbGJhY2sgZm9yIHVudXNhYmxlIGZyYW1lIGRlbHRhIHZhbHVlcyAoZS5nLiAwLCBOYU4sIG9uIGZpcnN0IGZyYW1lIG9yIGxvbmcgcGF1c2VzKVxuICAgICAgICBpZiAoIWZyYW1lRGVsdGEgfHwgIXJ1bm5lci50aW1lTGFzdFRpY2sgfHwgZnJhbWVEZWx0YSA+IE1hdGgubWF4KFJ1bm5lci5fbWF4RnJhbWVEZWx0YSwgcnVubmVyLm1heEZyYW1lVGltZSkpIHtcbiAgICAgICAgICAgIC8vIHJldXNlIGxhc3QgYWNjZXB0ZWQgZnJhbWUgZGVsdGEgZWxzZSBmYWxsYmFja1xuICAgICAgICAgICAgZnJhbWVEZWx0YSA9IHJ1bm5lci5mcmFtZURlbHRhIHx8IFJ1bm5lci5fZnJhbWVEZWx0YUZhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJ1bm5lci5mcmFtZURlbHRhU21vb3RoaW5nKSB7XG4gICAgICAgICAgICAvLyByZWNvcmQgZnJhbWUgZGVsdGEgb3ZlciBhIG51bWJlciBvZiBmcmFtZXNcbiAgICAgICAgICAgIHJ1bm5lci5mcmFtZURlbHRhSGlzdG9yeS5wdXNoKGZyYW1lRGVsdGEpO1xuICAgICAgICAgICAgcnVubmVyLmZyYW1lRGVsdGFIaXN0b3J5ID0gcnVubmVyLmZyYW1lRGVsdGFIaXN0b3J5LnNsaWNlKC1ydW5uZXIuZnJhbWVEZWx0YUhpc3RvcnlTaXplKTtcblxuICAgICAgICAgICAgLy8gc29ydCBmcmFtZSBkZWx0YSBoaXN0b3J5XG4gICAgICAgICAgICB2YXIgZGVsdGFIaXN0b3J5U29ydGVkID0gcnVubmVyLmZyYW1lRGVsdGFIaXN0b3J5LnNsaWNlKDApLnNvcnQoKTtcblxuICAgICAgICAgICAgLy8gc2FtcGxlIGEgY2VudHJhbCB3aW5kb3cgdG8gbGltaXQgb3V0bGllcnNcbiAgICAgICAgICAgIHZhciBkZWx0YUhpc3RvcnlXaW5kb3cgPSBydW5uZXIuZnJhbWVEZWx0YUhpc3Rvcnkuc2xpY2UoXG4gICAgICAgICAgICAgICAgZGVsdGFIaXN0b3J5U29ydGVkLmxlbmd0aCAqIFJ1bm5lci5fc21vb3RoaW5nTG93ZXJCb3VuZCwgXG4gICAgICAgICAgICAgICAgZGVsdGFIaXN0b3J5U29ydGVkLmxlbmd0aCAqIFJ1bm5lci5fc21vb3RoaW5nVXBwZXJCb3VuZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gdGFrZSB0aGUgbWVhbiBvZiB0aGUgY2VudHJhbCB3aW5kb3dcbiAgICAgICAgICAgIHZhciBmcmFtZURlbHRhU21vb3RoZWQgPSBfbWVhbihkZWx0YUhpc3RvcnlXaW5kb3cpO1xuICAgICAgICAgICAgZnJhbWVEZWx0YSA9IGZyYW1lRGVsdGFTbW9vdGhlZCB8fCBmcmFtZURlbHRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJ1bm5lci5mcmFtZURlbHRhU25hcHBpbmcpIHtcbiAgICAgICAgICAgIC8vIHNuYXAgZnJhbWUgZGVsdGEgdG8gdGhlIG5lYXJlc3QgMSBIelxuICAgICAgICAgICAgZnJhbWVEZWx0YSA9IDEwMDAgLyBNYXRoLnJvdW5kKDEwMDAgLyBmcmFtZURlbHRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBydW5uZXIgdmFsdWVzIGZvciBuZXh0IGNhbGxcbiAgICAgICAgcnVubmVyLmZyYW1lRGVsdGEgPSBmcmFtZURlbHRhO1xuICAgICAgICBydW5uZXIudGltZUxhc3RUaWNrID0gdGltZTtcblxuICAgICAgICAvLyBhY2N1bXVsYXRlIGVsYXBzZWQgdGltZVxuICAgICAgICBydW5uZXIudGltZUJ1ZmZlciArPSBydW5uZXIuZnJhbWVEZWx0YTtcblxuICAgICAgICAvLyBsaW1pdCB0aW1lIGJ1ZmZlciBzaXplIHRvIGEgc2luZ2xlIGZyYW1lIG9mIHVwZGF0ZXNcbiAgICAgICAgcnVubmVyLnRpbWVCdWZmZXIgPSBDb21tb24uY2xhbXAoXG4gICAgICAgICAgICBydW5uZXIudGltZUJ1ZmZlciwgMCwgcnVubmVyLmZyYW1lRGVsdGEgKyBlbmdpbmVEZWx0YSAqIFJ1bm5lci5fdGltZUJ1ZmZlck1hcmdpblxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHJlc2V0IGNvdW50IG9mIG92ZXIgYnVkZ2V0IHVwZGF0ZXNcbiAgICAgICAgcnVubmVyLmxhc3RVcGRhdGVzRGVmZXJyZWQgPSAwO1xuXG4gICAgICAgIC8vIGdldCBtYXggdXBkYXRlcyBwZXIgZnJhbWVcbiAgICAgICAgdmFyIG1heFVwZGF0ZXMgPSBydW5uZXIubWF4VXBkYXRlcyB8fCBNYXRoLmNlaWwocnVubmVyLm1heEZyYW1lVGltZSAvIGVuZ2luZURlbHRhKTtcblxuICAgICAgICAvLyBjcmVhdGUgZXZlbnQgb2JqZWN0XG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZW5naW5lLnRpbWluZy50aW1lc3RhbXBcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB0aWNrIGV2ZW50cyBiZWZvcmUgdXBkYXRlXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVRpY2snLCBldmVudCk7XG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ3RpY2snLCBldmVudCk7XG5cbiAgICAgICAgdmFyIHVwZGF0ZVN0YXJ0VGltZSA9IENvbW1vbi5ub3coKTtcblxuICAgICAgICAvLyBzaW11bGF0ZSB0aW1lIGVsYXBzZWQgYmV0d2VlbiBjYWxsc1xuICAgICAgICB3aGlsZSAoZW5naW5lRGVsdGEgPiAwICYmIHJ1bm5lci50aW1lQnVmZmVyID49IGVuZ2luZURlbHRhICogUnVubmVyLl90aW1lQnVmZmVyTWFyZ2luKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGVuZ2luZVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYmVmb3JlVXBkYXRlJywgZXZlbnQpO1xuICAgICAgICAgICAgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGVuZ2luZURlbHRhKTtcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgICAgICAvLyBjb25zdW1lIHRpbWUgc2ltdWxhdGVkIGZyb20gYnVmZmVyXG4gICAgICAgICAgICBydW5uZXIudGltZUJ1ZmZlciAtPSBlbmdpbmVEZWx0YTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50ICs9IDE7XG5cbiAgICAgICAgICAgIC8vIGZpbmQgZWxhcHNlZCB0aW1lIGR1cmluZyB0aGlzIHRpY2tcbiAgICAgICAgICAgIHZhciBlbGFwc2VkVGltZVRvdGFsID0gQ29tbW9uLm5vdygpIC0gdGlja1N0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBlbGFwc2VkVGltZVVwZGF0ZXMgPSBDb21tb24ubm93KCkgLSB1cGRhdGVTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZWxhcHNlZE5leHRFc3RpbWF0ZSA9IGVsYXBzZWRUaW1lVG90YWwgKyBSdW5uZXIuX2VsYXBzZWROZXh0RXN0aW1hdGUgKiBlbGFwc2VkVGltZVVwZGF0ZXMgLyB1cGRhdGVDb3VudDtcblxuICAgICAgICAgICAgLy8gZGVmZXIgdXBkYXRlcyBpZiBvdmVyIHBlcmZvcm1hbmNlIGJ1ZGdldHMgZm9yIHRoaXMgZnJhbWVcbiAgICAgICAgICAgIGlmICh1cGRhdGVDb3VudCA+PSBtYXhVcGRhdGVzIHx8IGVsYXBzZWROZXh0RXN0aW1hdGUgPiBydW5uZXIubWF4RnJhbWVUaW1lKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmxhc3RVcGRhdGVzRGVmZXJyZWQgPSBNYXRoLnJvdW5kKE1hdGgubWF4KDAsIChydW5uZXIudGltZUJ1ZmZlciAvIGVuZ2luZURlbHRhKSAtIFJ1bm5lci5fdGltZUJ1ZmZlck1hcmdpbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJhY2sgdGltaW5nIG1ldHJpY3NcbiAgICAgICAgZW5naW5lLnRpbWluZy5sYXN0VXBkYXRlc1BlckZyYW1lID0gdXBkYXRlQ291bnQ7XG5cbiAgICAgICAgLy8gdGljayBldmVudHMgYWZ0ZXIgdXBkYXRlXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2FmdGVyVGljaycsIGV2ZW50KTtcblxuICAgICAgICAvLyBzaG93IHVzZWZ1bCB3YXJuaW5ncyBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHJ1bm5lci5mcmFtZURlbHRhSGlzdG9yeS5sZW5ndGggPj0gMTAwKSB7XG4gICAgICAgICAgICBpZiAocnVubmVyLmxhc3RVcGRhdGVzRGVmZXJyZWQgJiYgTWF0aC5yb3VuZChydW5uZXIuZnJhbWVEZWx0YSAvIGVuZ2luZURlbHRhKSA+IG1heFVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoJ01hdHRlci5SdW5uZXI6IHJ1bm5lciByZWFjaGVkIHJ1bm5lci5tYXhVcGRhdGVzLCBzZWUgZG9jcy4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocnVubmVyLmxhc3RVcGRhdGVzRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoJ01hdHRlci5SdW5uZXI6IHJ1bm5lciByZWFjaGVkIHJ1bm5lci5tYXhGcmFtZVRpbWUsIHNlZSBkb2NzLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJ1bm5lci5pc0ZpeGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuT25jZSgnTWF0dGVyLlJ1bm5lcjogcnVubmVyLmlzRml4ZWQgaXMgbm93IHJlZHVuZGFudCwgc2VlIGRvY3MuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChydW5uZXIuZGVsdGFNaW4gfHwgcnVubmVyLmRlbHRhTWF4KSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm5PbmNlKCdNYXR0ZXIuUnVubmVyOiBydW5uZXIuZGVsdGFNaW4gYW5kIHJ1bm5lci5kZWx0YU1heCB3ZXJlIHJlbW92ZWQsIHNlZSBkb2NzLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocnVubmVyLmZwcyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuT25jZSgnTWF0dGVyLlJ1bm5lcjogcnVubmVyLmZwcyB3YXMgcmVwbGFjZWQgYnkgcnVubmVyLmRlbHRhLCBzZWUgZG9jcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUnVubmVyLnJ1bmAgb24gdGhlIGdpdmVuIGBydW5uZXJgIGJ5IGNhbmNlbGluZyB0aGUgZnJhbWUgbG9vcC5cbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHRvIHRlbXBvcmFyaWx5IHBhdXNlIHRoZSBydW5uZXIsIHNlZSBgcnVubmVyLmVuYWJsZWRgLlxuICAgICAqIEBtZXRob2Qgc3RvcFxuICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXJcbiAgICAgKi9cbiAgICBSdW5uZXIuc3RvcCA9IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBSdW5uZXIuX2NhbmNlbE5leHRGcmFtZShydW5uZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZXMgdGhlIGBjYWxsYmFja2Agb24gdGhpcyBgcnVubmVyYCBmb3IgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBfb25OZXh0RnJhbWVcbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGZyYW1lUmVxdWVzdElkXG4gICAgICovXG4gICAgUnVubmVyLl9vbk5leHRGcmFtZSA9IGZ1bmN0aW9uKHJ1bm5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIHJ1bm5lci5mcmFtZVJlcXVlc3RJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXR0ZXIuUnVubmVyOiBtaXNzaW5nIHJlcXVpcmVkIGdsb2JhbCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJ1bm5lci5mcmFtZVJlcXVlc3RJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgbGFzdCBjYWxsYmFjayBzY2hlZHVsZWQgYnkgYFJ1bm5lci5fb25OZXh0RnJhbWVgIG9uIHRoaXMgYHJ1bm5lcmAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIF9jYW5jZWxOZXh0RnJhbWVcbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICovXG4gICAgUnVubmVyLl9jYW5jZWxOZXh0RnJhbWUgPSBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bm5lci5mcmFtZVJlcXVlc3RJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hdHRlci5SdW5uZXI6IG1pc3NpbmcgcmVxdWlyZWQgZ2xvYmFsIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZS4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZWFuIG9mIHRoZSBnaXZlbiBudW1iZXJzLlxuICAgICAqIEBtZXRob2QgX21lYW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHZhbHVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIG1lYW4gb2YgZ2l2ZW4gdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBfbWVhbiA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gMCxcbiAgICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXNMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAocmVzdWx0IC8gdmFsdWVzTGVuZ3RoKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBvbmNlIGF0IHRoZSBzdGFydCBvZiB0aGUgYnJvd3NlciBmcmFtZSwgYmVmb3JlIGFueSBlbmdpbmUgdXBkYXRlcy5cbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlVGlja1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgb25jZSBhdCB0aGUgc3RhcnQgb2YgdGhlIGJyb3dzZXIgZnJhbWUsIGFmdGVyIGBiZWZvcmVUaWNrYC5cbiAgICAqXG4gICAgKiBAZXZlbnQgdGlja1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgb25jZSBhdCB0aGUgZW5kIG9mIHRoZSBicm93c2VyIGZyYW1lLCBhZnRlciBgYmVmb3JlVGlja2AsIGB0aWNrYCBhbmQgYWZ0ZXIgYW55IGVuZ2luZSB1cGRhdGVzLlxuICAgICpcbiAgICAqIEBldmVudCBhZnRlclRpY2tcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGJlZm9yZSBlYWNoIGFuZCBldmVyeSBlbmdpbmUgdXBkYXRlIGluIHRoaXMgYnJvd3NlciBmcmFtZSAoaWYgYW55KS4gXG4gICAgKiBUaGVyZSBtYXkgYmUgbXVsdGlwbGUgZW5naW5lIHVwZGF0ZSBjYWxscyBwZXIgYnJvd3NlciBmcmFtZSAob3Igbm9uZSkgZGVwZW5kaW5nIG9uIGZyYW1lcmF0ZSBhbmQgdGltZXN0ZXAgZGVsdGEuXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVVwZGF0ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZWFjaCBhbmQgZXZlcnkgZW5naW5lIHVwZGF0ZSBpbiB0aGlzIGJyb3dzZXIgZnJhbWUgKGlmIGFueSkuIFxuICAgICogVGhlcmUgbWF5IGJlIG11bHRpcGxlIGVuZ2luZSB1cGRhdGUgY2FsbHMgcGVyIGJyb3dzZXIgZnJhbWUgKG9yIG5vbmUpIGRlcGVuZGluZyBvbiBmcmFtZXJhdGUgYW5kIHRpbWVzdGVwIGRlbHRhLlxuICAgICpcbiAgICAqIEBldmVudCBhZnRlclVwZGF0ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpeGVkIHRpbWVzdGVwIHNpemUgdXNlZCBmb3IgYEVuZ2luZS51cGRhdGVgIGNhbGxzIGluIG1pbGxpc2Vjb25kcywga25vd24gYXMgYGRlbHRhYC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIHZhbHVlIGlzIHJlY29tbWVuZGVkIHRvIGJlIGAxMDAwIC8gNjBgIG1zIG9yIHNtYWxsZXIgKGkuZS4gZXF1aXZhbGVudCB0byBhdCBsZWFzdCA2MGh6KS5cbiAgICAgKiBcbiAgICAgKiBTbWFsbGVyIGBkZWx0YWAgdmFsdWVzIHByb3ZpZGUgaGlnaGVyIHF1YWxpdHkgcmVzdWx0cyBhdCB0aGUgY29zdCBvZiBwZXJmb3JtYW5jZS5cbiAgICAgKiBcbiAgICAgKiBZb3Ugc2hvdWxkIHVzdWFsbHkgYXZvaWQgY2hhbmdpbmcgYGRlbHRhYCBkdXJpbmcgcnVubmluZywgb3RoZXJ3aXNlIHF1YWxpdHkgbWF5IGJlIGFmZmVjdGVkLiBcbiAgICAgKiBcbiAgICAgKiBGb3Igc21vb3RoZXIgZnJhbWUgcGFjaW5nIGNob29zZSBhIGBkZWx0YWAgdGhhdCBpcyBhbiBldmVuIG11bHRpcGxlIG9mIGVhY2ggZGlzcGxheSBGUFMgeW91IHRhcmdldCwgaS5lLiBgMTAwMCAvIChuICogZnBzKWAgYXMgdGhpcyBoZWxwcyBkaXN0cmlidXRlIGFuIGVxdWFsIG51bWJlciBvZiB1cGRhdGVzIG92ZXIgZWFjaCBkaXNwbGF5IGZyYW1lLlxuICAgICAqIFxuICAgICAqIEZvciBleGFtcGxlIHdpdGggYSA2MCBIeiBgZGVsdGFgIGkuZS4gYDEwMDAgLyA2MGAgdGhlIHJ1bm5lciB3aWxsIG9uIGF2ZXJhZ2UgcGVyZm9ybSBvbmUgdXBkYXRlIHBlciBmcmFtZSBvbiBkaXNwbGF5cyBydW5uaW5nIDYwIEZQUyBhbmQgb25lIHVwZGF0ZSBldmVyeSB0d28gZnJhbWVzIG9uIGRpc3BsYXlzIHJ1bm5pbmcgMTIwIEZQUywgZXRjLlxuICAgICAqIFxuICAgICAqIFdoZXJlIGFzIGUuZy4gdXNpbmcgYSAyNDAgSHogYGRlbHRhYCBpLmUuIGAxMDAwIC8gMjQwYCB0aGUgcnVubmVyIHdpbGwgb24gYXZlcmFnZSBwZXJmb3JtIGZvdXIgdXBkYXRlcyBwZXIgZnJhbWUgb24gZGlzcGxheXMgcnVubmluZyA2MCBGUFMgYW5kIHR3byB1cGRhdGVzIHBlciBmcmFtZSBvbiBkaXNwbGF5cyBydW5uaW5nIDEyMCBGUFMsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBUaGVyZWZvcmUgYFJ1bm5lci5ydW5gIHdpbGwgY2FsbCBtdWx0aXBsZSBlbmdpbmUgdXBkYXRlcyAob3Igbm9uZSkgYXMgbmVlZGVkIHRvIHNpbXVsYXRlIHRoZSB0aW1lIGVsYXBzZWQgYmV0d2VlbiBicm93c2VyIGZyYW1lcy4gXG4gICAgICogXG4gICAgICogSW4gcHJhY3RpY2UgdGhlIG51bWJlciBvZiB1cGRhdGVzIGluIGFueSBwYXJ0aWN1bGFyIGZyYW1lIG1heSBiZSByZXN0cmljdGVkIHRvIHJlc3BlY3QgdGhlIHJ1bm5lcidzIHBlcmZvcm1hbmNlIGJ1ZGdldHMuIFRoZXNlIGFyZSBzcGVjaWZpZWQgYnkgYHJ1bm5lci5tYXhGcmFtZVRpbWVgIGFuZCBgcnVubmVyLm1heFVwZGF0ZXNgLCBzZWUgdGhvc2UgcHJvcGVydGllcyBmb3IgZGV0YWlscy5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgZGVsdGFcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxMDAwIC8gNjBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IGNhbiBiZSB0b2dnbGVkIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRpY2sgY2FsbHMgb24gdGhpcyBydW5uZXIsIHRoZXJlZm9yZSBwYXVzaW5nIGVuZ2luZSB1cGRhdGVzIGFuZCBldmVudHMgd2hpbGUgdGhlIHJ1bm5lciBsb29wIHJlbWFpbnMgcnVubmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBhY2N1bXVsYXRlZCB0aW1lIGVsYXBzZWQgdGhhdCBoYXMgeWV0IHRvIGJlIHNpbXVsYXRlZCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogVGhpcyB2YWx1ZSBpcyBjbGFtcGVkIHdpdGhpbiBjZXJ0YWluIGxpbWl0cyAoc2VlIGBSdW5uZXIudGlja2AgY29kZSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwcm9wZXJ0eSB0aW1lQnVmZmVyXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1lYXN1cmVkIHRpbWUgZWxhcHNlZCBiZXR3ZWVuIHRoZSBsYXN0IHR3byBicm93c2VyIGZyYW1lcyBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZS5nLiB0byBlc3RpbWF0ZSB0aGUgY3VycmVudCBicm93c2VyIEZQUyB1c2luZyBgMTAwMCAvIHJ1bm5lci5mcmFtZURlbHRhYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSBmcmFtZURlbHRhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGF2ZXJhZ2luZyB0byBzbW9vdGggZnJhbWUgcmF0ZSBtZWFzdXJlbWVudHMgYW5kIHRoZXJlZm9yZSBzdGFiaWxpc2UgcGxheSByYXRlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZyYW1lRGVsdGFTbW9vdGhpbmdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUm91bmRzIG1lYXN1cmVkIGJyb3dzZXIgZnJhbWUgZGVsdGEgdG8gdGhlIG5lYXJlc3QgMSBIei5cbiAgICAgKiBUaGlzIG9wdGlvbiBjYW4gaGVscCBzbW9vdGggZnJhbWUgcmF0ZSBtZWFzdXJlbWVudHMgYW5kIHNpbXBsaWZ5IGhhbmRsaW5nIGhhcmR3YXJlIHRpbWluZyBkaWZmZXJlbmNlcyBlLmcuIDU5Ljk0SHogYW5kIDYwSHogZGlzcGxheXMuXG4gICAgICogRm9yIGJlc3QgcmVzdWx0cyB5b3Ugc2hvdWxkIGFsc28gcm91bmQgeW91ciBgcnVubmVyLmRlbHRhYCBlcXVpdmFsZW50IHRvIHRoZSBuZWFyZXN0IDEgSHouXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJhbWVEZWx0YVNuYXBwaW5nXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcGVyZm9ybWFuY2UgYnVkZ2V0IHRoYXQgbGltaXRzIGV4ZWN1dGlvbiB0aW1lIGFsbG93ZWQgZm9yIHRoaXMgcnVubmVyIHBlciBicm93c2VyIGZyYW1lIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiBcbiAgICAgKiBUbyBjYWxjdWxhdGUgdGhlIGVmZmVjdGl2ZSBicm93c2VyIEZQUyBhdCB3aGljaCB0aGlzIHRocm90dGxlIGlzIGFwcGxpZWQgdXNlIGAxMDAwIC8gcnVubmVyLm1heEZyYW1lVGltZWAuXG4gICAgICogXG4gICAgICogVGhpcyBwZXJmb3JtYW5jZSBidWRnZXQgaXMgaW50ZW5kZWQgdG8gaGVscCBtYWludGFpbiBicm93c2VyIGludGVyYWN0aXZpdHkgYW5kIGhlbHAgaW1wcm92ZSBmcmFtZXJhdGUgcmVjb3ZlcnkgZHVyaW5nIHRlbXBvcmFyeSBoaWdoIENQVSB1c2FnZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGJ1ZGdldCBvbmx5IGNvdmVycyB0aGUgbWVhc3VyZWQgdGltZSBlbGFwc2VkIGV4ZWN1dGluZyB0aGUgZnVuY3Rpb25zIGNhbGxlZCBpbiB0aGUgc2NvcGUgb2YgdGhlIHJ1bm5lciB0aWNrLCBpbmNsdWRpbmcgYEVuZ2luZS51cGRhdGVgIGFuZCBpdHMgcmVsYXRlZCB1c2VyIGV2ZW50IGNhbGxiYWNrcy5cbiAgICAgKiBcbiAgICAgKiBZb3UgbWF5IGFsc28gcmVkdWNlIHRoaXMgYnVkZ2V0IHRvIGFsbG93IGZvciBhbnkgc2lnbmlmaWNhbnQgYWRkaXRpb25hbCBwcm9jZXNzaW5nIHlvdSBwZXJmb3JtIG9uIHRoZSBzYW1lIHRocmVhZCBvdXRzaWRlIHRoZSBzY29wZSBvZiB0aGlzIHJ1bm5lciB0aWNrLCBlLmcuIHJlbmRlcmluZyB0aW1lLlxuICAgICAqIFxuICAgICAqIFNlZSBhbHNvIGBydW5uZXIubWF4VXBkYXRlc2AuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbWF4RnJhbWVUaW1lXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMTAwMCAvIDMwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBsaW1pdCBmb3IgbWF4aW11bSBlbmdpbmUgdXBkYXRlIGNvdW50IGFsbG93ZWQgcGVyIGZyYW1lIHRpY2sgaW4gYWRkaXRpb24gdG8gYHJ1bm5lci5tYXhGcmFtZVRpbWVgLlxuICAgICAqIFxuICAgICAqIFVubGVzcyB5b3Ugc2V0IGEgdmFsdWUgaXQgaXMgYXV0b21hdGljYWxseSBjaG9zZW4gYmFzZWQgb24gYHJ1bm5lci5kZWx0YWAgYW5kIGBydW5uZXIubWF4RnJhbWVUaW1lYC5cbiAgICAgKiBcbiAgICAgKiBTZWUgYWxzbyBgcnVubmVyLm1heEZyYW1lVGltZWAuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IG1heFVwZGF0ZXNcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXN0YW1wIG9mIHRoZSBsYXN0IGNhbGwgdG8gYFJ1bm5lci50aWNrYCB1c2VkIHRvIG1lYXN1cmUgYGZyYW1lRGVsdGFgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkgdGltZUxhc3RUaWNrXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBsYXN0IGNhbGwgdG8gYFJ1bm5lci5fb25OZXh0RnJhbWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkgZnJhbWVSZXF1ZXN0SWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhpcyBtb2R1bGUgaGFzIG5vdyBiZWVuIHJlcGxhY2VkIGJ5IGBNYXR0ZXIuQ29sbGlzaW9uYC5cbipcbiogQWxsIHVzYWdlIHNob3VsZCBiZSBtaWdyYXRlZCB0byBgTWF0dGVyLkNvbGxpc2lvbmAuXG4qIEZvciBiYWNrLWNvbXBhdGliaWxpdHkgcHVycG9zZXMgdGhpcyBtb2R1bGUgd2lsbCByZW1haW4gZm9yIGEgc2hvcnQgdGVybSBhbmQgdGhlbiBsYXRlciByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXG4qXG4qIFRoZSBgTWF0dGVyLlNBVGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGRldGVjdGluZyBjb2xsaXNpb25zIHVzaW5nIHRoZSBTZXBhcmF0aW5nIEF4aXMgVGhlb3JlbS5cbipcbiogQGNsYXNzIFNBVFxuKiBAZGVwcmVjYXRlZFxuKi9cblxudmFyIFNBVCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNBVDtcblxudmFyIENvbGxpc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBkZXByZWNhdGVkID0gQ29tbW9uLmRlcHJlY2F0ZWQ7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBjb2xsaXNpb24gYmV0d2VlbiB0d28gYm9kaWVzIHVzaW5nIHRoZSBTZXBhcmF0aW5nIEF4aXMgVGhlb3JlbS5cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBDb2xsaXNpb24uY29sbGlkZXNcbiAgICAgKiBAbWV0aG9kIGNvbGxpZGVzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcmV0dXJuIHtjb2xsaXNpb259IGNvbGxpc2lvblxuICAgICAqL1xuICAgIFNBVC5jb2xsaWRlcyA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qikge1xuICAgICAgICByZXR1cm4gQ29sbGlzaW9uLmNvbGxpZGVzKGJvZHlBLCBib2R5Qik7XG4gICAgfTtcblxuICAgIGRlcHJlY2F0ZWQoU0FULCAnY29sbGlkZXMnLCAnU0FULmNvbGxpZGVzIOKepCByZXBsYWNlZCBieSBDb2xsaXNpb24uY29sbGlkZXMnKTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5TdmdgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjb252ZXJ0aW5nIFNWRyBpbWFnZXMgaW50byBhbiBhcnJheSBvZiB2ZWN0b3IgcG9pbnRzLlxuKlxuKiBUbyB1c2UgdGhpcyBtb2R1bGUgeW91IGFsc28gbmVlZCB0aGUgU1ZHUGF0aFNlZyBwb2x5ZmlsbDogaHR0cHM6Ly9naXRodWIuY29tL3Byb2dlcnMvcGF0aHNlZ1xuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgU3ZnXG4qL1xuXG52YXIgU3ZnID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gU3ZnO1xuXG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBTVkcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHZlY3RvciBwb2ludHMuXG4gICAgICogSWYgdGhlIGlucHV0IHBhdGggZm9ybXMgYSBjb25jYXZlIHNoYXBlLCB5b3UgbXVzdCBkZWNvbXBvc2UgdGhlIHJlc3VsdCBpbnRvIGNvbnZleCBwYXJ0cyBiZWZvcmUgdXNlLlxuICAgICAqIFNlZSBgQm9kaWVzLmZyb21WZXJ0aWNlc2Agd2hpY2ggcHJvdmlkZXMgc3VwcG9ydCBmb3IgdGhpcy5cbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgZ3VhcmFudGVlZCB0byBzdXBwb3J0IGNvbXBsZXggcGF0aHMgKHN1Y2ggYXMgdGhvc2Ugd2l0aCBob2xlcykuXG4gICAgICogWW91IG11c3QgbG9hZCB0aGUgYHBhdGhzZWcuanNgIHBvbHlmaWxsIG9uIG5ld2VyIGJyb3dzZXJzLlxuICAgICAqIEBtZXRob2QgcGF0aFRvVmVydGljZXNcbiAgICAgKiBAcGFyYW0ge1NWR1BhdGhFbGVtZW50fSBwYXRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVMZW5ndGg9MTVdXG4gICAgICogQHJldHVybiB7VmVjdG9yW119IHBvaW50c1xuICAgICAqL1xuICAgIFN2Zy5wYXRoVG9WZXJ0aWNlcyA9IGZ1bmN0aW9uKHBhdGgsIHNhbXBsZUxlbmd0aCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgISgnU1ZHUGF0aFNlZycgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1N2Zy5wYXRoVG9WZXJ0aWNlczogU1ZHUGF0aFNlZyBub3QgZGVmaW5lZCwgYSBwb2x5ZmlsbCBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93b3V0L3N2Zy50b3BvbHkuanMvYmxvYi9tYXN0ZXIvc3ZnLnRvcG9seS5qc1xuICAgICAgICB2YXIgaSwgaWwsIHRvdGFsLCBwb2ludCwgc2VnbWVudCwgc2VnbWVudHMsIFxuICAgICAgICAgICAgc2VnbWVudHNRdWV1ZSwgbGFzdFNlZ21lbnQsIFxuICAgICAgICAgICAgbGFzdFBvaW50LCBzZWdtZW50SW5kZXgsIHBvaW50cyA9IFtdLFxuICAgICAgICAgICAgbHgsIGx5LCBsZW5ndGggPSAwLCB4ID0gMCwgeSA9IDA7XG5cbiAgICAgICAgc2FtcGxlTGVuZ3RoID0gc2FtcGxlTGVuZ3RoIHx8IDE1O1xuXG4gICAgICAgIHZhciBhZGRQb2ludCA9IGZ1bmN0aW9uKHB4LCBweSwgcGF0aFNlZ1R5cGUpIHtcbiAgICAgICAgICAgIC8vIGFsbCBvZGQtbnVtYmVyZWQgcGF0aCB0eXBlcyBhcmUgcmVsYXRpdmUgZXhjZXB0IFBBVEhTRUdfQ0xPU0VQQVRIICgxKVxuICAgICAgICAgICAgdmFyIGlzUmVsYXRpdmUgPSBwYXRoU2VnVHlwZSAlIDIgPT09IDEgJiYgcGF0aFNlZ1R5cGUgPiAxO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBsYXN0IHBvaW50IGRvZXNuJ3QgZXF1YWwgdGhlIGN1cnJlbnQgcG9pbnQgYWRkIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgICBpZiAoIWxhc3RQb2ludCB8fCBweCAhPSBsYXN0UG9pbnQueCB8fCBweSAhPSBsYXN0UG9pbnQueSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UG9pbnQgJiYgaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBseCA9IGxhc3RQb2ludC54O1xuICAgICAgICAgICAgICAgICAgICBseSA9IGxhc3RQb2ludC55O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGx4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbHkgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogbHggKyBweCxcbiAgICAgICAgICAgICAgICAgICAgeTogbHkgKyBweVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgbGFzdCBwb2ludFxuICAgICAgICAgICAgICAgIGlmIChpc1JlbGF0aXZlIHx8ICFsYXN0UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xuXG4gICAgICAgICAgICAgICAgeCA9IGx4ICsgcHg7XG4gICAgICAgICAgICAgICAgeSA9IGx5ICsgcHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFkZFNlZ21lbnRQb2ludCA9IGZ1bmN0aW9uKHNlZ21lbnQpIHtcbiAgICAgICAgICAgIHZhciBzZWdUeXBlID0gc2VnbWVudC5wYXRoU2VnVHlwZUFzTGV0dGVyLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIC8vIHNraXAgcGF0aCBlbmRzXG4gICAgICAgICAgICBpZiAoc2VnVHlwZSA9PT0gJ1onKSBcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIG1hcCBzZWdtZW50IHRvIHggYW5kIHlcbiAgICAgICAgICAgIHN3aXRjaCAoc2VnVHlwZSkge1xuXG4gICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ1MnOlxuICAgICAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgICAgICAgeCA9IHNlZ21lbnQueDtcbiAgICAgICAgICAgICAgICB5ID0gc2VnbWVudC55O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSCc6XG4gICAgICAgICAgICAgICAgeCA9IHNlZ21lbnQueDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1YnOlxuICAgICAgICAgICAgICAgIHkgPSBzZWdtZW50Lnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZFBvaW50KHgsIHksIHNlZ21lbnQucGF0aFNlZ1R5cGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGVuc3VyZSBwYXRoIGlzIGFic29sdXRlXG4gICAgICAgIFN2Zy5fc3ZnUGF0aFRvQWJzb2x1dGUocGF0aCk7XG5cbiAgICAgICAgLy8gZ2V0IHRvdGFsIGxlbmd0aFxuICAgICAgICB0b3RhbCA9IHBhdGguZ2V0VG90YWxMZW5ndGgoKTtcblxuICAgICAgICAvLyBxdWV1ZSBzZWdtZW50c1xuICAgICAgICBzZWdtZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aC5wYXRoU2VnTGlzdC5udW1iZXJPZkl0ZW1zOyBpICs9IDEpXG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHBhdGgucGF0aFNlZ0xpc3QuZ2V0SXRlbShpKSk7XG5cbiAgICAgICAgc2VnbWVudHNRdWV1ZSA9IHNlZ21lbnRzLmNvbmNhdCgpO1xuXG4gICAgICAgIC8vIHNhbXBsZSB0aHJvdWdoIHBhdGhcbiAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRvdGFsKSB7XG4gICAgICAgICAgICAvLyBnZXQgc2VnbWVudCBhdCBwb3NpdGlvblxuICAgICAgICAgICAgc2VnbWVudEluZGV4ID0gcGF0aC5nZXRQYXRoU2VnQXRMZW5ndGgobGVuZ3RoKTtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50SW5kZXhdO1xuXG4gICAgICAgICAgICAvLyBuZXcgc2VnbWVudFxuICAgICAgICAgICAgaWYgKHNlZ21lbnQgIT0gbGFzdFNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VnbWVudHNRdWV1ZS5sZW5ndGggJiYgc2VnbWVudHNRdWV1ZVswXSAhPSBzZWdtZW50KVxuICAgICAgICAgICAgICAgICAgICBhZGRTZWdtZW50UG9pbnQoc2VnbWVudHNRdWV1ZS5zaGlmdCgpKTtcblxuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50ID0gc2VnbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHBvaW50cyBpbiBiZXR3ZWVuIHdoZW4gY3VydmluZ1xuICAgICAgICAgICAgLy8gVE9ETzogYWRhcHRpdmUgc2FtcGxpbmdcbiAgICAgICAgICAgIHN3aXRjaCAoc2VnbWVudC5wYXRoU2VnVHlwZUFzTGV0dGVyLnRvVXBwZXJDYXNlKCkpIHtcblxuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgIGNhc2UgJ1MnOlxuICAgICAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICBwb2ludCA9IHBhdGguZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgpO1xuICAgICAgICAgICAgICAgIGFkZFBvaW50KHBvaW50LngsIHBvaW50LnksIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBieSBzYW1wbGUgdmFsdWVcbiAgICAgICAgICAgIGxlbmd0aCArPSBzYW1wbGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHNlZ21lbnRzIG5vdCBwYXNzZWQgYnkgc2FtcGxpbmdcbiAgICAgICAgZm9yIChpID0gMCwgaWwgPSBzZWdtZW50c1F1ZXVlLmxlbmd0aDsgaSA8IGlsOyArK2kpXG4gICAgICAgICAgICBhZGRTZWdtZW50UG9pbnQoc2VnbWVudHNRdWV1ZVtpXSk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9O1xuXG4gICAgU3ZnLl9zdmdQYXRoVG9BYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgLy8gaHR0cDovL3Bocm9nei5uZXQvY29udmVydC1zdmctcGF0aC10by1hbGwtYWJzb2x1dGUtY29tbWFuZHNcbiAgICAgICAgLy8gQ29weXJpZ2h0IChjKSBHYXZpbiBLaXN0bmVyXG4gICAgICAgIC8vIGh0dHA6Ly9waHJvZ3oubmV0L2pzL19SZXVzZUxpY2Vuc2UudHh0XG4gICAgICAgIC8vIE1vZGlmaWNhdGlvbnM6IHRpZHkgZm9ybWF0dGluZyBhbmQgbmFtaW5nXG4gICAgICAgIHZhciB4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCBzZWdzID0gcGF0aC5wYXRoU2VnTGlzdCxcbiAgICAgICAgICAgIHggPSAwLCB5ID0gMCwgbGVuID0gc2Vncy5udW1iZXJPZkl0ZW1zO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzZWcgPSBzZWdzLmdldEl0ZW0oaSksXG4gICAgICAgICAgICAgICAgc2VnVHlwZSA9IHNlZy5wYXRoU2VnVHlwZUFzTGV0dGVyO1xuXG4gICAgICAgICAgICBpZiAoL1tNTEhWQ1NRVEFdLy50ZXN0KHNlZ1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCd4JyBpbiBzZWcpIHggPSBzZWcueDtcbiAgICAgICAgICAgICAgICBpZiAoJ3knIGluIHNlZykgeSA9IHNlZy55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3gxJyBpbiBzZWcpIHgxID0geCArIHNlZy54MTtcbiAgICAgICAgICAgICAgICBpZiAoJ3gyJyBpbiBzZWcpIHgyID0geCArIHNlZy54MjtcbiAgICAgICAgICAgICAgICBpZiAoJ3kxJyBpbiBzZWcpIHkxID0geSArIHNlZy55MTtcbiAgICAgICAgICAgICAgICBpZiAoJ3kyJyBpbiBzZWcpIHkyID0geSArIHNlZy55MjtcbiAgICAgICAgICAgICAgICBpZiAoJ3gnIGluIHNlZykgeCArPSBzZWcueDtcbiAgICAgICAgICAgICAgICBpZiAoJ3knIGluIHNlZykgeSArPSBzZWcueTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VnVHlwZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTW92ZXRvQWJzKHgsIHkpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTGluZXRvQWJzKHgsIHkpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyh4KSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzKHkpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYyc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzKHgsIHksIHgxLCB5MSwgeDIsIHkyKSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicyh4LCB5LCB4MiwgeTIpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficyh4LCB5LCB4MSwgeTEpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyh4LCB5KSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0FyY0Ficyh4LCB5LCBzZWcucjEsIHNlZy5yMiwgc2VnLmFuZ2xlLCBzZWcubGFyZ2VBcmNGbGFnLCBzZWcuc3dlZXBGbGFnKSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgICAgICAgICB4ID0geDA7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB5MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWdUeXBlID09ICdNJyB8fCBzZWdUeXBlID09ICdtJykge1xuICAgICAgICAgICAgICAgIHgwID0geDtcbiAgICAgICAgICAgICAgICB5MCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGlzIG1vZHVsZSBoYXMgbm93IGJlZW4gcmVwbGFjZWQgYnkgYE1hdHRlci5Db21wb3NpdGVgLlxuKlxuKiBBbGwgdXNhZ2Ugc2hvdWxkIGJlIG1pZ3JhdGVkIHRvIHRoZSBlcXVpdmFsZW50IGZ1bmN0aW9ucyBmb3VuZCBvbiBgTWF0dGVyLkNvbXBvc2l0ZWAuXG4qIEZvciBleGFtcGxlIGBXb3JsZC5hZGQod29ybGQsIGJvZHkpYCBub3cgYmVjb21lcyBgQ29tcG9zaXRlLmFkZCh3b3JsZCwgYm9keSlgLlxuKlxuKiBUaGUgcHJvcGVydHkgYHdvcmxkLmdyYXZpdHlgIGhhcyBiZWVuIG1vdmVkIHRvIGBlbmdpbmUuZ3Jhdml0eWAuXG4qXG4qIEZvciBiYWNrLWNvbXBhdGliaWxpdHkgcHVycG9zZXMgdGhpcyBtb2R1bGUgd2lsbCByZW1haW4gYXMgYSBkaXJlY3QgYWxpYXMgdG8gYE1hdHRlci5Db21wb3NpdGVgIGluIHRoZSBzaG9ydCB0ZXJtIGR1cmluZyBtaWdyYXRpb24uXG4qIEV2ZW50dWFsbHkgdGhpcyBhbGlhcyBtb2R1bGUgd2lsbCBiZSBtYXJrZWQgYXMgZGVwcmVjYXRlZCBhbmQgdGhlbiBsYXRlciByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXG4qXG4qIEBjbGFzcyBXb3JsZFxuKi9cblxudmFyIFdvcmxkID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gV29ybGQ7XG5cbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIFNlZSBhYm92ZSwgYWxpYXNlcyBmb3IgYmFjayBjb21wYXRpYmlsaXR5IG9ubHlcbiAgICAgKi9cbiAgICBXb3JsZC5jcmVhdGUgPSBDb21wb3NpdGUuY3JlYXRlO1xuICAgIFdvcmxkLmFkZCA9IENvbXBvc2l0ZS5hZGQ7XG4gICAgV29ybGQucmVtb3ZlID0gQ29tcG9zaXRlLnJlbW92ZTtcbiAgICBXb3JsZC5jbGVhciA9IENvbXBvc2l0ZS5jbGVhcjtcbiAgICBXb3JsZC5hZGRDb21wb3NpdGUgPSBDb21wb3NpdGUuYWRkQ29tcG9zaXRlO1xuICAgIFdvcmxkLmFkZEJvZHkgPSBDb21wb3NpdGUuYWRkQm9keTtcbiAgICBXb3JsZC5hZGRDb25zdHJhaW50ID0gQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQ7XG5cbn0pKCk7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcbiJdLCJuYW1lcyI6WyJNYXR0ZXIiLCJTSU1VTEFUSU9OX0JPUkRFUlNfQ09MT1IiLCJFbmdpbmUiLCJSZW5kZXIiLCJSdW5uZXIiLCJCb2R5IiwiRXZlbnRzIiwiQ29tcG9zaXRlIiwiQ29tcG9zaXRlcyIsIkNvbW1vbiIsIkJvZGllcyIsIldvcmxkIiwiZ2V0UmFuZG9tQ29sb3IiLCJyZXMiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiQWJzdHJhY3RXYWxsZXQiLCJjb25zdHJ1Y3RvciIsIndhbGxldE93bmVyIiwidGhpcyIsIm93bmVyIiwiY2FzaCIsImdldENhc2hBbW91bnQiLCJjYW5BZmZvcmRJdCIsImFtb3VudCIsImdldFNpemluZ1JhdGlvIiwidXBkYXRlU2l6ZSIsInJhdGlvIiwiaW5jb21lIiwiV2FsbGV0IiwiZGVzdHJveU1vbmV5IiwicGF5IiwidGFyZ2V0IiwiSHVtYW5SZXNvdXJjZXNIYW5kbGVyIiwicGVvcGxlIiwiYXZhaWxhYmxlUGVvcGxlIiwic2xpY2UiLCJidXN5UGVvcGxlIiwiZ2V0UmVjcnVpdCIsImxlbmd0aCIsInJlY3J1aXQiLCJwb3AiLCJwdXNoIiwiZnJlZVJlY3J1aXQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwiQWRtaW5TZXJ2aWNlIiwiY29tcGFueSIsImFIdW1hblJlc291cmNlc0hhbmRsZXIiLCJtYXhFbXBsb3llZXMiLCJodW1hblJlc291cmNlc0hhbmRsZXIiLCJlbXBsb3llZXMiLCJwYXlFbXBsb3llZXMiLCJzYWxhcnkiLCJ0b0ZpcmUiLCJmaXJlQW5FbXBsb3llZSIsIndhbGxldCIsInJlY3J1aXRBbkVtcGxveWVlIiwiRW50aXR5IiwibWF0dGVyU2hhcGUiLCJzaGFwZSIsInNwZWVkIiwic2NhbGUiLCJzZXRDb2xvciIsImNvbG9yIiwicmVuZGVyIiwiZmlsbFN0eWxlIiwic2V0U3BlZWQiLCJ1cGRhdGVTcGVlZCIsIlBlcnNvbiIsIkNvbXBhbnkiLCJzdXBlciIsIkJhbmsiLCJtb2R1bGUiLCJleHBvcnRzIiwiT3JnYW5pY1dhbGxldCIsInRvdGFsIiwiY3JlYXRlRGFpbHlNb25leSIsImNicnQiLCJTaW11bGF0aW9uIiwiZWxlbWVudElkIiwibGFzdFRpbWUiLCJub3ciLCJzdGFydGVkIiwicGF1c2VkIiwic3BlZWRzIiwiQ3RvQ1RyYW5zYWN0aW9uQW1vdW50IiwiY291bnRlciIsImVuZ2luZSIsImNyZWF0ZSIsImdyYXZpdHkiLCJ3b3JsZCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyZXIiLCJvcHRpb25zIiwid2lyZWZyYW1lcyIsImJhY2tncm91bmQiLCJoYW5kbGVXaW5kb3dSZXNpemUiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsInN0eWxlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJ1biIsInJ1bm5lciIsImluaXQiLCJzdG9wIiwic3RhcnQiLCJzaGFrZVNjZW5lIiwibG9nVG90YWxDYXNoSW5TaW11bGF0aW9uIiwiZ3JvdXAiLCJyZXN1bHQiLCJjb21wYW5pZXMiLCJncm91cEVuZCIsImFkZEJvcmRlcnMiLCJib2R5U3R5bGUiLCJhZGQiLCJyZWN0YW5nbGUiLCJpc1N0YXRpYyIsImFkZFNwbGl0IiwiYWRkUGVvcGxlIiwicGVvcGxlU3RhY2siLCJzdGFjayIsIngiLCJ5IiwiY2lyY2xlIiwiU0lNVUxBVElPTl9NSU5fU0laRSIsInJlc3RpdHV0aW9uIiwiYm9kaWVzIiwic2V0UGVvcGxlQ2FwaXRhbCIsImNhcGl0YWwiLCJjYWxjdWxhdGVkQ2FwaXRhbCIsInJvdW5kIiwic2V0UGVvcGxlQ29sb3IiLCJnZXRDb2xvciIsInNldFBlb3BsZVNwZWVkIiwiciIsIm9uIiwiZXZlbnQiLCJhbGxCb2RpZXMiLCJib2R5IiwiZm9yY2VNYWduaXR1ZGUiLCJtYXNzIiwiYXBwbHlGb3JjZSIsInBvc2l0aW9uIiwiY2hvb3NlIiwic2V0UGVvcGxlVHJhbnNhY3Rpb25zT24iLCJjdG9jQW1vdW50IiwicGFpcnMiLCJwYWlyIiwiYm9keUEiLCJsYWJlbCIsImJvZHlCIiwiQSIsIkIiLCJhZGRDb21wYW5pZXMiLCJuIiwiY29tcGFueVN0YWNrIiwic2V0Q29tcGFuaWVzQ2FwaXRhbCIsInNldENvbXBhbmllc1RyYW5zYWN0aW9uT24iLCJidG9iQW1vdW50IiwiY3RvYkFtb3VudCIsIkEyIiwiQjIiLCJzZXRDb21wYW5pZXNTYWxhcmllc09uIiwic2ltdWxhdGlvbiIsImFkbWluU2VydmljZSIsInNldENvbXBhbmllc1NwZWVkIiwiY3VzdG9tU3BlZWQiLCJhZGRCYW5rcyIsImJhbmtTdGFjayIsInBvbHlnb24iLCJiYW5rcyIsInNldEJhbmtzTG9hbk9uIiwib2RkcyIsImxhc3RTZWNvbmQiLCJiYW5rIiwibG9hbiIsInNldEJhbmtzQ29sb3IiLCJzZXRCYW5rc1NwZWVkIiwic2V0QmFua3NDYXBpdGFsIiwic2V0QmFua3NTYWxhcmllc09uIiwiU2ltdWxhdGlvbkhhbmRsZXIiLCJzaW11bGF0aW9ucyIsIm5hbWUiLCJiaW5kU2ltdWxhdGlvblRvQnV0dG9ucyIsInByZXZlbnREZWZhdWx0IiwiZmFjdG9yeSIsIm1vZHVsZXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwibW9kdWxlSWQiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJrZXkiLCJiaW5kIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2Jhc2VEZWx0YSIsIl9uZXh0SWQiLCJfc2VlZCIsIl9ub3dTdGFydFRpbWUiLCJEYXRlIiwiX3dhcm5lZE9uY2UiLCJfZGVjb21wIiwiZXh0ZW5kIiwib2JqIiwiZGVlcCIsImFyZ3NTdGFydCIsImRlZXBDbG9uZSIsImFyZ3VtZW50cyIsInNvdXJjZSIsInByb3AiLCJjbG9uZSIsImtleXMiLCJ2YWx1ZXMiLCJwYXRoIiwiYmVnaW4iLCJlbmQiLCJzcGxpdCIsInNldCIsInZhbCIsInBhcnRzIiwic2h1ZmZsZSIsImFycmF5IiwiaiIsInRlbXAiLCJjaG9pY2VzIiwiaXNFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwiaXNBcnJheSIsInRvU3RyaW5nIiwiaXNGdW5jdGlvbiIsImlzUGxhaW5PYmplY3QiLCJpc1N0cmluZyIsImNsYW1wIiwibWluIiwibWF4Iiwic2lnbiIsInBlcmZvcm1hbmNlIiwid2Via2l0Tm93IiwiX3NlZWRlZFJhbmRvbSIsImNvbG9yVG9OdW1iZXIiLCJjb2xvclN0cmluZyIsInJlcGxhY2UiLCJjaGFyQXQiLCJwYXJzZUludCIsImxvZ0xldmVsIiwiYXBwbHkiLCJjb25jYXQiLCJBcnJheSIsImluZm8iLCJ3YXJuIiwid2Fybk9uY2UiLCJtZXNzYWdlIiwiam9pbiIsImRlcHJlY2F0ZWQiLCJ3YXJuaW5nIiwiY2hhaW4iLCJuZXh0SWQiLCJoYXlzdGFjayIsIm5lZWRsZSIsIm1hcCIsImxpc3QiLCJmdW5jIiwibWFwcGVkIiwidG9wb2xvZ2ljYWxTb3J0IiwiZ3JhcGgiLCJ2aXNpdGVkIiwibm9kZSIsIl90b3BvbG9naWNhbFNvcnQiLCJuZWlnaGJvcnMiLCJuZWlnaGJvciIsImZ1bmNzIiwiX2NoYWluZWQiLCJsYXN0UmVzdWx0IiwiYXJncyIsImNoYWluUGF0aEJlZm9yZSIsImJhc2UiLCJjaGFpblBhdGhBZnRlciIsInNldERlY29tcCIsImRlY29tcCIsImdldERlY29tcCIsImciLCJlIiwiQm91bmRzIiwidmVydGljZXMiLCJib3VuZHMiLCJ1cGRhdGUiLCJ2ZWxvY2l0eSIsIkluZmluaXR5IiwidmVydGV4IiwiY29udGFpbnMiLCJwb2ludCIsIm92ZXJsYXBzIiwiYm91bmRzQSIsImJvdW5kc0IiLCJ0cmFuc2xhdGUiLCJ2ZWN0b3IiLCJzaGlmdCIsImRlbHRhWCIsImRlbHRhWSIsIlZlY3RvciIsIm1hZ25pdHVkZSIsInNxcnQiLCJtYWduaXR1ZGVTcXVhcmVkIiwicm90YXRlIiwiYW5nbGUiLCJvdXRwdXQiLCJjb3MiLCJzaW4iLCJyb3RhdGVBYm91dCIsIm5vcm1hbGlzZSIsImRvdCIsInZlY3RvckEiLCJ2ZWN0b3JCIiwiY3Jvc3MiLCJjcm9zczMiLCJ2ZWN0b3JDIiwic3ViIiwibXVsdCIsInNjYWxhciIsImRpdiIsInBlcnAiLCJuZWdhdGUiLCJuZWciLCJhdGFuMiIsIl90ZW1wIiwiVmVydGljZXMiLCJwb2ludHMiLCJpc0ludGVybmFsIiwiZnJvbVBhdGgiLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJjZW50cmUiLCJhcmVhIiwibWVhbiIsImF2ZXJhZ2UiLCJzaWduZWQiLCJhYnMiLCJpbmVydGlhIiwibnVtZXJhdG9yIiwiZGVub21pbmF0b3IiLCJ2IiwidmVydGljZXNMZW5ndGgiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsImR4IiwiZHkiLCJwb2ludFgiLCJwb2ludFkiLCJuZXh0VmVydGV4Iiwic2NhbGVYIiwic2NhbGVZIiwiZGVsdGEiLCJjaGFtZmVyIiwicmFkaXVzIiwicXVhbGl0eSIsInF1YWxpdHlNaW4iLCJxdWFsaXR5TWF4IiwibmV3VmVydGljZXMiLCJwcmV2VmVydGV4IiwiY3VycmVudFJhZGl1cyIsInByZXZOb3JtYWwiLCJuZXh0Tm9ybWFsIiwiZGlhZ29uYWxSYWRpdXMiLCJwb3ciLCJyYWRpdXNWZWN0b3IiLCJtaWROb3JtYWwiLCJzY2FsZWRWZXJ0ZXgiLCJwcmVjaXNpb24iLCJ0aGV0YSIsImFjb3MiLCJjbG9ja3dpc2VTb3J0Iiwic29ydCIsInZlcnRleEEiLCJ2ZXJ0ZXhCIiwiaXNDb252ZXgiLCJrIiwieiIsImZsYWciLCJodWxsIiwidXBwZXIiLCJsb3dlciIsIlNsZWVwaW5nIiwiQXhlcyIsIl90aW1lQ29ycmVjdGlvbiIsIl9pbmVydGlhU2NhbGUiLCJfbmV4dENvbGxpZGluZ0dyb3VwSWQiLCJfbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQiLCJfbmV4dENhdGVnb3J5IiwiZGVmYXVsdHMiLCJpZCIsInR5cGUiLCJwbHVnaW4iLCJmb3JjZSIsInRvcnF1ZSIsInBvc2l0aW9uSW1wdWxzZSIsImNvbnN0cmFpbnRJbXB1bHNlIiwidG90YWxDb250YWN0cyIsImFuZ3VsYXJTcGVlZCIsImFuZ3VsYXJWZWxvY2l0eSIsImlzU2Vuc29yIiwiaXNTbGVlcGluZyIsIm1vdGlvbiIsInNsZWVwVGhyZXNob2xkIiwiZGVuc2l0eSIsImZyaWN0aW9uIiwiZnJpY3Rpb25TdGF0aWMiLCJmcmljdGlvbkFpciIsImNvbGxpc2lvbkZpbHRlciIsImNhdGVnb3J5IiwibWFzayIsInNsb3AiLCJ0aW1lU2NhbGUiLCJ2aXNpYmxlIiwib3BhY2l0eSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3ByaXRlIiwieFNjYWxlIiwieVNjYWxlIiwieE9mZnNldCIsInlPZmZzZXQiLCJldmVudHMiLCJjaXJjbGVSYWRpdXMiLCJwb3NpdGlvblByZXYiLCJhbmdsZVByZXYiLCJwYXJlbnQiLCJheGVzIiwiZGVsdGFUaW1lIiwiX29yaWdpbmFsIiwiX2luaXRQcm9wZXJ0aWVzIiwibmV4dEdyb3VwIiwiaXNOb25Db2xsaWRpbmciLCJuZXh0Q2F0ZWdvcnkiLCJkZWZhdWx0RmlsbFN0eWxlIiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiZGVmYXVsdExpbmVXaWR0aCIsInNldHRpbmdzIiwic2V0U3RhdGljIiwic2V0TWFzcyIsInNldERlbnNpdHkiLCJzZXRJbmVydGlhIiwic2V0VmVydGljZXMiLCJzZXRQb3NpdGlvbiIsInNldEFuZ2xlIiwic2V0VmVsb2NpdHkiLCJzZXRBbmd1bGFyVmVsb2NpdHkiLCJzZXRBbmd1bGFyU3BlZWQiLCJzZXRQYXJ0cyIsInNldENlbnRyZSIsInBhcnQiLCJpbnZlcnNlTWFzcyIsImludmVyc2VJbmVydGlhIiwibW9tZW50IiwiZnJvbVZlcnRpY2VzIiwiYXV0b0h1bGwiLCJodWxsQ2VudHJlIiwiX3RvdGFsUHJvcGVydGllcyIsInJlbGF0aXZlIiwidXBkYXRlVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsImdldFNwZWVkIiwiZ2V0QW5ndWxhclZlbG9jaXR5IiwiZ2V0QW5ndWxhclNwZWVkIiwidHJhbnNsYXRpb24iLCJyb3RhdGlvbiIsInRvdGFsQXJlYSIsInRvdGFsSW5lcnRpYSIsImRlbHRhVGltZVNxdWFyZWQiLCJjb3JyZWN0aW9uIiwidmVsb2NpdHlQcmV2WCIsInZlbG9jaXR5UHJldlkiLCJ1cGRhdGVWZWxvY2l0aWVzIiwiYm9keVZlbG9jaXR5Iiwib2Zmc2V0IiwicHJvcGVydGllcyIsImV2ZW50TmFtZXMiLCJjYWxsYmFjayIsIm5hbWVzIiwib2ZmIiwiY2FsbGJhY2tzIiwibmV3Q2FsbGJhY2tzIiwidHJpZ2dlciIsImV2ZW50Q2xvbmUiLCJpc01vZGlmaWVkIiwiY29uc3RyYWludHMiLCJjb21wb3NpdGVzIiwiY2FjaGUiLCJhbGxDb25zdHJhaW50cyIsImFsbENvbXBvc2l0ZXMiLCJzZXRNb2RpZmllZCIsImNvbXBvc2l0ZSIsInVwZGF0ZVBhcmVudHMiLCJ1cGRhdGVDaGlsZHJlbiIsImNoaWxkQ29tcG9zaXRlIiwib2JqZWN0cyIsImFkZEJvZHkiLCJhZGRDb25zdHJhaW50IiwiYWRkQ29tcG9zaXRlIiwiY29uc3RyYWludCIsInJlbW92ZSIsInJlbW92ZUJvZHkiLCJyZW1vdmVDb25zdHJhaW50IiwicmVtb3ZlQ29tcG9zaXRlIiwiY29tcG9zaXRlQSIsImNvbXBvc2l0ZUIiLCJyZW1vdmVDb21wb3NpdGVBdCIsInNsZWVwQ291bnRlciIsInJlbW92ZUJvZHlBdCIsInJlbW92ZUNvbnN0cmFpbnRBdCIsImNsZWFyIiwia2VlcFN0YXRpYyIsImZpbHRlciIsIm1vdmUiLCJyZWJhc2UiLCJyZWN1cnNpdmUiLCJfbW90aW9uV2FrZVRocmVzaG9sZCIsIl9tb3Rpb25TbGVlcFRocmVzaG9sZCIsIl9taW5CaWFzIiwibW90aW9uU2xlZXBUaHJlc2hvbGQiLCJtaW5Nb3Rpb24iLCJtYXhNb3Rpb24iLCJhZnRlckNvbGxpc2lvbnMiLCJpc0FjdGl2ZSIsImNvbGxpc2lvbiIsInNsZWVwaW5nQm9keSIsIm1vdmluZ0JvZHkiLCJ3YXNTbGVlcGluZyIsIkNvbGxpc2lvbiIsIl9zdXBwb3J0cyIsIl9vdmVybGFwQUIiLCJfb3ZlcmxhcEJBIiwiUGFpciIsIm92ZXJsYXAiLCJheGlzIiwiY29sbGlkZWQiLCJwYXJlbnRBIiwicGFyZW50QiIsImRlcHRoIiwibm9ybWFsIiwidGFuZ2VudCIsInBlbmV0cmF0aW9uIiwic3VwcG9ydHMiLCJzdXBwb3J0Q291bnQiLCJjb2xsaWRlcyIsIl9vdmVybGFwQXhlcyIsIm1pbk92ZXJsYXAiLCJ0YWJsZSIsIm1pbkF4aXMiLCJub3JtYWxYIiwibm9ybWFsWSIsInN1cHBvcnRzQiIsIl9maW5kU3VwcG9ydHMiLCJzdXBwb3J0c0EiLCJ2ZXJ0aWNlc0EiLCJ2ZXJ0aWNlc0IiLCJvdmVybGFwQUIiLCJvdmVybGFwQkEiLCJ2ZXJ0aWNlc0FMZW5ndGgiLCJ2ZXJ0aWNlc0JMZW5ndGgiLCJ2ZXJ0aWNlc0FYIiwidmVydGljZXNBWSIsInZlcnRpY2VzQlgiLCJ2ZXJ0aWNlc0JZIiwiYXhlc0xlbmd0aCIsIm92ZXJsYXBNaW4iLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJvdmVybGFwQXhpc051bWJlciIsImF4aXNYIiwiYXhpc1kiLCJtaW5BIiwibWluQiIsIm1heEEiLCJtYXhCIiwiZGlyZWN0aW9uIiwidmVydGV4QyIsImRpc3RhbmNlIiwiYm9keUFQb3NpdGlvblgiLCJib2R5QVBvc2l0aW9uWSIsIm5lYXJlc3REaXN0YW5jZSIsIkNvbnRhY3QiLCJ0aW1lc3RhbXAiLCJjb250YWN0cyIsImNvbnRhY3RDb3VudCIsInNlcGFyYXRpb24iLCJ0aW1lQ3JlYXRlZCIsInRpbWVVcGRhdGVkIiwic3VwcG9ydEEiLCJjb250YWN0QSIsInN1cHBvcnRCIiwiY29udGFjdEIiLCJzZXRBY3RpdmUiLCJDb25zdHJhaW50IiwiX3dhcm1pbmciLCJfdG9ycXVlRGFtcGVuIiwiX21pbkxlbmd0aCIsInBvaW50QSIsInBvaW50QiIsImluaXRpYWxQb2ludEEiLCJpbml0aWFsUG9pbnRCIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsImFuZ3VsYXJTdGlmZm5lc3MiLCJhbmdsZUEiLCJhbmdsZUIiLCJhbmNob3JzIiwicHJlU29sdmVBbGwiLCJpbXB1bHNlIiwic29sdmVBbGwiLCJmaXhlZEEiLCJmaXhlZEIiLCJzb2x2ZSIsInBvaW50QVdvcmxkIiwicG9pbnRCV29ybGQiLCJjdXJyZW50TGVuZ3RoIiwic2hhcmUiLCJub3JtYWxWZWxvY2l0eSIsInJlbGF0aXZlVmVsb2NpdHkiLCJkaWZmZXJlbmNlIiwibWFzc1RvdGFsIiwicmVzaXN0YW5jZVRvdGFsIiwiemVybyIsInBvc3RTb2x2ZUFsbCIsInBvaW50QVgiLCJwb2ludEFZIiwiZ3JhZGllbnQiLCJ0b0ZpeGVkIiwieHgiLCJ0cmFwZXpvaWQiLCJzbG9wZSIsInZlcnRpY2VzUGF0aCIsIngxIiwieDIiLCJ4MyIsIm1heFNpZGVzIiwic2lkZXMiLCJjZWlsIiwiUEkiLCJ5eSIsInZlcnRleFNldHMiLCJmbGFnSW50ZXJuYWwiLCJyZW1vdmVDb2xsaW5lYXIiLCJtaW5pbXVtQXJlYSIsInJlbW92ZUR1cGxpY2F0ZVBvaW50cyIsImNhbkRlY29tcCIsIkJvb2xlYW4iLCJxdWlja0RlY29tcCIsImNvbmNhdmUiLCJtYWtlQ0NXIiwicmVtb3ZlQ29sbGluZWFyUG9pbnRzIiwiZGVjb21wb3NlZCIsImNodW5rVmVydGljZXMiLCJwYXJ0QSIsInBhcnRCIiwicGF2IiwicGJ2IiwiZGEiLCJkYiIsIkRldGVjdG9yIiwiY29sbGlzaW9ucyIsInNldEJvZGllcyIsImRldGVjdG9yIiwiYm9kaWVzTGVuZ3RoIiwiY2FuQ29sbGlkZSIsImNvbGxpc2lvbkluZGV4IiwiX2NvbXBhcmVCb3VuZHNYIiwiYm91bmRYTWF4IiwiYm91bmRZTWF4IiwiYm91bmRZTWluIiwiYm9keUFTdGF0aWMiLCJwYXJ0c0FMZW5ndGgiLCJwYXJ0c0FTaW5nbGUiLCJwYXJ0c0JMZW5ndGgiLCJwYXJ0c0JTdGFydCIsImZpbHRlckEiLCJmaWx0ZXJCIiwiTW91c2UiLCJtb3VzZSIsImFic29sdXRlIiwibW91c2Vkb3duUG9zaXRpb24iLCJtb3VzZXVwUG9zaXRpb24iLCJ3aGVlbERlbHRhIiwiYnV0dG9uIiwicGl4ZWxSYXRpbyIsImdldEF0dHJpYnV0ZSIsInNvdXJjZUV2ZW50cyIsIm1vdXNlbW92ZSIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZXdoZWVsIiwiX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwiZGV0YWlsIiwic2V0RWxlbWVudCIsInBhc3NpdmUiLCJjbGVhclNvdXJjZUV2ZW50cyIsInNldE9mZnNldCIsInNldFNjYWxlIiwiZWxlbWVudEJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJvb3ROb2RlIiwiZG9jdW1lbnRFbGVtZW50IiwicGFyZW50Tm9kZSIsInNjcm9sbFgiLCJ1bmRlZmluZWQiLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJ0b3VjaGVzIiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJQbHVnaW4iLCJfcmVnaXN0cnkiLCJyZWdpc3RlciIsImlzUGx1Z2luIiwicmVnaXN0ZXJlZCIsInBsdWdpblZlcnNpb24iLCJ2ZXJzaW9uUGFyc2UiLCJ2ZXJzaW9uIiwibnVtYmVyIiwicmVnaXN0ZXJlZFZlcnNpb24iLCJyZXNvbHZlIiwiZGVwZW5kZW5jeSIsImRlcGVuZGVuY3lQYXJzZSIsInJhbmdlIiwiaW5zdGFsbCIsImlzVXNlZCIsInVzZWQiLCJpc0ZvciIsInBhcnNlZCIsImZvciIsInZlcnNpb25TYXRpc2ZpZXMiLCJ1c2UiLCJwbHVnaW5zIiwidXNlcyIsImRlcGVuZGVuY2llcyIsInNvcnRlZERlcGVuZGVuY2llcyIsInN0YXR1cyIsIl93YXJuZWQiLCJ0cmFja2VkIiwicGFyc2VkQmFzZSIsInJlc29sdmVkIiwidGVzdCIsInBhdHRlcm4iLCJleGVjIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwiaXNSYW5nZSIsIm9wZXJhdG9yIiwicHJlcmVsZWFzZSIsIm5vcm1hbEltcHVsc2UiLCJ0YW5nZW50SW1wdWxzZSIsIlJlc29sdmVyIiwiUGFpcnMiLCJfZGVsdGFNYXgiLCJwb3NpdGlvbkl0ZXJhdGlvbnMiLCJ2ZWxvY2l0eUl0ZXJhdGlvbnMiLCJjb25zdHJhaW50SXRlcmF0aW9ucyIsImVuYWJsZVNsZWVwaW5nIiwidGltaW5nIiwibGFzdERlbHRhIiwibGFzdEVsYXBzZWQiLCJsYXN0VXBkYXRlc1BlckZyYW1lIiwiZ3JpZCIsImJ1Y2tldHMiLCJicm9hZHBoYXNlIiwibWV0cmljcyIsInN0YXJ0VGltZSIsIl9ib2RpZXNBcHBseUdyYXZpdHkiLCJfYm9kaWVzVXBkYXRlIiwiY29sbGlzaW9uU3RhcnQiLCJwb3NpdGlvbkRhbXBpbmciLCJwcmVTb2x2ZVBvc2l0aW9uIiwic29sdmVQb3NpdGlvbiIsInBvc3RTb2x2ZVBvc2l0aW9uIiwicHJlU29sdmVWZWxvY2l0eSIsInNvbHZlVmVsb2NpdHkiLCJfYm9kaWVzVXBkYXRlVmVsb2NpdGllcyIsImNvbGxpc2lvbkFjdGl2ZSIsImNvbGxpc2lvbkVuZCIsIl9ib2RpZXNDbGVhckZvcmNlcyIsIm1lcmdlIiwiZW5naW5lQSIsImVuZ2luZUIiLCJncmF2aXR5U2NhbGUiLCJfcmVzdGluZ1RocmVzaCIsIl9yZXN0aW5nVGhyZXNoVGFuZ2VudCIsIl9wb3NpdGlvbkRhbXBlbiIsIl9wb3NpdGlvbldhcm1pbmciLCJfZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyIiwiX2ZyaWN0aW9uTWF4U3RhdGljIiwicGFpcnNMZW5ndGgiLCJjb250YWN0U2hhcmUiLCJwb3NpdGlvbkRhbXBlbiIsInNsb3BEYW1wZW4iLCJwb3NpdGlvbldhcm1pbmciLCJ2ZXJ0aWNlc1RyYW5zbGF0ZSIsImJvdW5kc1VwZGF0ZSIsInBvc2l0aW9uSW1wdWxzZVgiLCJwb3NpdGlvbkltcHVsc2VZIiwiY29udGFjdCIsImNvbnRhY3RWZXJ0ZXgiLCJpbXB1bHNlWCIsImltcHVsc2VZIiwibWF4RnJpY3Rpb24iLCJ0aW1lU2NhbGVDdWJlZCIsInJlc3RpbmdUaHJlc2giLCJyZXN0aW5nVGhyZXNoVGFuZ2VudCIsImZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciIsImZyaWN0aW9uTWF4U3RhdGljIiwidGFuZ2VudFgiLCJ0YW5nZW50WSIsImludmVyc2VNYXNzVG90YWwiLCJib2R5QVZlbG9jaXR5WCIsImJvZHlBVmVsb2NpdHlZIiwiYm9keUFBbmd1bGFyVmVsb2NpdHkiLCJib2R5QlZlbG9jaXR5WCIsImJvZHlCVmVsb2NpdHlZIiwiYm9keUJBbmd1bGFyVmVsb2NpdHkiLCJvZmZzZXRBWCIsIm9mZnNldEFZIiwib2Zmc2V0QlgiLCJvZmZzZXRCWSIsInJlbGF0aXZlVmVsb2NpdHlYIiwicmVsYXRpdmVWZWxvY2l0eVkiLCJ0YW5nZW50VmVsb2NpdHkiLCJub3JtYWxPdmVybGFwIiwibm9ybWFsRm9yY2UiLCJmcmljdGlvbkxpbWl0Iiwib0FjTiIsIm9CY04iLCJjb250YWN0Tm9ybWFsSW1wdWxzZSIsImNvbnRhY3RUYW5nZW50SW1wdWxzZSIsInBhaXJVcGRhdGUiLCJwYWlyQ3JlYXRlIiwicGFpclNldEFjdGl2ZSIsInBhaXJzVGFibGUiLCJwYWlyc0xpc3QiLCJwYWlyc0xpc3RMZW5ndGgiLCJwYWlyc0xpc3RJbmRleCIsImNvbGxpc2lvbnNMZW5ndGgiLCJjb2xsaXNpb25TdGFydEluZGV4IiwiY29sbGlzaW9uRW5kSW5kZXgiLCJjb2xsaXNpb25BY3RpdmVJbmRleCIsIkdyaWQiLCJNb3VzZUNvbnN0cmFpbnQiLCJRdWVyeSIsIlNBVCIsIlN2ZyIsImJlZm9yZSIsImFmdGVyIiwiY29sdW1ucyIsInJvd3MiLCJjb2x1bW5HYXAiLCJyb3dHYXAiLCJsYXN0Qm9keSIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJyb3ciLCJtYXhIZWlnaHQiLCJjb2x1bW4iLCJib2R5SGVpZ2h0IiwiYm9keVdpZHRoIiwieE9mZnNldEEiLCJ5T2Zmc2V0QSIsInhPZmZzZXRCIiwieU9mZnNldEIiLCJib2R5QUhlaWdodCIsImJvZHlBV2lkdGgiLCJib2R5QkhlaWdodCIsIm1lc2giLCJjcm9zc0JyYWNlIiwiY29sIiwiYm9keUMiLCJweXJhbWlkIiwic3RhY2tYIiwic3RhY2tZIiwiYWN0dWFsUm93cyIsImxhc3RCb2R5V2lkdGgiLCJuZXd0b25zQ3JhZGxlIiwic2l6ZSIsImNhciIsIndoZWVsU2l6ZSIsIndoZWVsQU9mZnNldCIsIndoZWVsQk9mZnNldCIsIndoZWVsQSIsIndoZWVsQiIsImF4ZWxBIiwiYXhlbEIiLCJzb2Z0Qm9keSIsInBhcnRpY2xlUmFkaXVzIiwicGFydGljbGVPcHRpb25zIiwiY29uc3RyYWludE9wdGlvbnMiLCJidWNrZXRXaWR0aCIsImJ1Y2tldEhlaWdodCIsImZvcmNlVXBkYXRlIiwiYnVja2V0IiwiYnVja2V0SWQiLCJncmlkQ2hhbmdlZCIsIm5ld1JlZ2lvbiIsIl9nZXRSZWdpb24iLCJyZWdpb24iLCJ1bmlvbiIsIl9yZWdpb25VbmlvbiIsInN0YXJ0Q29sIiwiZW5kQ29sIiwic3RhcnRSb3ciLCJlbmRSb3ciLCJfZ2V0QnVja2V0SWQiLCJpc0luc2lkZU5ld1JlZ2lvbiIsImlzSW5zaWRlT2xkUmVnaW9uIiwiX2J1Y2tldFJlbW92ZUJvZHkiLCJfY3JlYXRlQnVja2V0IiwiX2J1Y2tldEFkZEJvZHkiLCJfY3JlYXRlQWN0aXZlUGFpcnNMaXN0IiwicmVnaW9uQSIsInJlZ2lvbkIiLCJfY3JlYXRlUmVnaW9uIiwiZ3JpZFBhaXJzIiwicGFpcklkIiwiYnVja2V0TGVuZ3RoIiwicGFpcktleXMiLCJwYWlyS2V5c0xlbmd0aCIsIm1vdXNlQ29uc3RyYWludCIsIl90cmlnZ2VyRXZlbnRzIiwibW91c2VFdmVudHMiLCJwYXJ0c0FTdGFydCIsInJheSIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsInJheVdpZHRoIiwicmF5QW5nbGUiLCJyYXlMZW5ndGgiLCJyYXlYIiwicmF5WSIsIm91dHNpZGUiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX2NhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsIl9nb29kRnBzIiwiX2dvb2REZWx0YSIsImZyYW1lUmVxdWVzdElkIiwiaGlzdG9yeVNpemUiLCJkZWx0YUhpc3RvcnkiLCJsYXN0VGltZXN0YW1wIiwidGltZXN0YW1wRWxhcHNlZCIsInRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5IiwiZW5naW5lRGVsdGFIaXN0b3J5IiwiZW5naW5lRWxhcHNlZEhpc3RvcnkiLCJlbmdpbmVVcGRhdGVzSGlzdG9yeSIsImVsYXBzZWRIaXN0b3J5Iiwid2lyZWZyYW1lQmFja2dyb3VuZCIsIndpcmVmcmFtZVN0cm9rZVN0eWxlIiwiaGFzQm91bmRzIiwiZW5hYmxlZCIsInNob3dTbGVlcGluZyIsInNob3dEZWJ1ZyIsInNob3dTdGF0cyIsInNob3dQZXJmb3JtYW5jZSIsInNob3dCb3VuZHMiLCJzaG93VmVsb2NpdHkiLCJzaG93Q29sbGlzaW9ucyIsInNob3dTZXBhcmF0aW9ucyIsInNob3dBeGVzIiwic2hvd1Bvc2l0aW9ucyIsInNob3dBbmdsZUluZGljYXRvciIsInNob3dJZHMiLCJzaG93VmVydGV4TnVtYmVycyIsInNob3dDb252ZXhIdWxscyIsInNob3dJbnRlcm5hbEVkZ2VzIiwic2hvd01vdXNlUG9zaXRpb24iLCJfY3JlYXRlQ2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJ0ZXh0dXJlcyIsImNvbnRyb2xsZXIiLCJzaG93QnJvYWRwaGFzZSIsInNldFBpeGVsUmF0aW8iLCJhcHBlbmRDaGlsZCIsImxvb3AiLCJ0aW1lIiwiX3VwZGF0ZVRpbWluZyIsInNldFRyYW5zZm9ybSIsInN0YXRzIiwiX2dldFBpeGVsUmF0aW8iLCJzZXRBdHRyaWJ1dGUiLCJzZXRTaXplIiwibG9va0F0IiwicGFkZGluZyIsImNlbnRlciIsInZpZXdIZWlnaHQiLCJvdXRlclJhdGlvIiwiaW5uZXJSYXRpbyIsInN0YXJ0Vmlld1RyYW5zZm9ybSIsImJvdW5kc1dpZHRoIiwiYm91bmRzSGVpZ2h0IiwiYm91bmRzU2NhbGVYIiwiYm91bmRzU2NhbGVZIiwiZW5kVmlld1RyYW5zZm9ybSIsImN1cnJlbnRCYWNrZ3JvdW5kIiwiX2FwcGx5QmFja2dyb3VuZCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxSZWN0IiwiYm9keUNvbnZleEh1bGxzIiwiYm9keVdpcmVmcmFtZXMiLCJib2R5Qm91bmRzIiwiYm9keUF4ZXMiLCJib2R5UG9zaXRpb25zIiwiYm9keUlkcyIsInNlcGFyYXRpb25zIiwidmVydGV4TnVtYmVycyIsIm1vdXNlUG9zaXRpb24iLCJzZWN0aW9ucyIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJ0ZXh0QWxpZ24iLCJzZWN0aW9uIiwiZmlsbFRleHQiLCJsYXN0RW5naW5lVXBkYXRlc1BlckZyYW1lIiwibGFzdEVuZ2luZURlbHRhIiwiZGVsdGFNZWFuIiwiX21lYW4iLCJlbGFwc2VkTWVhbiIsImVuZ2luZURlbHRhTWVhbiIsImVuZ2luZVVwZGF0ZXNNZWFuIiwiZW5naW5lRWxhcHNlZE1lYW4iLCJyYXRlTWVhbiIsIm5lZWRlZFVwZGF0ZXNQZXJGcmFtZSIsImZwcyIsImdhcCIsImNvdW50IiwiaW5kaWNhdG9yIiwicGxvdFkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJhcmMiLCJjbG9zZVBhdGgiLCJjb2lscyIsImZpbGwiLCJnbG9iYWxBbHBoYSIsInRleHR1cmUiLCJfZ2V0VGV4dHVyZSIsImRyYXdJbWFnZSIsInJlY3QiLCJub3JtYWxQb3NYIiwibm9ybWFsUG9zWSIsImluc3BlY3RvciIsInNlbGVjdGVkIiwiaXRlbSIsImRhdGEiLCJzZXRMaW5lRGFzaCIsInNlbGVjdFN0YXJ0Iiwic2VsZWN0Qm91bmRzIiwiY3JlYXRlRWxlbWVudCIsIm9uY29udGV4dG1lbnUiLCJvbnNlbGVjdHN0YXJ0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiaW1hZ2VQYXRoIiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsImNzc0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kU2l6ZSIsIl9tYXhGcmFtZURlbHRhIiwiX2ZyYW1lRGVsdGFGYWxsYmFjayIsIl90aW1lQnVmZmVyTWFyZ2luIiwiX2VsYXBzZWROZXh0RXN0aW1hdGUiLCJfc21vb3RoaW5nTG93ZXJCb3VuZCIsIl9zbW9vdGhpbmdVcHBlckJvdW5kIiwiZnJhbWVEZWx0YSIsImZyYW1lRGVsdGFTbW9vdGhpbmciLCJmcmFtZURlbHRhU25hcHBpbmciLCJmcmFtZURlbHRhSGlzdG9yeSIsImZyYW1lRGVsdGFIaXN0b3J5U2l6ZSIsInRpbWVCdWZmZXIiLCJ0aW1lTGFzdFRpY2siLCJtYXhVcGRhdGVzIiwibWF4RnJhbWVUaW1lIiwibGFzdFVwZGF0ZXNEZWZlcnJlZCIsIm9uRnJhbWUiLCJfb25OZXh0RnJhbWUiLCJ0aWNrIiwidGlja1N0YXJ0VGltZSIsImVuZ2luZURlbHRhIiwidXBkYXRlQ291bnQiLCJkZWx0YUhpc3RvcnlTb3J0ZWQiLCJkZWx0YUhpc3RvcnlXaW5kb3ciLCJ1cGRhdGVTdGFydFRpbWUiLCJlbGFwc2VkVGltZVRvdGFsIiwiZWxhcHNlZFRpbWVVcGRhdGVzIiwiZWxhcHNlZE5leHRFc3RpbWF0ZSIsImlzRml4ZWQiLCJkZWx0YU1pbiIsImRlbHRhTWF4IiwiX2NhbmNlbE5leHRGcmFtZSIsIkVycm9yIiwidmFsdWVzTGVuZ3RoIiwicGF0aFRvVmVydGljZXMiLCJzYW1wbGVMZW5ndGgiLCJpbCIsInNlZ21lbnQiLCJzZWdtZW50cyIsInNlZ21lbnRzUXVldWUiLCJsYXN0U2VnbWVudCIsImxhc3RQb2ludCIsImx4IiwibHkiLCJhZGRQb2ludCIsInB4IiwicHkiLCJwYXRoU2VnVHlwZSIsImlzUmVsYXRpdmUiLCJhZGRTZWdtZW50UG9pbnQiLCJzZWdUeXBlIiwicGF0aFNlZ1R5cGVBc0xldHRlciIsInRvVXBwZXJDYXNlIiwiX3N2Z1BhdGhUb0Fic29sdXRlIiwiZ2V0VG90YWxMZW5ndGgiLCJwYXRoU2VnTGlzdCIsIm51bWJlck9mSXRlbXMiLCJnZXRJdGVtIiwiZ2V0UGF0aFNlZ0F0TGVuZ3RoIiwiZ2V0UG9pbnRBdExlbmd0aCIsIngwIiwieTAiLCJ5MSIsInkyIiwic2VncyIsImxlbiIsInNlZyIsInJlcGxhY2VJdGVtIiwiY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b0FicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMiLCJjcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyIsImNyZWF0ZVNWR1BhdGhTZWdBcmNBYnMiLCJyMSIsInIyIiwibGFyZ2VBcmNGbGFnIiwic3dlZXBGbGFnIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==